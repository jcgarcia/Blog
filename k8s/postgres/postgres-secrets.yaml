apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  namespace: blog
  labels:
    app: blog-postgres
type: Opaque
data:
  # Base64 encoded values - these should be replaced with actual encoded credentials
  # To generate: echo -n "your_password" | base64
  POSTGRES_USER: YmxvZ2FkbWlu # blogadmin
  POSTGRES_PASSWORD: YmxvZ3Bhc3N3b3Jk # blogpassword (should be changed)
  POSTGRES_DB: YmxvZw== # blog
  BLOG_DB_PASSWORD: YmxvZ3Bhc3N3b3Jk # blogpassword (should be changed)
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-config
  namespace: blog
  labels:
    app: blog-postgres
data:
  POSTGRES_DB: "blog"
  PGDATA: "/var/lib/postgresql/data/pgdata"
  # PostgreSQL configuration parameters
  shared_preload_libraries: "pg_stat_statements"
  max_connections: "100"
  shared_buffers: "256MB"
  effective_cache_size: "512MB"
  maintenance_work_mem: "64MB"
  checkpoint_completion_target: "0.9"
  wal_buffers: "16MB"
  default_statistics_target: "100"
  random_page_cost: "1.1"
  effective_io_concurrency: "200"