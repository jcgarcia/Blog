var cp=Object.defineProperty;var up=(s,a,o)=>a in s?cp(s,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[a]=o;var ln=(s,a,o)=>up(s,typeof a!="symbol"?a+"":a,o);function dp(s,a){for(var o=0;o<a.length;o++){const l=a[o];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in s)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(s,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Ds(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nl={exports:{}},Ps={},rl={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function fp(){if(kd)return we;kd=1;var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function C(R,E,Z){this.props=R,this.context=E,this.refs=I,this.updater=Z||_}C.prototype.isReactComponent={},C.prototype.setState=function(R,E){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,E,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=C.prototype;function T(R,E,Z){this.props=R,this.context=E,this.refs=I,this.updater=Z||_}var A=T.prototype=new O;A.constructor=T,S(A,C.prototype),A.isPureReactComponent=!0;var M=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function J(R,E,Z){var ne,X={},ee=null,he=null;if(E!=null)for(ne in E.ref!==void 0&&(he=E.ref),E.key!==void 0&&(ee=""+E.key),E)B.call(E,ne)&&!W.hasOwnProperty(ne)&&(X[ne]=E[ne]);var ge=arguments.length-2;if(ge===1)X.children=Z;else if(1<ge){for(var Se=Array(ge),Ye=0;Ye<ge;Ye++)Se[Ye]=arguments[Ye+2];X.children=Se}if(R&&R.defaultProps)for(ne in ge=R.defaultProps,ge)X[ne]===void 0&&(X[ne]=ge[ne]);return{$$typeof:s,type:R,key:ee,ref:he,props:X,_owner:G.current}}function se(R,E){return{$$typeof:s,type:R.type,key:E,ref:R.ref,props:R.props,_owner:R._owner}}function oe(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function xe(R){var E={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return E[Z]})}var je=/\/+/g;function Ae(R,E){return typeof R=="object"&&R!==null&&R.key!=null?xe(""+R.key):E.toString(36)}function Pe(R,E,Z,ne,X){var ee=typeof R;(ee==="undefined"||ee==="boolean")&&(R=null);var he=!1;if(R===null)he=!0;else switch(ee){case"string":case"number":he=!0;break;case"object":switch(R.$$typeof){case s:case a:he=!0}}if(he)return he=R,X=X(he),R=ne===""?"."+Ae(he,0):ne,M(X)?(Z="",R!=null&&(Z=R.replace(je,"$&/")+"/"),Pe(X,E,Z,"",function(Ye){return Ye})):X!=null&&(oe(X)&&(X=se(X,Z+(!X.key||he&&he.key===X.key?"":(""+X.key).replace(je,"$&/")+"/")+R)),E.push(X)),1;if(he=0,ne=ne===""?".":ne+":",M(R))for(var ge=0;ge<R.length;ge++){ee=R[ge];var Se=ne+Ae(ee,ge);he+=Pe(ee,E,Z,Se,X)}else if(Se=w(R),typeof Se=="function")for(R=Se.call(R),ge=0;!(ee=R.next()).done;)ee=ee.value,Se=ne+Ae(ee,ge++),he+=Pe(ee,E,Z,Se,X);else if(ee==="object")throw E=String(R),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return he}function Ge(R,E,Z){if(R==null)return R;var ne=[],X=0;return Pe(R,ne,"","",function(ee){return E.call(Z,ee,X++)}),ne}function Te(R){if(R._status===-1){var E=R._result;E=E(),E.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=E)}if(R._status===1)return R._result.default;throw R._result}var ke={current:null},b={transition:null},H={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:b,ReactCurrentOwner:G};function Q(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ge,forEach:function(R,E,Z){Ge(R,function(){E.apply(this,arguments)},Z)},count:function(R){var E=0;return Ge(R,function(){E++}),E},toArray:function(R){return Ge(R,function(E){return E})||[]},only:function(R){if(!oe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},we.Component=C,we.Fragment=o,we.Profiler=u,we.PureComponent=T,we.StrictMode=l,we.Suspense=x,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,we.act=Q,we.cloneElement=function(R,E,Z){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ne=S({},R.props),X=R.key,ee=R.ref,he=R._owner;if(E!=null){if(E.ref!==void 0&&(ee=E.ref,he=G.current),E.key!==void 0&&(X=""+E.key),R.type&&R.type.defaultProps)var ge=R.type.defaultProps;for(Se in E)B.call(E,Se)&&!W.hasOwnProperty(Se)&&(ne[Se]=E[Se]===void 0&&ge!==void 0?ge[Se]:E[Se])}var Se=arguments.length-2;if(Se===1)ne.children=Z;else if(1<Se){ge=Array(Se);for(var Ye=0;Ye<Se;Ye++)ge[Ye]=arguments[Ye+2];ne.children=ge}return{$$typeof:s,type:R.type,key:X,ref:ee,props:ne,_owner:he}},we.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:d,_context:R},R.Consumer=R},we.createElement=J,we.createFactory=function(R){var E=J.bind(null,R);return E.type=R,E},we.createRef=function(){return{current:null}},we.forwardRef=function(R){return{$$typeof:m,render:R}},we.isValidElement=oe,we.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Te}},we.memo=function(R,E){return{$$typeof:g,type:R,compare:E===void 0?null:E}},we.startTransition=function(R){var E=b.transition;b.transition={};try{R()}finally{b.transition=E}},we.unstable_act=Q,we.useCallback=function(R,E){return ke.current.useCallback(R,E)},we.useContext=function(R){return ke.current.useContext(R)},we.useDebugValue=function(){},we.useDeferredValue=function(R){return ke.current.useDeferredValue(R)},we.useEffect=function(R,E){return ke.current.useEffect(R,E)},we.useId=function(){return ke.current.useId()},we.useImperativeHandle=function(R,E,Z){return ke.current.useImperativeHandle(R,E,Z)},we.useInsertionEffect=function(R,E){return ke.current.useInsertionEffect(R,E)},we.useLayoutEffect=function(R,E){return ke.current.useLayoutEffect(R,E)},we.useMemo=function(R,E){return ke.current.useMemo(R,E)},we.useReducer=function(R,E,Z){return ke.current.useReducer(R,E,Z)},we.useRef=function(R){return ke.current.useRef(R)},we.useState=function(R){return ke.current.useState(R)},we.useSyncExternalStore=function(R,E,Z){return ke.current.useSyncExternalStore(R,E,Z)},we.useTransition=function(){return ke.current.useTransition()},we.version="18.3.1",we}var Cd;function Rl(){return Cd||(Cd=1,rl.exports=fp()),rl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function hp(){if(Ed)return Ps;Ed=1;var s=Rl(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(m,x,g){var y,v={},w=null,_=null;g!==void 0&&(w=""+g),x.key!==void 0&&(w=""+x.key),x.ref!==void 0&&(_=x.ref);for(y in x)l.call(x,y)&&!d.hasOwnProperty(y)&&(v[y]=x[y]);if(m&&m.defaultProps)for(y in x=m.defaultProps,x)v[y]===void 0&&(v[y]=x[y]);return{$$typeof:a,type:m,key:w,ref:_,props:v,_owner:u.current}}return Ps.Fragment=o,Ps.jsx=h,Ps.jsxs=h,Ps}var bd;function mp(){return bd||(bd=1,nl.exports=hp()),nl.exports}var n=mp(),j=Rl();const Ct=Ds(j),pp=dp({__proto__:null,default:Ct},[j]);var ni={},sl={exports:{}},xt={},al={exports:{}},il={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function gp(){return Td||(Td=1,(function(s){function a(b,H){var Q=b.length;b.push(H);e:for(;0<Q;){var R=Q-1>>>1,E=b[R];if(0<u(E,H))b[R]=H,b[Q]=E,Q=R;else break e}}function o(b){return b.length===0?null:b[0]}function l(b){if(b.length===0)return null;var H=b[0],Q=b.pop();if(Q!==H){b[0]=Q;e:for(var R=0,E=b.length,Z=E>>>1;R<Z;){var ne=2*(R+1)-1,X=b[ne],ee=ne+1,he=b[ee];if(0>u(X,Q))ee<E&&0>u(he,X)?(b[R]=he,b[ee]=Q,R=ee):(b[R]=X,b[ne]=Q,R=ne);else if(ee<E&&0>u(he,Q))b[R]=he,b[ee]=Q,R=ee;else break e}}return H}function u(b,H){var Q=b.sortIndex-H.sortIndex;return Q!==0?Q:b.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var x=[],g=[],y=1,v=null,w=3,_=!1,S=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(b){for(var H=o(g);H!==null;){if(H.callback===null)l(g);else if(H.startTime<=b)l(g),H.sortIndex=H.expirationTime,a(x,H);else break;H=o(g)}}function M(b){if(I=!1,A(b),!S)if(o(x)!==null)S=!0,Te(B);else{var H=o(g);H!==null&&ke(M,H.startTime-b)}}function B(b,H){S=!1,I&&(I=!1,O(J),J=-1),_=!0;var Q=w;try{for(A(H),v=o(x);v!==null&&(!(v.expirationTime>H)||b&&!xe());){var R=v.callback;if(typeof R=="function"){v.callback=null,w=v.priorityLevel;var E=R(v.expirationTime<=H);H=s.unstable_now(),typeof E=="function"?v.callback=E:v===o(x)&&l(x),A(H)}else l(x);v=o(x)}if(v!==null)var Z=!0;else{var ne=o(g);ne!==null&&ke(M,ne.startTime-H),Z=!1}return Z}finally{v=null,w=Q,_=!1}}var G=!1,W=null,J=-1,se=5,oe=-1;function xe(){return!(s.unstable_now()-oe<se)}function je(){if(W!==null){var b=s.unstable_now();oe=b;var H=!0;try{H=W(!0,b)}finally{H?Ae():(G=!1,W=null)}}else G=!1}var Ae;if(typeof T=="function")Ae=function(){T(je)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ge=Pe.port2;Pe.port1.onmessage=je,Ae=function(){Ge.postMessage(null)}}else Ae=function(){C(je,0)};function Te(b){W=b,G||(G=!0,Ae())}function ke(b,H){J=C(function(){b(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(b){b.callback=null},s.unstable_continueExecution=function(){S||_||(S=!0,Te(B))},s.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<b?Math.floor(1e3/b):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return o(x)},s.unstable_next=function(b){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var Q=w;w=H;try{return b()}finally{w=Q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(b,H){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Q=w;w=b;try{return H()}finally{w=Q}},s.unstable_scheduleCallback=function(b,H,Q){var R=s.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?R+Q:R):Q=R,b){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Q+E,b={id:y++,callback:H,priorityLevel:b,startTime:Q,expirationTime:E,sortIndex:-1},Q>R?(b.sortIndex=Q,a(g,b),o(x)===null&&b===o(g)&&(I?(O(J),J=-1):I=!0,ke(M,Q-R))):(b.sortIndex=E,a(x,b),S||_||(S=!0,Te(B))),b},s.unstable_shouldYield=xe,s.unstable_wrapCallback=function(b){var H=w;return function(){var Q=w;w=H;try{return b.apply(this,arguments)}finally{w=Q}}}})(il)),il}var Id;function xp(){return Id||(Id=1,al.exports=gp()),al.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function yp(){if(Pd)return xt;Pd=1;var s=Rl(),a=xp();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(e){return x.call(v,e)?!0:x.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function _(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,r,i){if(t===null||typeof t>"u"||_(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,r,i,c,f,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=p}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,T);C[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,T);C[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,T);C[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,r,i){var c=C.hasOwnProperty(t)?C[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,r,c,i)&&(r=null),i||c===null?w(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,i=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var M=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),xe=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),b=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,R;function E(e){if(R===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var Z=!1;function ne(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var i=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){i=$}e.call(t.prototype)}else{try{throw Error()}catch($){i=$}e()}}catch($){if($&&i&&typeof $.stack=="string"){for(var c=$.stack.split(`
`),f=i.stack.split(`
`),p=c.length-1,k=f.length-1;1<=p&&0<=k&&c[p]!==f[k];)k--;for(;1<=p&&0<=k;p--,k--)if(c[p]!==f[k]){if(p!==1||k!==1)do if(p--,k--,0>k||c[p]!==f[k]){var P=`
`+c[p].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=p&&0<=k);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?E(e):""}function X(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case G:return"Portal";case se:return"Profiler";case J:return"StrictMode";case Ae:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xe:return(e.displayName||"Context")+".Consumer";case oe:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ge:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}function he(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ye(e){var t=Se(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){i=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ue(e){e._valueTracker||(e._valueTracker=Ye(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Se(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Yt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $r(e,t){var r=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bs(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=ge(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ws(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function Mr(e,t){Ws(e,t);var r=ge(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Br(e,t.type,r):t.hasOwnProperty("defaultValue")&&Br(e,t.type,ge(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zr(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Br(e,t,r){(t!=="number"||Yt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var On=Array.isArray;function Xt(e,t,r,i){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ge(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Wr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hs(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(On(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ge(r)}}function qs(e,t){var r=ge(t.value),i=ge(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function nr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vs(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dn,qr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function un(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gs=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(e){Gs.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dn[t]=dn[e]})});function Vr(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dn.hasOwnProperty(e)&&dn[e]?(""+t).trim():t+"px"}function Gr(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,c=Vr(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,c):e[r]=c}}var Ks=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(e,t){if(t){if(Ks[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function sr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function ir(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,N=null,F=null;function le(e){if(e=ps(e)){if(typeof or!="function")throw Error(o(280));var t=e.stateNode;t&&(t=xa(t),or(e.stateNode,e.type,t))}}function ve(e){N?F?F.push(e):F=[e]:N=e}function Ne(){if(N){var e=N,t=F;if(F=N=null,le(e),t)for(e=0;e<t.length;e++)le(t[e])}}function Be(e,t){return e(t)}function dt(){}var lr=!1;function Vl(e,t,r){if(lr)return e(t,r);lr=!0;try{return Be(e,t,r)}finally{lr=!1,(N!==null||F!==null)&&(dt(),Ne())}}function Kr(e,t){var r=e.stateNode;if(r===null)return null;var i=xa(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var vi=!1;if(m)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){vi=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{vi=!1}function ph(e,t,r,i,c,f,p,k,P){var $=Array.prototype.slice.call(arguments,3);try{t.apply(r,$)}catch(V){this.onError(V)}}var Jr=!1,Qs=null,Js=!1,ji=null,gh={onError:function(e){Jr=!0,Qs=e}};function xh(e,t,r,i,c,f,p,k,P){Jr=!1,Qs=null,ph.apply(gh,arguments)}function yh(e,t,r,i,c,f,p,k,P){if(xh.apply(this,arguments),Jr){if(Jr){var $=Qs;Jr=!1,Qs=null}else throw Error(o(198));Js||(Js=!0,ji=$)}}function Un(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kl(e){if(Un(e)!==e)throw Error(o(188))}function vh(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,i=t;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(i=c.return,i!==null){r=i;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return Kl(c),e;if(f===i)return Kl(c),t;f=f.sibling}throw Error(o(188))}if(r.return!==i.return)r=c,i=f;else{for(var p=!1,k=c.child;k;){if(k===r){p=!0,r=c,i=f;break}if(k===i){p=!0,i=c,r=f;break}k=k.sibling}if(!p){for(k=f.child;k;){if(k===r){p=!0,r=f,i=c;break}if(k===i){p=!0,i=f,r=c;break}k=k.sibling}if(!p)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function Ql(e){return e=vh(e),e!==null?Jl(e):null}function Jl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jl(e);if(t!==null)return t;e=e.sibling}return null}var Yl=a.unstable_scheduleCallback,Xl=a.unstable_cancelCallback,jh=a.unstable_shouldYield,wh=a.unstable_requestPaint,We=a.unstable_now,Sh=a.unstable_getCurrentPriorityLevel,wi=a.unstable_ImmediatePriority,Zl=a.unstable_UserBlockingPriority,Ys=a.unstable_NormalPriority,Nh=a.unstable_LowPriority,ec=a.unstable_IdlePriority,Xs=null,Wt=null;function kh(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Xs,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:bh,Ch=Math.log,Eh=Math.LN2;function bh(e){return e>>>=0,e===0?32:31-(Ch(e)/Eh|0)|0}var Zs=64,ea=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,c=e.suspendedLanes,f=e.pingedLanes,p=r&268435455;if(p!==0){var k=p&~c;k!==0?i=Yr(k):(f&=p,f!==0&&(i=Yr(f)))}else p=r&~c,p!==0?i=Yr(p):f!==0&&(i=Yr(f));if(i===0)return 0;if(t!==0&&t!==i&&(t&c)===0&&(c=i&-i,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Lt(t),c=1<<r,i|=e[r],t&=~c;return i}function Th(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ih(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-Lt(f),k=1<<p,P=c[p];P===-1?((k&r)===0||(k&i)!==0)&&(c[p]=Th(k,t)):P<=t&&(e.expiredLanes|=k),f&=~k}}function Si(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tc(){var e=Zs;return Zs<<=1,(Zs&4194240)===0&&(Zs=64),e}function Ni(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Ph(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-Lt(r),f=1<<c;t[c]=0,i[c]=-1,e[c]=-1,r&=~f}}function ki(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Lt(r),c=1<<i;c&t|e[i]&t&&(e[i]|=t),r&=~c}}var _e=0;function nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var rc,Ci,sc,ac,ic,Ei=!1,na=[],fn=null,hn=null,mn=null,Zr=new Map,es=new Map,pn=[],_h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function ts(e,t,r,i,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[c]},t!==null&&(t=ps(t),t!==null&&Ci(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ah(e,t,r,i,c){switch(t){case"focusin":return fn=ts(fn,e,t,r,i,c),!0;case"dragenter":return hn=ts(hn,e,t,r,i,c),!0;case"mouseover":return mn=ts(mn,e,t,r,i,c),!0;case"pointerover":var f=c.pointerId;return Zr.set(f,ts(Zr.get(f)||null,e,t,r,i,c)),!0;case"gotpointercapture":return f=c.pointerId,es.set(f,ts(es.get(f)||null,e,t,r,i,c)),!0}return!1}function lc(e){var t=Fn(e.target);if(t!==null){var r=Un(t);if(r!==null){if(t=r.tag,t===13){if(t=Gl(r),t!==null){e.blockedOn=t,ic(e.priority,function(){sc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ti(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);ar=i,r.target.dispatchEvent(i),ar=null}else return t=ps(r),t!==null&&Ci(t),e.blockedOn=r,!1;t.shift()}return!0}function cc(e,t,r){ra(e)&&r.delete(t)}function Rh(){Ei=!1,fn!==null&&ra(fn)&&(fn=null),hn!==null&&ra(hn)&&(hn=null),mn!==null&&ra(mn)&&(mn=null),Zr.forEach(cc),es.forEach(cc)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Ei||(Ei=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Rh)))}function rs(e){function t(c){return ns(c,e)}if(0<na.length){ns(na[0],e);for(var r=1;r<na.length;r++){var i=na[r];i.blockedOn===e&&(i.blockedOn=null)}}for(fn!==null&&ns(fn,e),hn!==null&&ns(hn,e),mn!==null&&ns(mn,e),Zr.forEach(t),es.forEach(t),r=0;r<pn.length;r++)i=pn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<pn.length&&(r=pn[0],r.blockedOn===null);)lc(r),r.blockedOn===null&&pn.shift()}var cr=M.ReactCurrentBatchConfig,sa=!0;function Lh(e,t,r,i){var c=_e,f=cr.transition;cr.transition=null;try{_e=1,bi(e,t,r,i)}finally{_e=c,cr.transition=f}}function Oh(e,t,r,i){var c=_e,f=cr.transition;cr.transition=null;try{_e=4,bi(e,t,r,i)}finally{_e=c,cr.transition=f}}function bi(e,t,r,i){if(sa){var c=Ti(e,t,r,i);if(c===null)qi(e,t,i,aa,r),oc(e,i);else if(Ah(c,e,t,r,i))i.stopPropagation();else if(oc(e,i),t&4&&-1<_h.indexOf(e)){for(;c!==null;){var f=ps(c);if(f!==null&&rc(f),f=Ti(e,t,r,i),f===null&&qi(e,t,i,aa,r),f===c)break;c=f}c!==null&&i.stopPropagation()}else qi(e,t,i,null,r)}}var aa=null;function Ti(e,t,r,i){if(aa=null,e=ir(i),e=Fn(e),e!==null)if(t=Un(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gl(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return aa=e,null}function uc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case wi:return 1;case Zl:return 4;case Ys:case Nh:return 16;case ec:return 536870912;default:return 16}default:return 16}}var gn=null,Ii=null,ia=null;function dc(){if(ia)return ia;var e,t=Ii,r=t.length,i,c="value"in gn?gn.value:gn.textContent,f=c.length;for(e=0;e<r&&t[e]===c[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===c[f-i];i++);return ia=c.slice(e,1<i?1-i:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function la(){return!0}function fc(){return!1}function wt(e){function t(r,i,c,f,p){this._reactName=r,this._targetInst=c,this.type=i,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(r=e[k],this[k]=r?r(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?la:fc,this.isPropagationStopped=fc,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=wt(ur),ss=Q({},ur,{view:0,detail:0}),Dh=wt(ss),_i,Ai,as,ca=Q({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(_i=e.screenX-as.screenX,Ai=e.screenY-as.screenY):Ai=_i=0,as=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),hc=wt(ca),Uh=Q({},ca,{dataTransfer:0}),Fh=wt(Uh),$h=Q({},ss,{relatedTarget:0}),Ri=wt($h),Mh=Q({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=wt(Mh),Bh=Q({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wh=wt(Bh),Hh=Q({},ur,{data:0}),mc=wt(Hh),qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gh[e])?!!t[e]:!1}function Li(){return Kh}var Qh=Q({},ss,{key:function(e){if(e.key){var t=qh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=wt(Qh),Yh=Q({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=wt(Yh),Xh=Q({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),Zh=wt(Xh),em=Q({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),tm=wt(em),nm=Q({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rm=wt(nm),sm=[9,13,27,32],Oi=m&&"CompositionEvent"in window,is=null;m&&"documentMode"in document&&(is=document.documentMode);var am=m&&"TextEvent"in window&&!is,gc=m&&(!Oi||is&&8<is&&11>=is),xc=" ",yc=!1;function vc(e,t){switch(e){case"keyup":return sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function im(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(yc=!0,xc);case"textInput":return e=t.data,e===xc&&yc?null:e;default:return null}}function om(e,t){if(dr)return e==="compositionend"||!Oi&&vc(e,t)?(e=dc(),ia=Ii=gn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gc&&t.locale!=="ko"?null:t.data;default:return null}}var lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lm[e.type]:t==="textarea"}function Sc(e,t,r,i){ve(i),t=ma(t,"onChange"),0<t.length&&(r=new Pi("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var os=null,ls=null;function cm(e){Mc(e,0)}function ua(e){var t=gr(e);if(ze(t))return e}function um(e,t){if(e==="change")return t}var Nc=!1;if(m){var Di;if(m){var Ui="oninput"in document;if(!Ui){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Ui=typeof kc.oninput=="function"}Di=Ui}else Di=!1;Nc=Di&&(!document.documentMode||9<document.documentMode)}function Cc(){os&&(os.detachEvent("onpropertychange",Ec),ls=os=null)}function Ec(e){if(e.propertyName==="value"&&ua(ls)){var t=[];Sc(t,ls,e,ir(e)),Vl(cm,t)}}function dm(e,t,r){e==="focusin"?(Cc(),os=t,ls=r,os.attachEvent("onpropertychange",Ec)):e==="focusout"&&Cc()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(ls)}function hm(e,t){if(e==="click")return ua(t)}function mm(e,t){if(e==="input"||e==="change")return ua(t)}function pm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:pm;function cs(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var c=r[i];if(!x.call(t,c)||!Ot(e[c],t[c]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tc(e,t){var r=bc(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bc(r)}}function Ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pc(){for(var e=window,t=Yt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yt(e.document)}return t}function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gm(e){var t=Pc(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ic(r.ownerDocument.documentElement,r)){if(i!==null&&Fi(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,f=Math.min(i.start,c);i=i.end===void 0?f:Math.min(i.end,c),!e.extend&&f>i&&(c=i,i=f,f=c),c=Tc(r,f);var p=Tc(r,i);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xm=m&&"documentMode"in document&&11>=document.documentMode,fr=null,$i=null,us=null,Mi=!1;function _c(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mi||fr==null||fr!==Yt(i)||(i=fr,"selectionStart"in i&&Fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),us&&cs(us,i)||(us=i,i=ma($i,"onSelect"),0<i.length&&(t=new Pi("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=fr)))}function da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hr={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},zi={},Ac={};m&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function fa(e){if(zi[e])return zi[e];if(!hr[e])return e;var t=hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ac)return zi[e]=t[r];return e}var Rc=fa("animationend"),Lc=fa("animationiteration"),Oc=fa("animationstart"),Dc=fa("transitionend"),Uc=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Uc.set(e,t),d(t,[e])}for(var Bi=0;Bi<Fc.length;Bi++){var Wi=Fc[Bi],ym=Wi.toLowerCase(),vm=Wi[0].toUpperCase()+Wi.slice(1);xn(ym,"on"+vm)}xn(Rc,"onAnimationEnd"),xn(Lc,"onAnimationIteration"),xn(Oc,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Dc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function $c(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,yh(i,t,void 0,e),e.currentTarget=null}function Mc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],c=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var p=i.length-1;0<=p;p--){var k=i[p],P=k.instance,$=k.currentTarget;if(k=k.listener,P!==f&&c.isPropagationStopped())break e;$c(c,k,$),f=P}else for(p=0;p<i.length;p++){if(k=i[p],P=k.instance,$=k.currentTarget,k=k.listener,P!==f&&c.isPropagationStopped())break e;$c(c,k,$),f=P}}}if(Js)throw e=ji,Js=!1,ji=null,e}function Le(e,t){var r=t[Yi];r===void 0&&(r=t[Yi]=new Set);var i=e+"__bubble";r.has(i)||(zc(t,e,2,!1),r.add(i))}function Hi(e,t,r){var i=0;t&&(i|=4),zc(r,e,i,t)}var ha="_reactListening"+Math.random().toString(36).slice(2);function fs(e){if(!e[ha]){e[ha]=!0,l.forEach(function(r){r!=="selectionchange"&&(jm.has(r)||Hi(r,!1,e),Hi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ha]||(t[ha]=!0,Hi("selectionchange",!1,t))}}function zc(e,t,r,i){switch(uc(t)){case 1:var c=Lh;break;case 4:c=Oh;break;default:c=bi}r=c.bind(null,t,r,e),c=void 0,!vi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function qi(e,t,r,i,c){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var k=i.stateNode.containerInfo;if(k===c||k.nodeType===8&&k.parentNode===c)break;if(p===4)for(p=i.return;p!==null;){var P=p.tag;if((P===3||P===4)&&(P=p.stateNode.containerInfo,P===c||P.nodeType===8&&P.parentNode===c))return;p=p.return}for(;k!==null;){if(p=Fn(k),p===null)return;if(P=p.tag,P===5||P===6){i=f=p;continue e}k=k.parentNode}}i=i.return}Vl(function(){var $=f,V=ir(r),K=[];e:{var q=Uc.get(e);if(q!==void 0){var te=Pi,ie=e;switch(e){case"keypress":if(oa(r)===0)break e;case"keydown":case"keyup":te=Jh;break;case"focusin":ie="focus",te=Ri;break;case"focusout":ie="blur",te=Ri;break;case"beforeblur":case"afterblur":te=Ri;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Zh;break;case Rc:case Lc:case Oc:te=zh;break;case Dc:te=tm;break;case"scroll":te=Dh;break;case"wheel":te=rm;break;case"copy":case"cut":case"paste":te=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=pc}var ce=(t&4)!==0,He=!ce&&e==="scroll",D=ce?q!==null?q+"Capture":null:q;ce=[];for(var L=$,U;L!==null;){U=L;var Y=U.stateNode;if(U.tag===5&&Y!==null&&(U=Y,D!==null&&(Y=Kr(L,D),Y!=null&&ce.push(hs(L,Y,U)))),He)break;L=L.return}0<ce.length&&(q=new te(q,ie,null,r,V),K.push({event:q,listeners:ce}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",q&&r!==ar&&(ie=r.relatedTarget||r.fromElement)&&(Fn(ie)||ie[Zt]))break e;if((te||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,te?(ie=r.relatedTarget||r.toElement,te=$,ie=ie?Fn(ie):null,ie!==null&&(He=Un(ie),ie!==He||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(te=null,ie=$),te!==ie)){if(ce=hc,Y="onMouseLeave",D="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(ce=pc,Y="onPointerLeave",D="onPointerEnter",L="pointer"),He=te==null?q:gr(te),U=ie==null?q:gr(ie),q=new ce(Y,L+"leave",te,r,V),q.target=He,q.relatedTarget=U,Y=null,Fn(V)===$&&(ce=new ce(D,L+"enter",ie,r,V),ce.target=U,ce.relatedTarget=He,Y=ce),He=Y,te&&ie)t:{for(ce=te,D=ie,L=0,U=ce;U;U=mr(U))L++;for(U=0,Y=D;Y;Y=mr(Y))U++;for(;0<L-U;)ce=mr(ce),L--;for(;0<U-L;)D=mr(D),U--;for(;L--;){if(ce===D||D!==null&&ce===D.alternate)break t;ce=mr(ce),D=mr(D)}ce=null}else ce=null;te!==null&&Bc(K,q,te,ce,!1),ie!==null&&He!==null&&Bc(K,He,ie,ce,!0)}}e:{if(q=$?gr($):window,te=q.nodeName&&q.nodeName.toLowerCase(),te==="select"||te==="input"&&q.type==="file")var ue=um;else if(wc(q))if(Nc)ue=mm;else{ue=fm;var de=dm}else(te=q.nodeName)&&te.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ue=hm);if(ue&&(ue=ue(e,$))){Sc(K,ue,r,V);break e}de&&de(e,q,$),e==="focusout"&&(de=q._wrapperState)&&de.controlled&&q.type==="number"&&Br(q,"number",q.value)}switch(de=$?gr($):window,e){case"focusin":(wc(de)||de.contentEditable==="true")&&(fr=de,$i=$,us=null);break;case"focusout":us=$i=fr=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,_c(K,r,V);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":_c(K,r,V)}var fe;if(Oi)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else dr?vc(e,r)&&(me="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(gc&&r.locale!=="ko"&&(dr||me!=="onCompositionStart"?me==="onCompositionEnd"&&dr&&(fe=dc()):(gn=V,Ii="value"in gn?gn.value:gn.textContent,dr=!0)),de=ma($,me),0<de.length&&(me=new mc(me,e,null,r,V),K.push({event:me,listeners:de}),fe?me.data=fe:(fe=jc(r),fe!==null&&(me.data=fe)))),(fe=am?im(e,r):om(e,r))&&($=ma($,"onBeforeInput"),0<$.length&&(V=new mc("onBeforeInput","beforeinput",null,r,V),K.push({event:V,listeners:$}),V.data=fe))}Mc(K,t)})}function hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ma(e,t){for(var r=t+"Capture",i=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Kr(e,r),f!=null&&i.unshift(hs(e,f,c)),f=Kr(e,t),f!=null&&i.push(hs(e,f,c))),e=e.return}return i}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,t,r,i,c){for(var f=t._reactName,p=[];r!==null&&r!==i;){var k=r,P=k.alternate,$=k.stateNode;if(P!==null&&P===i)break;k.tag===5&&$!==null&&(k=$,c?(P=Kr(r,f),P!=null&&p.unshift(hs(r,P,k))):c||(P=Kr(r,f),P!=null&&p.push(hs(r,P,k)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var wm=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function Wc(e){return(typeof e=="string"?e:""+e).replace(wm,`
`).replace(Sm,"")}function pa(e,t,r){if(t=Wc(t),Wc(e)!==t&&r)throw Error(o(425))}function ga(){}var Vi=null,Gi=null;function Ki(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qi=typeof setTimeout=="function"?setTimeout:void 0,Nm=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,km=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(Cm)}:Qi;function Cm(e){setTimeout(function(){throw e})}function Ji(e,t){var r=t,i=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(i===0){e.removeChild(c),rs(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=c}while(r);rs(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+pr,ms="__reactProps$"+pr,Zt="__reactContainer$"+pr,Yi="__reactEvents$"+pr,Em="__reactListeners$"+pr,bm="__reactHandles$"+pr;function Fn(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zt]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qc(e);e!==null;){if(r=e[Ht])return r;e=qc(e)}return t}e=r,r=e.parentNode}return null}function ps(e){return e=e[Ht]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function xa(e){return e[ms]||null}var Xi=[],xr=-1;function vn(e){return{current:e}}function Oe(e){0>xr||(e.current=Xi[xr],Xi[xr]=null,xr--)}function Re(e,t){xr++,Xi[xr]=e.current,e.current=t}var jn={},rt=vn(jn),ft=vn(!1),$n=jn;function yr(e,t){var r=e.type.contextTypes;if(!r)return jn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in r)c[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function ht(e){return e=e.childContextTypes,e!=null}function ya(){Oe(ft),Oe(rt)}function Vc(e,t,r){if(rt.current!==jn)throw Error(o(168));Re(rt,t),Re(ft,r)}function Gc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(o(108,he(e)||"Unknown",c));return Q({},r,i)}function va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,$n=rt.current,Re(rt,e),Re(ft,ft.current),!0}function Kc(e,t,r){var i=e.stateNode;if(!i)throw Error(o(169));r?(e=Gc(e,t,$n),i.__reactInternalMemoizedMergedChildContext=e,Oe(ft),Oe(rt),Re(rt,e)):Oe(ft),Re(ft,r)}var en=null,ja=!1,Zi=!1;function Qc(e){en===null?en=[e]:en.push(e)}function Tm(e){ja=!0,Qc(e)}function wn(){if(!Zi&&en!==null){Zi=!0;var e=0,t=_e;try{var r=en;for(_e=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}en=null,ja=!1}catch(c){throw en!==null&&(en=en.slice(e+1)),Yl(wi,wn),c}finally{_e=t,Zi=!1}}return null}var vr=[],jr=0,wa=null,Sa=0,Et=[],bt=0,Mn=null,tn=1,nn="";function zn(e,t){vr[jr++]=Sa,vr[jr++]=wa,wa=e,Sa=t}function Jc(e,t,r){Et[bt++]=tn,Et[bt++]=nn,Et[bt++]=Mn,Mn=e;var i=tn;e=nn;var c=32-Lt(i)-1;i&=~(1<<c),r+=1;var f=32-Lt(t)+c;if(30<f){var p=c-c%5;f=(i&(1<<p)-1).toString(32),i>>=p,c-=p,tn=1<<32-Lt(t)+c|r<<c|i,nn=f+e}else tn=1<<f|r<<c|i,nn=e}function eo(e){e.return!==null&&(zn(e,1),Jc(e,1,0))}function to(e){for(;e===wa;)wa=vr[--jr],vr[jr]=null,Sa=vr[--jr],vr[jr]=null;for(;e===Mn;)Mn=Et[--bt],Et[bt]=null,nn=Et[--bt],Et[bt]=null,tn=Et[--bt],Et[bt]=null}var St=null,Nt=null,De=!1,Dt=null;function Yc(e,t){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Nt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,St=e,Nt=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(De){var t=Nt;if(t){var r=t;if(!Xc(e,t)){if(no(e))throw Error(o(418));t=yn(r.nextSibling);var i=St;t&&Xc(e,t)?Yc(i,r):(e.flags=e.flags&-4097|2,De=!1,St=e)}}else{if(no(e))throw Error(o(418));e.flags=e.flags&-4097|2,De=!1,St=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Na(e){if(e!==St)return!1;if(!De)return Zc(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ki(e.type,e.memoizedProps)),t&&(t=Nt)){if(no(e))throw eu(),Error(o(418));for(;t;)Yc(e,t),t=yn(t.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=yn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=St?yn(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Nt;e;)e=yn(e.nextSibling)}function wr(){Nt=St=null,De=!1}function so(e){Dt===null?Dt=[e]:Dt.push(e)}var Im=M.ReactCurrentBatchConfig;function gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var i=r.stateNode}if(!i)throw Error(o(147,e));var c=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(p){var k=c.refs;p===null?delete k[f]:k[f]=p},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function nu(e){function t(D,L){if(e){var U=D.deletions;U===null?(D.deletions=[L],D.flags|=16):U.push(L)}}function r(D,L){if(!e)return null;for(;L!==null;)t(D,L),L=L.sibling;return null}function i(D,L){for(D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function c(D,L){return D=In(D,L),D.index=0,D.sibling=null,D}function f(D,L,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<L?(D.flags|=2,L):U):(D.flags|=2,L)):(D.flags|=1048576,L)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function k(D,L,U,Y){return L===null||L.tag!==6?(L=Jo(U,D.mode,Y),L.return=D,L):(L=c(L,U),L.return=D,L)}function P(D,L,U,Y){var ue=U.type;return ue===W?V(D,L,U.props.children,Y,U.key):L!==null&&(L.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Te&&tu(ue)===L.type)?(Y=c(L,U.props),Y.ref=gs(D,L,U),Y.return=D,Y):(Y=Ka(U.type,U.key,U.props,null,D.mode,Y),Y.ref=gs(D,L,U),Y.return=D,Y)}function $(D,L,U,Y){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=Yo(U,D.mode,Y),L.return=D,L):(L=c(L,U.children||[]),L.return=D,L)}function V(D,L,U,Y,ue){return L===null||L.tag!==7?(L=Qn(U,D.mode,Y,ue),L.return=D,L):(L=c(L,U),L.return=D,L)}function K(D,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Jo(""+L,D.mode,U),L.return=D,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return U=Ka(L.type,L.key,L.props,null,D.mode,U),U.ref=gs(D,null,L),U.return=D,U;case G:return L=Yo(L,D.mode,U),L.return=D,L;case Te:var Y=L._init;return K(D,Y(L._payload),U)}if(On(L)||H(L))return L=Qn(L,D.mode,U,null),L.return=D,L;ka(D,L)}return null}function q(D,L,U,Y){var ue=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ue!==null?null:k(D,L,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===ue?P(D,L,U,Y):null;case G:return U.key===ue?$(D,L,U,Y):null;case Te:return ue=U._init,q(D,L,ue(U._payload),Y)}if(On(U)||H(U))return ue!==null?null:V(D,L,U,Y,null);ka(D,U)}return null}function te(D,L,U,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return D=D.get(U)||null,k(L,D,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return D=D.get(Y.key===null?U:Y.key)||null,P(L,D,Y,ue);case G:return D=D.get(Y.key===null?U:Y.key)||null,$(L,D,Y,ue);case Te:var de=Y._init;return te(D,L,U,de(Y._payload),ue)}if(On(Y)||H(Y))return D=D.get(U)||null,V(L,D,Y,ue,null);ka(L,Y)}return null}function ie(D,L,U,Y){for(var ue=null,de=null,fe=L,me=L=0,et=null;fe!==null&&me<U.length;me++){fe.index>me?(et=fe,fe=null):et=fe.sibling;var Ee=q(D,fe,U[me],Y);if(Ee===null){fe===null&&(fe=et);break}e&&fe&&Ee.alternate===null&&t(D,fe),L=f(Ee,L,me),de===null?ue=Ee:de.sibling=Ee,de=Ee,fe=et}if(me===U.length)return r(D,fe),De&&zn(D,me),ue;if(fe===null){for(;me<U.length;me++)fe=K(D,U[me],Y),fe!==null&&(L=f(fe,L,me),de===null?ue=fe:de.sibling=fe,de=fe);return De&&zn(D,me),ue}for(fe=i(D,fe);me<U.length;me++)et=te(fe,D,me,U[me],Y),et!==null&&(e&&et.alternate!==null&&fe.delete(et.key===null?me:et.key),L=f(et,L,me),de===null?ue=et:de.sibling=et,de=et);return e&&fe.forEach(function(Pn){return t(D,Pn)}),De&&zn(D,me),ue}function ce(D,L,U,Y){var ue=H(U);if(typeof ue!="function")throw Error(o(150));if(U=ue.call(U),U==null)throw Error(o(151));for(var de=ue=null,fe=L,me=L=0,et=null,Ee=U.next();fe!==null&&!Ee.done;me++,Ee=U.next()){fe.index>me?(et=fe,fe=null):et=fe.sibling;var Pn=q(D,fe,Ee.value,Y);if(Pn===null){fe===null&&(fe=et);break}e&&fe&&Pn.alternate===null&&t(D,fe),L=f(Pn,L,me),de===null?ue=Pn:de.sibling=Pn,de=Pn,fe=et}if(Ee.done)return r(D,fe),De&&zn(D,me),ue;if(fe===null){for(;!Ee.done;me++,Ee=U.next())Ee=K(D,Ee.value,Y),Ee!==null&&(L=f(Ee,L,me),de===null?ue=Ee:de.sibling=Ee,de=Ee);return De&&zn(D,me),ue}for(fe=i(D,fe);!Ee.done;me++,Ee=U.next())Ee=te(fe,D,me,Ee.value,Y),Ee!==null&&(e&&Ee.alternate!==null&&fe.delete(Ee.key===null?me:Ee.key),L=f(Ee,L,me),de===null?ue=Ee:de.sibling=Ee,de=Ee);return e&&fe.forEach(function(lp){return t(D,lp)}),De&&zn(D,me),ue}function He(D,L,U,Y){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:e:{for(var ue=U.key,de=L;de!==null;){if(de.key===ue){if(ue=U.type,ue===W){if(de.tag===7){r(D,de.sibling),L=c(de,U.props.children),L.return=D,D=L;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Te&&tu(ue)===de.type){r(D,de.sibling),L=c(de,U.props),L.ref=gs(D,de,U),L.return=D,D=L;break e}r(D,de);break}else t(D,de);de=de.sibling}U.type===W?(L=Qn(U.props.children,D.mode,Y,U.key),L.return=D,D=L):(Y=Ka(U.type,U.key,U.props,null,D.mode,Y),Y.ref=gs(D,L,U),Y.return=D,D=Y)}return p(D);case G:e:{for(de=U.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){r(D,L.sibling),L=c(L,U.children||[]),L.return=D,D=L;break e}else{r(D,L);break}else t(D,L);L=L.sibling}L=Yo(U,D.mode,Y),L.return=D,D=L}return p(D);case Te:return de=U._init,He(D,L,de(U._payload),Y)}if(On(U))return ie(D,L,U,Y);if(H(U))return ce(D,L,U,Y);ka(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(r(D,L.sibling),L=c(L,U),L.return=D,D=L):(r(D,L),L=Jo(U,D.mode,Y),L.return=D,D=L),p(D)):r(D,L)}return He}var Sr=nu(!0),ru=nu(!1),Ca=vn(null),Ea=null,Nr=null,ao=null;function io(){ao=Nr=Ea=null}function oo(e){var t=Ca.current;Oe(Ca),e._currentValue=t}function lo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function kr(e,t){Ea=e,ao=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(mt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(ao!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ea===null)throw Error(o(308));Nr=e,Ea.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Bn=null;function co(e){Bn===null?Bn=[e]:Bn.push(e)}function su(e,t,r,i){var c=t.interleaved;return c===null?(r.next=r,co(t)):(r.next=c.next,c.next=r),t.interleaved=r,rn(e,i)}function rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Sn=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ce&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,rn(e,r)}return c=i.interleaved,c===null?(t.next=t,co(i)):(t.next=c.next,c.next=t),i.interleaved=t,rn(e,r)}function ba(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ki(e,r)}}function iu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=t:f=f.next=t}else c=f=t;r={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ta(e,t,r,i){var c=e.updateQueue;Sn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var P=k,$=P.next;P.next=null,p===null?f=$:p.next=$,p=P;var V=e.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==p&&(k===null?V.firstBaseUpdate=$:k.next=$,V.lastBaseUpdate=P))}if(f!==null){var K=c.baseState;p=0,V=$=P=null,k=f;do{var q=k.lane,te=k.eventTime;if((i&q)===q){V!==null&&(V=V.next={eventTime:te,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=e,ce=k;switch(q=t,te=r,ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){K=ie.call(te,K,q);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,q=typeof ie=="function"?ie.call(te,K,q):ie,q==null)break e;K=Q({},K,q);break e;case 2:Sn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,q=c.effects,q===null?c.effects=[k]:q.push(k))}else te={eventTime:te,lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?($=V=te,P=K):V=V.next=te,p|=q;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;q=k,k=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);if(V===null&&(P=K),c.baseState=P,c.firstBaseUpdate=$,c.lastBaseUpdate=V,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);qn|=p,e.lanes=p,e.memoizedState=K}}function ou(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=r,typeof c!="function")throw Error(o(191,c));c.call(i)}}}var xs={},qt=vn(xs),ys=vn(xs),vs=vn(xs);function Wn(e){if(e===xs)throw Error(o(174));return e}function fo(e,t){switch(Re(vs,t),Re(ys,e),Re(qt,xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hr(t,e)}Oe(qt),Re(qt,t)}function Cr(){Oe(qt),Oe(ys),Oe(vs)}function lu(e){Wn(vs.current);var t=Wn(qt.current),r=Hr(t,e.type);t!==r&&(Re(ys,e),Re(qt,r))}function ho(e){ys.current===e&&(Oe(qt),Oe(ys))}var Fe=vn(0);function Ia(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mo=[];function po(){for(var e=0;e<mo.length;e++)mo[e]._workInProgressVersionPrimary=null;mo.length=0}var Pa=M.ReactCurrentDispatcher,go=M.ReactCurrentBatchConfig,Hn=0,$e=null,Ke=null,Xe=null,_a=!1,js=!1,ws=0,Pm=0;function st(){throw Error(o(321))}function xo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ot(e[r],t[r]))return!1;return!0}function yo(e,t,r,i,c,f){if(Hn=f,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pa.current=e===null||e.memoizedState===null?Lm:Om,e=r(i,c),js){f=0;do{if(js=!1,ws=0,25<=f)throw Error(o(301));f+=1,Xe=Ke=null,t.updateQueue=null,Pa.current=Dm,e=r(i,c)}while(js)}if(Pa.current=La,t=Ke!==null&&Ke.next!==null,Hn=0,Xe=Ke=$e=null,_a=!1,t)throw Error(o(300));return e}function vo(){var e=ws!==0;return ws=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function It(){if(Ke===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?$e.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ss(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=It(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=Ke,c=i.baseQueue,f=r.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}i.baseQueue=c=f,r.pending=null}if(c!==null){f=c.next,i=i.baseState;var k=p=null,P=null,$=f;do{var V=$.lane;if((Hn&V)===V)P!==null&&(P=P.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),i=$.hasEagerState?$.eagerState:e(i,$.action);else{var K={lane:V,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};P===null?(k=P=K,p=i):P=P.next=K,$e.lanes|=V,qn|=V}$=$.next}while($!==null&&$!==f);P===null?p=i:P.next=k,Ot(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=P,r.lastRenderedState=i}if(e=r.interleaved,e!==null){c=e;do f=c.lane,$e.lanes|=f,qn|=f,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=It(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,c=r.pending,f=t.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Ot(f,t.memoizedState)||(mt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function cu(){}function uu(e,t){var r=$e,i=It(),c=t(),f=!Ot(i.memoizedState,c);if(f&&(i.memoizedState=c,mt=!0),i=i.queue,So(hu.bind(null,r,i,e),[e]),i.getSnapshot!==t||f||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Ns(9,fu.bind(null,r,i,c,t),void 0,null),Ze===null)throw Error(o(349));(Hn&30)!==0||du(r,t,c)}return c}function du(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fu(e,t,r,i){t.value=r,t.getSnapshot=i,mu(t)&&pu(e)}function hu(e,t,r){return r(function(){mu(t)&&pu(e)})}function mu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ot(e,r)}catch{return!0}}function pu(e){var t=rn(e,1);t!==null&&Mt(t,e,1,-1)}function gu(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Rm.bind(null,$e,e),[t.memoizedState,e]}function Ns(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function xu(){return It().memoizedState}function Aa(e,t,r,i){var c=Vt();$e.flags|=e,c.memoizedState=Ns(1|t,r,void 0,i===void 0?null:i)}function Ra(e,t,r,i){var c=It();i=i===void 0?null:i;var f=void 0;if(Ke!==null){var p=Ke.memoizedState;if(f=p.destroy,i!==null&&xo(i,p.deps)){c.memoizedState=Ns(t,r,f,i);return}}$e.flags|=e,c.memoizedState=Ns(1|t,r,f,i)}function yu(e,t){return Aa(8390656,8,e,t)}function So(e,t){return Ra(2048,8,e,t)}function vu(e,t){return Ra(4,2,e,t)}function ju(e,t){return Ra(4,4,e,t)}function wu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Su(e,t,r){return r=r!=null?r.concat([e]):null,Ra(4,4,wu.bind(null,t,e),r)}function No(){}function Nu(e,t){var r=It();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&xo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ku(e,t){var r=It();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&xo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Cu(e,t,r){return(Hn&21)===0?(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r):(Ot(r,t)||(r=tc(),$e.lanes|=r,qn|=r,e.baseState=!0),t)}function _m(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var i=go.transition;go.transition={};try{e(!1),t()}finally{_e=r,go.transition=i}}function Eu(){return It().memoizedState}function Am(e,t,r){var i=bn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},bu(e))Tu(t,r);else if(r=su(e,t,r,i),r!==null){var c=ct();Mt(r,e,i,c),Iu(r,t,i)}}function Rm(e,t,r){var i=bn(e),c={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(bu(e))Tu(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,k=f(p,r);if(c.hasEagerState=!0,c.eagerState=k,Ot(k,p)){var P=t.interleaved;P===null?(c.next=c,co(t)):(c.next=P.next,P.next=c),t.interleaved=c;return}}catch{}finally{}r=su(e,t,c,i),r!==null&&(c=ct(),Mt(r,e,i,c),Iu(r,t,i))}}function bu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Tu(e,t){js=_a=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Iu(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ki(e,r)}}var La={readContext:Tt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Lm={readContext:Tt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:yu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Aa(4194308,4,wu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var r=Vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Vt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Am.bind(null,$e,e),[i.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:gu,useDebugValue:No,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=gu(!1),t=e[0];return e=_m.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=$e,c=Vt();if(De){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Ze===null)throw Error(o(349));(Hn&30)!==0||du(i,t,r)}c.memoizedState=r;var f={value:r,getSnapshot:t};return c.queue=f,yu(hu.bind(null,i,f,e),[e]),i.flags|=2048,Ns(9,fu.bind(null,i,f,r,t),void 0,null),r},useId:function(){var e=Vt(),t=Ze.identifierPrefix;if(De){var r=nn,i=tn;r=(i&~(1<<32-Lt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=ws++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Om={readContext:Tt,useCallback:Nu,useContext:Tt,useEffect:So,useImperativeHandle:Su,useInsertionEffect:vu,useLayoutEffect:ju,useMemo:ku,useReducer:jo,useRef:xu,useState:function(){return jo(Ss)},useDebugValue:No,useDeferredValue:function(e){var t=It();return Cu(t,Ke.memoizedState,e)},useTransition:function(){var e=jo(Ss)[0],t=It().memoizedState;return[e,t]},useMutableSource:cu,useSyncExternalStore:uu,useId:Eu,unstable_isNewReconciler:!1},Dm={readContext:Tt,useCallback:Nu,useContext:Tt,useEffect:So,useImperativeHandle:Su,useInsertionEffect:vu,useLayoutEffect:ju,useMemo:ku,useReducer:wo,useRef:xu,useState:function(){return wo(Ss)},useDebugValue:No,useDeferredValue:function(e){var t=It();return Ke===null?t.memoizedState=e:Cu(t,Ke.memoizedState,e)},useTransition:function(){var e=wo(Ss)[0],t=It().memoizedState;return[e,t]},useMutableSource:cu,useSyncExternalStore:uu,useId:Eu,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ko(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=ct(),c=bn(e),f=sn(i,c);f.payload=t,r!=null&&(f.callback=r),t=Nn(e,f,c),t!==null&&(Mt(t,e,c,i),ba(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=ct(),c=bn(e),f=sn(i,c);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Nn(e,f,c),t!==null&&(Mt(t,e,c,i),ba(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ct(),i=bn(e),c=sn(r,i);c.tag=2,t!=null&&(c.callback=t),t=Nn(e,c,i),t!==null&&(Mt(t,e,i,r),ba(t,e,i))}};function Pu(e,t,r,i,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,p):t.prototype&&t.prototype.isPureReactComponent?!cs(r,i)||!cs(c,f):!0}function _u(e,t,r){var i=!1,c=jn,f=t.contextType;return typeof f=="object"&&f!==null?f=Tt(f):(c=ht(t)?$n:rt.current,i=t.contextTypes,f=(i=i!=null)?yr(e,c):jn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function Au(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Co(e,t,r,i){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},uo(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Tt(f):(f=ht(t)?$n:rt.current,c.context=yr(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ko(e,t,f,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Oa.enqueueReplaceState(c,c.state,null),Ta(e,r,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,t){try{var r="",i=t;do r+=X(i),i=i.return;while(i);var c=r}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function Eo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function Ru(e,t,r){r=sn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ba||(Ba=!0,Bo=i),bo(e,t)},r}function Lu(e,t,r){r=sn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;r.payload=function(){return i(c)},r.callback=function(){bo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){bo(e,t),typeof i!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Ou(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Um;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(r)||(c.add(r),e=Ym.bind(null,e,t,r),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uu(e,t,r,i,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sn(-1,1),t.tag=2,Nn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Fm=M.ReactCurrentOwner,mt=!1;function lt(e,t,r,i){t.child=e===null?ru(t,null,r,i):Sr(t,e.child,r,i)}function Fu(e,t,r,i,c){r=r.render;var f=t.ref;return kr(t,c),i=yo(e,t,r,i,f,c),r=vo(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,an(e,t,c)):(De&&r&&eo(t),t.flags|=1,lt(e,t,i,c),t.child)}function $u(e,t,r,i,c){if(e===null){var f=r.type;return typeof f=="function"&&!Qo(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Mu(e,t,f,i,c)):(e=Ka(r.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(p,i)&&e.ref===t.ref)return an(e,t,c)}return t.flags|=1,e=In(f,i),e.ref=t.ref,e.return=t,t.child=e}function Mu(e,t,r,i,c){if(e!==null){var f=e.memoizedProps;if(cs(f,i)&&e.ref===t.ref)if(mt=!1,t.pendingProps=i=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,an(e,t,c)}return To(e,t,r,i,c)}function zu(e,t,r){var i=t.pendingProps,c=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Tr,kt),kt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Tr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:r,Re(Tr,kt),kt|=i}else f!==null?(i=f.baseLanes|r,t.memoizedState=null):i=r,Re(Tr,kt),kt|=i;return lt(e,t,c,r),t.child}function Bu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,r,i,c){var f=ht(r)?$n:rt.current;return f=yr(t,f),kr(t,c),r=yo(e,t,r,i,f,c),i=vo(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,an(e,t,c)):(De&&i&&eo(t),t.flags|=1,lt(e,t,r,c),t.child)}function Wu(e,t,r,i,c){if(ht(r)){var f=!0;va(t)}else f=!1;if(kr(t,c),t.stateNode===null)Ua(e,t),_u(t,r,i),Co(t,r,i,c),i=!0;else if(e===null){var p=t.stateNode,k=t.memoizedProps;p.props=k;var P=p.context,$=r.contextType;typeof $=="object"&&$!==null?$=Tt($):($=ht(r)?$n:rt.current,$=yr(t,$));var V=r.getDerivedStateFromProps,K=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function";K||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k!==i||P!==$)&&Au(t,p,i,$),Sn=!1;var q=t.memoizedState;p.state=q,Ta(t,i,p,c),P=t.memoizedState,k!==i||q!==P||ft.current||Sn?(typeof V=="function"&&(ko(t,r,V,i),P=t.memoizedState),(k=Sn||Pu(t,r,k,i,q,P,$))?(K||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=P),p.props=i,p.state=P,p.context=$,i=k):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,au(e,t),k=t.memoizedProps,$=t.type===t.elementType?k:Ut(t.type,k),p.props=$,K=t.pendingProps,q=p.context,P=r.contextType,typeof P=="object"&&P!==null?P=Tt(P):(P=ht(r)?$n:rt.current,P=yr(t,P));var te=r.getDerivedStateFromProps;(V=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k!==K||q!==P)&&Au(t,p,i,P),Sn=!1,q=t.memoizedState,p.state=q,Ta(t,i,p,c);var ie=t.memoizedState;k!==K||q!==ie||ft.current||Sn?(typeof te=="function"&&(ko(t,r,te,i),ie=t.memoizedState),($=Sn||Pu(t,r,$,i,q,ie,P)||!1)?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,ie,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,ie,P)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ie),p.props=i,p.state=ie,p.context=P,i=$):(typeof p.componentDidUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),i=!1)}return Io(e,t,r,i,f,c)}function Io(e,t,r,i,c,f){Bu(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return c&&Kc(t,r,!1),an(e,t,f);i=t.stateNode,Fm.current=t;var k=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Sr(t,e.child,null,f),t.child=Sr(t,null,k,f)):lt(e,t,k,f),t.memoizedState=i.state,c&&Kc(t,r,!0),t.child}function Hu(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),fo(e,t.containerInfo)}function qu(e,t,r,i,c){return wr(),so(c),t.flags|=256,lt(e,t,r,i),t.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function _o(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,r){var i=t.pendingProps,c=Fe.current,f=!1,p=(t.flags&128)!==0,k;if((k=p)||(k=e!==null&&e.memoizedState===null?!1:(c&2)!==0),k?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Re(Fe,c&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,f?(i=t.mode,f=t.child,p={mode:"hidden",children:p},(i&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Qa(p,i,0,null),e=Qn(e,i,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=_o(r),t.memoizedState=Po,e):Ao(t,p));if(c=e.memoizedState,c!==null&&(k=c.dehydrated,k!==null))return $m(e,t,p,i,k,c,r);if(f){f=i.fallback,p=t.mode,c=e.child,k=c.sibling;var P={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=P,t.deletions=null):(i=In(c,P),i.subtreeFlags=c.subtreeFlags&14680064),k!==null?f=In(k,f):(f=Qn(f,p,r,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,p=e.child.memoizedState,p=p===null?_o(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~r,t.memoizedState=Po,i}return f=e.child,e=f.sibling,i=In(f,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ao(e,t){return t=Qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,r,i){return i!==null&&so(i),Sr(t,e.child,null,r),e=Ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $m(e,t,r,i,c,f,p){if(r)return t.flags&256?(t.flags&=-257,i=Eo(Error(o(422))),Da(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,c=t.mode,i=Qa({mode:"visible",children:i.children},c,0,null),f=Qn(f,c,p,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,(t.mode&1)!==0&&Sr(t,e.child,null,p),t.child.memoizedState=_o(p),t.memoizedState=Po,f);if((t.mode&1)===0)return Da(e,t,p,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var k=i.dgst;return i=k,f=Error(o(419)),i=Eo(f,i,void 0),Da(e,t,p,i)}if(k=(p&e.childLanes)!==0,mt||k){if(i=Ze,i!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|p))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,rn(e,c),Mt(i,e,c,-1))}return Ko(),i=Eo(Error(o(421))),Da(e,t,p,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Xm.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Nt=yn(c.nextSibling),St=t,De=!0,Dt=null,e!==null&&(Et[bt++]=tn,Et[bt++]=nn,Et[bt++]=Mn,tn=e.id,nn=e.overflow,Mn=t),t=Ao(t,i.children),t.flags|=4096,t)}function Gu(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),lo(e.return,t,r)}function Ro(e,t,r,i,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=c)}function Ku(e,t,r){var i=t.pendingProps,c=i.revealOrder,f=i.tail;if(lt(e,t,i.children,r),i=Fe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,r,t);else if(e.tag===19)Gu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Re(Fe,i),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Ia(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Ro(t,!1,c,r,f);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ia(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Ro(t,!0,r,null,f);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=In(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=In(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Mm(e,t,r){switch(t.tag){case 3:Hu(t),wr();break;case 5:lu(t);break;case 1:ht(t.type)&&va(t);break;case 4:fo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;Re(Ca,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Re(Fe,Fe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Vu(e,t,r):(Re(Fe,Fe.current&1),e=an(e,t,r),e!==null?e.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Ku(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Re(Fe,Fe.current),i)break;return null;case 22:case 23:return t.lanes=0,zu(e,t,r)}return an(e,t,r)}var Qu,Lo,Ju,Yu;Qu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Lo=function(){},Ju=function(e,t,r,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,Wn(qt.current);var f=null;switch(r){case"input":c=$r(e,c),i=$r(e,i),f=[];break;case"select":c=Q({},c,{value:void 0}),i=Q({},i,{value:void 0}),f=[];break;case"textarea":c=Wr(e,c),i=Wr(e,i),f=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ga)}rr(r,i);var p;r=null;for($ in c)if(!i.hasOwnProperty($)&&c.hasOwnProperty($)&&c[$]!=null)if($==="style"){var k=c[$];for(p in k)k.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(u.hasOwnProperty($)?f||(f=[]):(f=f||[]).push($,null));for($ in i){var P=i[$];if(k=c!=null?c[$]:void 0,i.hasOwnProperty($)&&P!==k&&(P!=null||k!=null))if($==="style")if(k){for(p in k)!k.hasOwnProperty(p)||P&&P.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in P)P.hasOwnProperty(p)&&k[p]!==P[p]&&(r||(r={}),r[p]=P[p])}else r||(f||(f=[]),f.push($,r)),r=P;else $==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,k=k?k.__html:void 0,P!=null&&k!==P&&(f=f||[]).push($,P)):$==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push($,""+P):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(u.hasOwnProperty($)?(P!=null&&$==="onScroll"&&Le("scroll",e),f||k===P||(f=[])):(f=f||[]).push($,P))}r&&(f=f||[]).push("style",r);var $=f;(t.updateQueue=$)&&(t.flags|=4)}},Yu=function(e,t,r,i){r!==i&&(t.flags|=4)};function ks(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function zm(e,t,r){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return ht(t.type)&&ya(),at(t),null;case 3:return i=t.stateNode,Cr(),Oe(ft),Oe(rt),po(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dt!==null&&(qo(Dt),Dt=null))),Lo(e,t),at(t),null;case 5:ho(t);var c=Wn(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Ju(e,t,r,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(o(166));return at(t),null}if(e=Wn(qt.current),Na(t)){i=t.stateNode,r=t.type;var f=t.memoizedProps;switch(i[Ht]=t,i[ms]=f,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(c=0;c<ds.length;c++)Le(ds[c],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Bs(i,f),Le("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Le("invalid",i);break;case"textarea":Hs(i,f),Le("invalid",i)}rr(r,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var k=f[p];p==="children"?typeof k=="string"?i.textContent!==k&&(f.suppressHydrationWarning!==!0&&pa(i.textContent,k,e),c=["children",k]):typeof k=="number"&&i.textContent!==""+k&&(f.suppressHydrationWarning!==!0&&pa(i.textContent,k,e),c=["children",""+k]):u.hasOwnProperty(p)&&k!=null&&p==="onScroll"&&Le("scroll",i)}switch(r){case"input":Ue(i),zr(i,f,!0);break;case"textarea":Ue(i),nr(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=ga)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vs(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[Ht]=t,e[ms]=i,Qu(e,t,!1,!1),t.stateNode=e;e:{switch(p=sr(r,i),r){case"dialog":Le("cancel",e),Le("close",e),c=i;break;case"iframe":case"object":case"embed":Le("load",e),c=i;break;case"video":case"audio":for(c=0;c<ds.length;c++)Le(ds[c],e);c=i;break;case"source":Le("error",e),c=i;break;case"img":case"image":case"link":Le("error",e),Le("load",e),c=i;break;case"details":Le("toggle",e),c=i;break;case"input":Bs(e,i),c=$r(e,i),Le("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=Q({},i,{value:void 0}),Le("invalid",e);break;case"textarea":Hs(e,i),c=Wr(e,i),Le("invalid",e);break;default:c=i}rr(r,c),k=c;for(f in k)if(k.hasOwnProperty(f)){var P=k[f];f==="style"?Gr(e,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&qr(e,P)):f==="children"?typeof P=="string"?(r!=="textarea"||P!=="")&&un(e,P):typeof P=="number"&&un(e,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?P!=null&&f==="onScroll"&&Le("scroll",e):P!=null&&A(e,f,P,p))}switch(r){case"input":Ue(e),zr(e,i,!1);break;case"textarea":Ue(e),nr(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ge(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?Xt(e,!!i.multiple,f,!1):i.defaultValue!=null&&Xt(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ga)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)Yu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(r=Wn(vs.current),Wn(qt.current),Na(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ht]=t,(f=i.nodeValue!==r)&&(e=St,e!==null))switch(e.tag){case 3:pa(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(i.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ht]=t,t.stateNode=i}return at(t),null;case 13:if(Oe(Fe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Nt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),wr(),t.flags|=98560,f=!1;else if(f=Na(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Ht]=t}else wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),f=!1}else Dt!==null&&(qo(Dt),Dt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Qe===0&&(Qe=3):Ko())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Cr(),Lo(e,t),e===null&&fs(t.stateNode.containerInfo),at(t),null;case 10:return oo(t.type._context),at(t),null;case 17:return ht(t.type)&&ya(),at(t),null;case 19:if(Oe(Fe),f=t.memoizedState,f===null)return at(t),null;if(i=(t.flags&128)!==0,p=f.rendering,p===null)if(i)ks(f,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ia(e),p!==null){for(t.flags|=128,ks(f,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)f=r,e=i,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Fe,Fe.current&1|2),t.child}e=e.sibling}f.tail!==null&&We()>Ir&&(t.flags|=128,i=!0,ks(f,!1),t.lanes=4194304)}else{if(!i)if(e=Ia(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ks(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!De)return at(t),null}else 2*We()-f.renderingStartTime>Ir&&r!==1073741824&&(t.flags|=128,i=!0,ks(f,!1),t.lanes=4194304);f.isBackwards?(p.sibling=t.child,t.child=p):(r=f.last,r!==null?r.sibling=p:t.child=p,f.last=p)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=We(),t.sibling=null,r=Fe.current,Re(Fe,i?r&1|2:r&1),t):(at(t),null);case 22:case 23:return Go(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(kt&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Bm(e,t){switch(to(t),t.tag){case 1:return ht(t.type)&&ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),Oe(ft),Oe(rt),po(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ho(t),null;case 13:if(Oe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Fe),null;case 4:return Cr(),null;case 10:return oo(t.type._context),null;case 22:case 23:return Go(),null;case 24:return null;default:return null}}var Fa=!1,it=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,ae=null;function br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Me(e,t,i)}else r.current=null}function Oo(e,t,r){try{r()}catch(i){Me(e,t,i)}}var Xu=!1;function Hm(e,t){if(Vi=sa,e=Pc(),Fi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var c=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,k=-1,P=-1,$=0,V=0,K=e,q=null;t:for(;;){for(var te;K!==r||c!==0&&K.nodeType!==3||(k=p+c),K!==f||i!==0&&K.nodeType!==3||(P=p+i),K.nodeType===3&&(p+=K.nodeValue.length),(te=K.firstChild)!==null;)q=K,K=te;for(;;){if(K===e)break t;if(q===r&&++$===c&&(k=p),q===f&&++V===i&&(P=p),(te=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=te}r=k===-1||P===-1?null:{start:k,end:P}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gi={focusedElem:e,selectionRange:r},sa=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ce=ie.memoizedProps,He=ie.memoizedState,D=t.stateNode,L=D.getSnapshotBeforeUpdate(t.elementType===t.type?ce:Ut(t.type,ce),He);D.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=t.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Me(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return ie=Xu,Xu=!1,ie}function Cs(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Oo(t,r,f)}c=c.next}while(c!==i)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Do(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zu(e){var t=e.alternate;t!==null&&(e.alternate=null,Zu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[ms],delete t[Yi],delete t[Em],delete t[bm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ga));else if(i!==4&&(e=e.child,e!==null))for(Uo(e,t,r),e=e.sibling;e!==null;)Uo(e,t,r),e=e.sibling}function Fo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Fo(e,t,r),e=e.sibling;e!==null;)Fo(e,t,r),e=e.sibling}var tt=null,Ft=!1;function kn(e,t,r){for(r=r.child;r!==null;)nd(e,t,r),r=r.sibling}function nd(e,t,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Xs,r)}catch{}switch(r.tag){case 5:it||br(r,t);case 6:var i=tt,c=Ft;tt=null,kn(e,t,r),tt=i,Ft=c,tt!==null&&(Ft?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(Ft?(e=tt,r=r.stateNode,e.nodeType===8?Ji(e.parentNode,r):e.nodeType===1&&Ji(e,r),rs(e)):Ji(tt,r.stateNode));break;case 4:i=tt,c=Ft,tt=r.stateNode.containerInfo,Ft=!0,kn(e,t,r),tt=i,Ft=c;break;case 0:case 11:case 14:case 15:if(!it&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&((f&2)!==0||(f&4)!==0)&&Oo(r,t,p),c=c.next}while(c!==i)}kn(e,t,r);break;case 1:if(!it&&(br(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(k){Me(r,t,k)}kn(e,t,r);break;case 21:kn(e,t,r);break;case 22:r.mode&1?(it=(i=it)||r.memoizedState!==null,kn(e,t,r),it=i):kn(e,t,r);break;default:kn(e,t,r)}}function rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wm),t.forEach(function(i){var c=Zm.bind(null,e,i);r.has(i)||(r.add(i),i.then(c,c))})}}function $t(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];try{var f=e,p=t,k=p;e:for(;k!==null;){switch(k.tag){case 5:tt=k.stateNode,Ft=!1;break e;case 3:tt=k.stateNode.containerInfo,Ft=!0;break e;case 4:tt=k.stateNode.containerInfo,Ft=!0;break e}k=k.return}if(tt===null)throw Error(o(160));nd(f,p,c),tt=null,Ft=!1;var P=c.alternate;P!==null&&(P.return=null),c.return=null}catch($){Me(c,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sd(t,e),t=t.sibling}function sd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Gt(e),i&4){try{Cs(3,e,e.return),$a(3,e)}catch(ce){Me(e,e.return,ce)}try{Cs(5,e,e.return)}catch(ce){Me(e,e.return,ce)}}break;case 1:$t(t,e),Gt(e),i&512&&r!==null&&br(r,r.return);break;case 5:if($t(t,e),Gt(e),i&512&&r!==null&&br(r,r.return),e.flags&32){var c=e.stateNode;try{un(c,"")}catch(ce){Me(e,e.return,ce)}}if(i&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,p=r!==null?r.memoizedProps:f,k=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{k==="input"&&f.type==="radio"&&f.name!=null&&Ws(c,f),sr(k,p);var $=sr(k,f);for(p=0;p<P.length;p+=2){var V=P[p],K=P[p+1];V==="style"?Gr(c,K):V==="dangerouslySetInnerHTML"?qr(c,K):V==="children"?un(c,K):A(c,V,K,$)}switch(k){case"input":Mr(c,f);break;case"textarea":qs(c,f);break;case"select":var q=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var te=f.value;te!=null?Xt(c,!!f.multiple,te,!1):q!==!!f.multiple&&(f.defaultValue!=null?Xt(c,!!f.multiple,f.defaultValue,!0):Xt(c,!!f.multiple,f.multiple?[]:"",!1))}c[ms]=f}catch(ce){Me(e,e.return,ce)}}break;case 6:if($t(t,e),Gt(e),i&4){if(e.stateNode===null)throw Error(o(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(ce){Me(e,e.return,ce)}}break;case 3:if($t(t,e),Gt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(ce){Me(e,e.return,ce)}break;case 4:$t(t,e),Gt(e);break;case 13:$t(t,e),Gt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(zo=We())),i&4&&rd(e);break;case 22:if(V=r!==null&&r.memoizedState!==null,e.mode&1?(it=($=it)||V,$t(t,e),it=$):$t(t,e),Gt(e),i&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!V&&(e.mode&1)!==0)for(ae=e,V=e.child;V!==null;){for(K=ae=V;ae!==null;){switch(q=ae,te=q.child,q.tag){case 0:case 11:case 14:case 15:Cs(4,q,q.return);break;case 1:br(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){i=q,r=q.return;try{t=i,ie.props=t.memoizedProps,ie.state=t.memoizedState,ie.componentWillUnmount()}catch(ce){Me(i,r,ce)}}break;case 5:br(q,q.return);break;case 22:if(q.memoizedState!==null){od(K);continue}}te!==null?(te.return=q,ae=te):od(K)}V=V.sibling}e:for(V=null,K=e;;){if(K.tag===5){if(V===null){V=K;try{c=K.stateNode,$?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(k=K.stateNode,P=K.memoizedProps.style,p=P!=null&&P.hasOwnProperty("display")?P.display:null,k.style.display=Vr("display",p))}catch(ce){Me(e,e.return,ce)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=$?"":K.memoizedProps}catch(ce){Me(e,e.return,ce)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:$t(t,e),Gt(e),i&4&&rd(e);break;case 21:break;default:$t(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ed(r)){var i=r;break e}r=r.return}throw Error(o(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(un(c,""),i.flags&=-33);var f=td(e);Fo(e,f,c);break;case 3:case 4:var p=i.stateNode.containerInfo,k=td(e);Uo(e,k,p);break;default:throw Error(o(161))}}catch(P){Me(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qm(e,t,r){ae=e,ad(e)}function ad(e,t,r){for(var i=(e.mode&1)!==0;ae!==null;){var c=ae,f=c.child;if(c.tag===22&&i){var p=c.memoizedState!==null||Fa;if(!p){var k=c.alternate,P=k!==null&&k.memoizedState!==null||it;k=Fa;var $=it;if(Fa=p,(it=P)&&!$)for(ae=c;ae!==null;)p=ae,P=p.child,p.tag===22&&p.memoizedState!==null?ld(c):P!==null?(P.return=p,ae=P):ld(c);for(;f!==null;)ae=f,ad(f),f=f.sibling;ae=c,Fa=k,it=$}id(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,ae=f):id(e)}}function id(e){for(;ae!==null;){var t=ae;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:it||$a(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!it)if(r===null)i.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);i.componentDidUpdate(c,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ou(t,f,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ou(t,p,r)}break;case 5:var k=t.stateNode;if(r===null&&t.flags&4){r=k;var P=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&r.focus();break;case"img":P.src&&(r.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var V=$.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&rs(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}it||t.flags&512&&Do(t)}catch(q){Me(t,t.return,q)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function od(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function ld(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$a(4,t)}catch(P){Me(t,r,P)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(P){Me(t,c,P)}}var f=t.return;try{Do(t)}catch(P){Me(t,f,P)}break;case 5:var p=t.return;try{Do(t)}catch(P){Me(t,p,P)}}}catch(P){Me(t,t.return,P)}if(t===e){ae=null;break}var k=t.sibling;if(k!==null){k.return=t.return,ae=k;break}ae=t.return}}var Vm=Math.ceil,Ma=M.ReactCurrentDispatcher,$o=M.ReactCurrentOwner,Pt=M.ReactCurrentBatchConfig,Ce=0,Ze=null,qe=null,nt=0,kt=0,Tr=vn(0),Qe=0,Es=null,qn=0,za=0,Mo=0,bs=null,pt=null,zo=0,Ir=1/0,on=null,Ba=!1,Bo=null,Cn=null,Wa=!1,En=null,Ha=0,Ts=0,Wo=null,qa=-1,Va=0;function ct(){return(Ce&6)!==0?We():qa!==-1?qa:qa=We()}function bn(e){return(e.mode&1)===0?1:(Ce&2)!==0&&nt!==0?nt&-nt:Im.transition!==null?(Va===0&&(Va=tc()),Va):(e=_e,e!==0||(e=window.event,e=e===void 0?16:uc(e.type)),e)}function Mt(e,t,r,i){if(50<Ts)throw Ts=0,Wo=null,Error(o(185));Xr(e,r,i),((Ce&2)===0||e!==Ze)&&(e===Ze&&((Ce&2)===0&&(za|=r),Qe===4&&Tn(e,nt)),gt(e,i),r===1&&Ce===0&&(t.mode&1)===0&&(Ir=We()+500,ja&&wn()))}function gt(e,t){var r=e.callbackNode;Ih(e,t);var i=ta(e,e===Ze?nt:0);if(i===0)r!==null&&Xl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Xl(r),t===1)e.tag===0?Tm(ud.bind(null,e)):Qc(ud.bind(null,e)),km(function(){(Ce&6)===0&&wn()}),r=null;else{switch(nc(i)){case 1:r=wi;break;case 4:r=Zl;break;case 16:r=Ys;break;case 536870912:r=ec;break;default:r=Ys}r=yd(r,cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cd(e,t){if(qa=-1,Va=0,(Ce&6)!==0)throw Error(o(327));var r=e.callbackNode;if(Pr()&&e.callbackNode!==r)return null;var i=ta(e,e===Ze?nt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ga(e,i);else{t=i;var c=Ce;Ce|=2;var f=fd();(Ze!==e||nt!==t)&&(on=null,Ir=We()+500,Gn(e,t));do try{Qm();break}catch(k){dd(e,k)}while(!0);io(),Ma.current=f,Ce=c,qe!==null?t=0:(Ze=null,nt=0,t=Qe)}if(t!==0){if(t===2&&(c=Si(e),c!==0&&(i=c,t=Ho(e,c))),t===1)throw r=Es,Gn(e,0),Tn(e,i),gt(e,We()),r;if(t===6)Tn(e,i);else{if(c=e.current.alternate,(i&30)===0&&!Gm(c)&&(t=Ga(e,i),t===2&&(f=Si(e),f!==0&&(i=f,t=Ho(e,f))),t===1))throw r=Es,Gn(e,0),Tn(e,i),gt(e,We()),r;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:Kn(e,pt,on);break;case 3:if(Tn(e,i),(i&130023424)===i&&(t=zo+500-We(),10<t)){if(ta(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){ct(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Qi(Kn.bind(null,e,pt,on),t);break}Kn(e,pt,on);break;case 4:if(Tn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var p=31-Lt(i);f=1<<p,p=t[p],p>c&&(c=p),i&=~f}if(i=c,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Vm(i/1960))-i,10<i){e.timeoutHandle=Qi(Kn.bind(null,e,pt,on),i);break}Kn(e,pt,on);break;case 5:Kn(e,pt,on);break;default:throw Error(o(329))}}}return gt(e,We()),e.callbackNode===r?cd.bind(null,e):null}function Ho(e,t){var r=bs;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=pt,pt=r,t!==null&&qo(t)),e}function qo(e){pt===null?pt=e:pt.push.apply(pt,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var c=r[i],f=c.getSnapshot;c=c.value;try{if(!Ot(f(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Mo,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),i=1<<r;e[r]=-1,t&=~i}}function ud(e){if((Ce&6)!==0)throw Error(o(327));Pr();var t=ta(e,0);if((t&1)===0)return gt(e,We()),null;var r=Ga(e,t);if(e.tag!==0&&r===2){var i=Si(e);i!==0&&(t=i,r=Ho(e,i))}if(r===1)throw r=Es,Gn(e,0),Tn(e,t),gt(e,We()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,pt,on),gt(e,We()),null}function Vo(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Ir=We()+500,ja&&wn())}}function Vn(e){En!==null&&En.tag===0&&(Ce&6)===0&&Pr();var t=Ce;Ce|=1;var r=Pt.transition,i=_e;try{if(Pt.transition=null,_e=1,e)return e()}finally{_e=i,Pt.transition=r,Ce=t,(Ce&6)===0&&wn()}}function Go(){kt=Tr.current,Oe(Tr)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nm(r)),qe!==null)for(r=qe.return;r!==null;){var i=r;switch(to(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ya();break;case 3:Cr(),Oe(ft),Oe(rt),po();break;case 5:ho(i);break;case 4:Cr();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:oo(i.type._context);break;case 22:case 23:Go()}r=r.return}if(Ze=e,qe=e=In(e.current,null),nt=kt=t,Qe=0,Es=null,Mo=za=qn=0,pt=bs=null,Bn!==null){for(t=0;t<Bn.length;t++)if(r=Bn[t],i=r.interleaved,i!==null){r.interleaved=null;var c=i.next,f=r.pending;if(f!==null){var p=f.next;f.next=c,i.next=p}r.pending=i}Bn=null}return e}function dd(e,t){do{var r=qe;try{if(io(),Pa.current=La,_a){for(var i=$e.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}_a=!1}if(Hn=0,Xe=Ke=$e=null,js=!1,ws=0,$o.current=null,r===null||r.return===null){Qe=1,Es=t,qe=null;break}e:{var f=e,p=r.return,k=r,P=t;if(t=nt,k.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=P,V=k,K=V.tag;if((V.mode&1)===0&&(K===0||K===11||K===15)){var q=V.alternate;q?(V.updateQueue=q.updateQueue,V.memoizedState=q.memoizedState,V.lanes=q.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=Du(p);if(te!==null){te.flags&=-257,Uu(te,p,k,f,t),te.mode&1&&Ou(f,$,t),t=te,P=$;var ie=t.updateQueue;if(ie===null){var ce=new Set;ce.add(P),t.updateQueue=ce}else ie.add(P);break e}else{if((t&1)===0){Ou(f,$,t),Ko();break e}P=Error(o(426))}}else if(De&&k.mode&1){var He=Du(p);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Uu(He,p,k,f,t),so(Er(P,k));break e}}f=P=Er(P,k),Qe!==4&&(Qe=2),bs===null?bs=[f]:bs.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var D=Ru(f,P,t);iu(f,D);break e;case 1:k=P;var L=f.type,U=f.stateNode;if((f.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Cn===null||!Cn.has(U)))){f.flags|=65536,t&=-t,f.lanes|=t;var Y=Lu(f,k,t);iu(f,Y);break e}}f=f.return}while(f!==null)}md(r)}catch(ue){t=ue,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function fd(){var e=Ma.current;return Ma.current=La,e===null?La:e}function Ko(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||(qn&268435455)===0&&(za&268435455)===0||Tn(Ze,nt)}function Ga(e,t){var r=Ce;Ce|=2;var i=fd();(Ze!==e||nt!==t)&&(on=null,Gn(e,t));do try{Km();break}catch(c){dd(e,c)}while(!0);if(io(),Ce=r,Ma.current=i,qe!==null)throw Error(o(261));return Ze=null,nt=0,Qe}function Km(){for(;qe!==null;)hd(qe)}function Qm(){for(;qe!==null&&!jh();)hd(qe)}function hd(e){var t=xd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?md(e):qe=t,$o.current=null}function md(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=zm(r,t,kt),r!==null){qe=r;return}}else{if(r=Bm(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Qe===0&&(Qe=5)}function Kn(e,t,r){var i=_e,c=Pt.transition;try{Pt.transition=null,_e=1,Jm(e,t,r,i)}finally{Pt.transition=c,_e=i}return null}function Jm(e,t,r,i){do Pr();while(En!==null);if((Ce&6)!==0)throw Error(o(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Ph(e,f),e===Ze&&(qe=Ze=null,nt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Wa||(Wa=!0,yd(Ys,function(){return Pr(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=Pt.transition,Pt.transition=null;var p=_e;_e=1;var k=Ce;Ce|=4,$o.current=null,Hm(e,r),sd(r,e),gm(Gi),sa=!!Vi,Gi=Vi=null,e.current=r,qm(r),wh(),Ce=k,_e=p,Pt.transition=f}else e.current=r;if(Wa&&(Wa=!1,En=e,Ha=c),f=e.pendingLanes,f===0&&(Cn=null),kh(r.stateNode),gt(e,We()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],i(c.value,{componentStack:c.stack,digest:c.digest});if(Ba)throw Ba=!1,e=Bo,Bo=null,e;return(Ha&1)!==0&&e.tag!==0&&Pr(),f=e.pendingLanes,(f&1)!==0?e===Wo?Ts++:(Ts=0,Wo=e):Ts=0,wn(),null}function Pr(){if(En!==null){var e=nc(Ha),t=Pt.transition,r=_e;try{if(Pt.transition=null,_e=16>e?16:e,En===null)var i=!1;else{if(e=En,En=null,Ha=0,(Ce&6)!==0)throw Error(o(331));var c=Ce;for(Ce|=4,ae=e.current;ae!==null;){var f=ae,p=f.child;if((ae.flags&16)!==0){var k=f.deletions;if(k!==null){for(var P=0;P<k.length;P++){var $=k[P];for(ae=$;ae!==null;){var V=ae;switch(V.tag){case 0:case 11:case 15:Cs(8,V,f)}var K=V.child;if(K!==null)K.return=V,ae=K;else for(;ae!==null;){V=ae;var q=V.sibling,te=V.return;if(Zu(V),V===$){ae=null;break}if(q!==null){q.return=te,ae=q;break}ae=te}}}var ie=f.alternate;if(ie!==null){var ce=ie.child;if(ce!==null){ie.child=null;do{var He=ce.sibling;ce.sibling=null,ce=He}while(ce!==null)}}ae=f}}if((f.subtreeFlags&2064)!==0&&p!==null)p.return=f,ae=p;else e:for(;ae!==null;){if(f=ae,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Cs(9,f,f.return)}var D=f.sibling;if(D!==null){D.return=f.return,ae=D;break e}ae=f.return}}var L=e.current;for(ae=L;ae!==null;){p=ae;var U=p.child;if((p.subtreeFlags&2064)!==0&&U!==null)U.return=p,ae=U;else e:for(p=L;ae!==null;){if(k=ae,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:$a(9,k)}}catch(ue){Me(k,k.return,ue)}if(k===p){ae=null;break e}var Y=k.sibling;if(Y!==null){Y.return=k.return,ae=Y;break e}ae=k.return}}if(Ce=c,wn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Xs,e)}catch{}i=!0}return i}finally{_e=r,Pt.transition=t}}return!1}function pd(e,t,r){t=Er(r,t),t=Ru(e,t,1),e=Nn(e,t,1),t=ct(),e!==null&&(Xr(e,1,t),gt(e,t))}function Me(e,t,r){if(e.tag===3)pd(e,e,r);else for(;t!==null;){if(t.tag===3){pd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cn===null||!Cn.has(i))){e=Er(r,e),e=Lu(t,e,1),t=Nn(t,e,1),e=ct(),t!==null&&(Xr(t,1,e),gt(t,e));break}}t=t.return}}function Ym(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&r,Ze===e&&(nt&r)===r&&(Qe===4||Qe===3&&(nt&130023424)===nt&&500>We()-zo?Gn(e,0):Mo|=r),gt(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ea,ea<<=1,(ea&130023424)===0&&(ea=4194304)));var r=ct();e=rn(e,t),e!==null&&(Xr(e,t,r),gt(e,r))}function Xm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gd(e,r)}function Zm(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}i!==null&&i.delete(t),gd(e,r)}var xd;xd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)mt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return mt=!1,Mm(e,t,r);mt=(e.flags&131072)!==0}else mt=!1,De&&(t.flags&1048576)!==0&&Jc(t,Sa,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ua(e,t),e=t.pendingProps;var c=yr(t,rt.current);kr(t,r),c=yo(null,t,i,e,c,r);var f=vo();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(i)?(f=!0,va(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,uo(t),c.updater=Oa,t.stateNode=c,c._reactInternals=t,Co(t,i,e,r),t=Io(null,t,i,!0,f,r)):(t.tag=0,De&&f&&eo(t),lt(null,t,c,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=tp(i),e=Ut(i,e),c){case 0:t=To(null,t,i,e,r);break e;case 1:t=Wu(null,t,i,e,r);break e;case 11:t=Fu(null,t,i,e,r);break e;case 14:t=$u(null,t,i,Ut(i.type,e),r);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),To(e,t,i,c,r);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),Wu(e,t,i,c,r);case 3:e:{if(Hu(t),e===null)throw Error(o(387));i=t.pendingProps,f=t.memoizedState,c=f.element,au(e,t),Ta(t,i,null,r);var p=t.memoizedState;if(i=p.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Er(Error(o(423)),t),t=qu(e,t,i,r,c);break e}else if(i!==c){c=Er(Error(o(424)),t),t=qu(e,t,i,r,c);break e}else for(Nt=yn(t.stateNode.containerInfo.firstChild),St=t,De=!0,Dt=null,r=ru(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wr(),i===c){t=an(e,t,r);break e}lt(e,t,i,r)}t=t.child}return t;case 5:return lu(t),e===null&&ro(t),i=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,p=c.children,Ki(i,c)?p=null:f!==null&&Ki(i,f)&&(t.flags|=32),Bu(e,t),lt(e,t,p,r),t.child;case 6:return e===null&&ro(t),null;case 13:return Vu(e,t,r);case 4:return fo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Sr(t,null,i,r):lt(e,t,i,r),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),Fu(e,t,i,c,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,f=t.memoizedProps,p=c.value,Re(Ca,i._currentValue),i._currentValue=p,f!==null)if(Ot(f.value,p)){if(f.children===c.children&&!ft.current){t=an(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var k=f.dependencies;if(k!==null){p=f.child;for(var P=k.firstContext;P!==null;){if(P.context===i){if(f.tag===1){P=sn(-1,r&-r),P.tag=2;var $=f.updateQueue;if($!==null){$=$.shared;var V=$.pending;V===null?P.next=P:(P.next=V.next,V.next=P),$.pending=P}}f.lanes|=r,P=f.alternate,P!==null&&(P.lanes|=r),lo(f.return,r,t),k.lanes|=r;break}P=P.next}}else if(f.tag===10)p=f.type===t.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(o(341));p.lanes|=r,k=p.alternate,k!==null&&(k.lanes|=r),lo(p,r,t),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===t){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}lt(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,kr(t,r),c=Tt(c),i=i(c),t.flags|=1,lt(e,t,i,r),t.child;case 14:return i=t.type,c=Ut(i,t.pendingProps),c=Ut(i.type,c),$u(e,t,i,c,r);case 15:return Mu(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),Ua(e,t),t.tag=1,ht(i)?(e=!0,va(t)):e=!1,kr(t,r),_u(t,i,c),Co(t,i,c,r),Io(null,t,i,!0,e,r);case 19:return Ku(e,t,r);case 22:return zu(e,t,r)}throw Error(o(156,t.tag))};function yd(e,t){return Yl(e,t)}function ep(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,i){return new ep(e,t,r,i)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tp(e){if(typeof e=="function")return Qo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===Ge)return 14}return 2}function In(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ka(e,t,r,i,c,f){var p=2;if(i=e,typeof e=="function")Qo(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case W:return Qn(r.children,c,f,t);case J:p=8,c|=8;break;case se:return e=_t(12,r,t,c|2),e.elementType=se,e.lanes=f,e;case Ae:return e=_t(13,r,t,c),e.elementType=Ae,e.lanes=f,e;case Pe:return e=_t(19,r,t,c),e.elementType=Pe,e.lanes=f,e;case ke:return Qa(r,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:p=10;break e;case xe:p=9;break e;case je:p=11;break e;case Ge:p=14;break e;case Te:p=16,i=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=_t(p,r,t,c),t.elementType=e,t.type=i,t.lanes=f,t}function Qn(e,t,r,i){return e=_t(7,e,i,t),e.lanes=r,e}function Qa(e,t,r,i){return e=_t(22,e,i,t),e.elementType=ke,e.lanes=r,e.stateNode={isHidden:!1},e}function Jo(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function Yo(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function np(e,t,r,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Xo(e,t,r,i,c,f,p,k,P){return e=new np(e,t,r,k,P),t===1?(t=1,f===!0&&(t|=8)):t=0,f=_t(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uo(f),e}function rp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function vd(e){if(!e)return jn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(ht(r))return Gc(e,r,t)}return t}function jd(e,t,r,i,c,f,p,k,P){return e=Xo(r,i,!0,e,c,f,p,k,P),e.context=vd(null),r=e.current,i=ct(),c=bn(r),f=sn(i,c),f.callback=t??null,Nn(r,f,c),e.current.lanes=c,Xr(e,c,i),gt(e,i),e}function Ja(e,t,r,i){var c=t.current,f=ct(),p=bn(c);return r=vd(r),t.context===null?t.context=r:t.pendingContext=r,t=sn(f,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Nn(c,t,p),e!==null&&(Mt(e,c,p,f),ba(e,c,p)),p}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zo(e,t){wd(e,t),(e=e.alternate)&&wd(e,t)}function sp(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function el(e){this._internalRoot=e}Xa.prototype.render=el.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ja(e,t,null,null)},Xa.prototype.unmount=el.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vn(function(){Ja(null,e,null,null)}),t[Zt]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=ac();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pn.length&&t!==0&&t<pn[r].priority;r++);pn.splice(r,0,e),r===0&&lc(e)}};function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function ap(e,t,r,i,c){if(c){if(typeof i=="function"){var f=i;i=function(){var $=Ya(p);f.call($)}}var p=jd(t,i,e,0,null,!1,!1,"",Nd);return e._reactRootContainer=p,e[Zt]=p.current,fs(e.nodeType===8?e.parentNode:e),Vn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var k=i;i=function(){var $=Ya(P);k.call($)}}var P=Xo(e,0,!1,null,null,!1,!1,"",Nd);return e._reactRootContainer=P,e[Zt]=P.current,fs(e.nodeType===8?e.parentNode:e),Vn(function(){Ja(t,P,r,i)}),P}function ei(e,t,r,i,c){var f=r._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var k=c;c=function(){var P=Ya(p);k.call(P)}}Ja(t,p,e,c)}else p=ap(r,t,e,c,i);return Ya(p)}rc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yr(t.pendingLanes);r!==0&&(ki(t,r|1),gt(t,We()),(Ce&6)===0&&(Ir=We()+500,wn()))}break;case 13:Vn(function(){var i=rn(e,1);if(i!==null){var c=ct();Mt(i,e,1,c)}}),Zo(e,1)}},Ci=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var r=ct();Mt(t,e,134217728,r)}Zo(e,134217728)}},sc=function(e){if(e.tag===13){var t=bn(e),r=rn(e,t);if(r!==null){var i=ct();Mt(r,e,t,i)}Zo(e,t)}},ac=function(){return _e},ic=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}},or=function(e,t,r){switch(t){case"input":if(Mr(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var c=xa(i);if(!c)throw Error(o(90));ze(i),Mr(i,c)}}}break;case"textarea":qs(e,r);break;case"select":t=r.value,t!=null&&Xt(e,!!r.multiple,t,!1)}},Be=Vo,dt=Vn;var ip={usingClientEntryPoint:!1,Events:[ps,gr,xa,ve,Ne,Vo]},Is={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},op={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ql(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||sp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{Xs=ti.inject(op),Wt=ti}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ip,xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tl(t))throw Error(o(200));return rp(e,t,null,r)},xt.createRoot=function(e,t){if(!tl(e))throw Error(o(299));var r=!1,i="",c=Sd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Xo(e,1,!1,null,null,r,!1,i,c),e[Zt]=t.current,fs(e.nodeType===8?e.parentNode:e),new el(t)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ql(t),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Vn(e)},xt.hydrate=function(e,t,r){if(!Za(t))throw Error(o(200));return ei(null,e,t,!0,r)},xt.hydrateRoot=function(e,t,r){if(!tl(e))throw Error(o(405));var i=r!=null&&r.hydratedSources||null,c=!1,f="",p=Sd;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=jd(t,null,e,1,r??null,c,!1,f,p),e[Zt]=t.current,fs(e),i)for(e=0;e<i.length;e++)r=i[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new Xa(t)},xt.render=function(e,t,r){if(!Za(t))throw Error(o(200));return ei(null,e,t,!1,r)},xt.unmountComponentAtNode=function(e){if(!Za(e))throw Error(o(40));return e._reactRootContainer?(Vn(function(){ei(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1},xt.unstable_batchedUpdates=Vo,xt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Za(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return ei(e,t,r,!1,i)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var _d;function mf(){if(_d)return sl.exports;_d=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),sl.exports=yp(),sl.exports}var Ad;function vp(){if(Ad)return ni;Ad=1;var s=mf();return ni.createRoot=s.createRoot,ni.hydrateRoot=s.hydrateRoot,ni}var jp=vp();const wp=Ds(jp);mf();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Ls.apply(this,arguments)}var _n;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(_n||(_n={}));const Rd="popstate";function Sp(s){s===void 0&&(s={});function a(l,u){let{pathname:d,search:h,hash:m}=l.location;return jl("",{pathname:d,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(l,u){return typeof u=="string"?u:ci(u)}return kp(a,o,null,s)}function Ve(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function pf(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Np(){return Math.random().toString(36).substr(2,8)}function Ld(s,a){return{usr:s.state,key:s.key,idx:a}}function jl(s,a,o,l){return o===void 0&&(o=null),Ls({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof a=="string"?Dr(a):a,{state:o,key:a&&a.key||l||Np()})}function ci(s){let{pathname:a="/",search:o="",hash:l=""}=s;return o&&o!=="?"&&(a+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function Dr(s){let a={};if(s){let o=s.indexOf("#");o>=0&&(a.hash=s.substr(o),s=s.substr(0,o));let l=s.indexOf("?");l>=0&&(a.search=s.substr(l),s=s.substr(0,l)),s&&(a.pathname=s)}return a}function kp(s,a,o,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:d=!1}=l,h=u.history,m=_n.Pop,x=null,g=y();g==null&&(g=0,h.replaceState(Ls({},h.state,{idx:g}),""));function y(){return(h.state||{idx:null}).idx}function v(){m=_n.Pop;let C=y(),O=C==null?null:C-g;g=C,x&&x({action:m,location:I.location,delta:O})}function w(C,O){m=_n.Push;let T=jl(I.location,C,O);g=y()+1;let A=Ld(T,g),M=I.createHref(T);try{h.pushState(A,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;u.location.assign(M)}d&&x&&x({action:m,location:I.location,delta:1})}function _(C,O){m=_n.Replace;let T=jl(I.location,C,O);g=y();let A=Ld(T,g),M=I.createHref(T);h.replaceState(A,"",M),d&&x&&x({action:m,location:I.location,delta:0})}function S(C){let O=u.location.origin!=="null"?u.location.origin:u.location.href,T=typeof C=="string"?C:ci(C);return T=T.replace(/ $/,"%20"),Ve(O,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,O)}let I={get action(){return m},get location(){return s(u,h)},listen(C){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(Rd,v),x=C,()=>{u.removeEventListener(Rd,v),x=null}},createHref(C){return a(u,C)},createURL:S,encodeLocation(C){let O=S(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:_,go(C){return h.go(C)}};return I}var Od;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Od||(Od={}));function Cp(s,a,o){return o===void 0&&(o="/"),Ep(s,a,o)}function Ep(s,a,o,l){let u=typeof a=="string"?Dr(a):a,d=Ll(u.pathname||"/",o);if(d==null)return null;let h=gf(s);bp(h);let m=null;for(let x=0;m==null&&x<h.length;++x){let g=$p(d);m=Dp(h[x],g)}return m}function gf(s,a,o,l){a===void 0&&(a=[]),o===void 0&&(o=[]),l===void 0&&(l="");let u=(d,h,m)=>{let x={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};x.relativePath.startsWith("/")&&(Ve(x.relativePath.startsWith(l),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(l.length));let g=An([l,x.relativePath]),y=o.concat(x);d.children&&d.children.length>0&&(Ve(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),gf(d.children,a,y,g)),!(d.path==null&&!d.index)&&a.push({path:g,score:Lp(g,d.index),routesMeta:y})};return s.forEach((d,h)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,h);else for(let x of xf(d.path))u(d,h,x)}),a}function xf(s){let a=s.split("/");if(a.length===0)return[];let[o,...l]=a,u=o.endsWith("?"),d=o.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let h=xf(l.join("/")),m=[];return m.push(...h.map(x=>x===""?d:[d,x].join("/"))),u&&m.push(...h),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function bp(s){s.sort((a,o)=>a.score!==o.score?o.score-a.score:Op(a.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}const Tp=/^:[\w-]+$/,Ip=3,Pp=2,_p=1,Ap=10,Rp=-2,Dd=s=>s==="*";function Lp(s,a){let o=s.split("/"),l=o.length;return o.some(Dd)&&(l+=Rp),a&&(l+=Pp),o.filter(u=>!Dd(u)).reduce((u,d)=>u+(Tp.test(d)?Ip:d===""?_p:Ap),l)}function Op(s,a){return s.length===a.length&&s.slice(0,-1).every((l,u)=>l===a[u])?s[s.length-1]-a[a.length-1]:0}function Dp(s,a,o){let{routesMeta:l}=s,u={},d="/",h=[];for(let m=0;m<l.length;++m){let x=l[m],g=m===l.length-1,y=d==="/"?a:a.slice(d.length)||"/",v=Up({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},y),w=x.route;if(!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:An([d,v.pathname]),pathnameBase:Wp(An([d,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(d=An([d,v.pathnameBase]))}return h}function Up(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,l]=Fp(s.path,s.caseSensitive,s.end),u=a.match(o);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((g,y,v)=>{let{paramName:w,isOptional:_}=y;if(w==="*"){let I=m[v]||"";h=d.slice(0,d.length-I.length).replace(/(.)\/+$/,"$1")}const S=m[v];return _&&!S?g[w]=void 0:g[w]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:h,pattern:s}}function Fp(s,a,o){a===void 0&&(a=!1),o===void 0&&(o=!0),pf(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,x)=>(l.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function $p(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return pf(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),s}}function Ll(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,l=s.charAt(o);return l&&l!=="/"?null:s.slice(o)||"/"}function Mp(s,a){a===void 0&&(a="/");let{pathname:o,search:l="",hash:u=""}=typeof s=="string"?Dr(s):s;return{pathname:o?o.startsWith("/")?o:zp(o,a):a,search:Hp(l),hash:qp(u)}}function zp(s,a){let o=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function ol(s,a,o,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bp(s){return s.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function yf(s,a){let o=Bp(s);return a?o.map((l,u)=>u===o.length-1?l.pathname:l.pathnameBase):o.map(l=>l.pathnameBase)}function vf(s,a,o,l){l===void 0&&(l=!1);let u;typeof s=="string"?u=Dr(s):(u=Ls({},s),Ve(!u.pathname||!u.pathname.includes("?"),ol("?","pathname","search",u)),Ve(!u.pathname||!u.pathname.includes("#"),ol("#","pathname","hash",u)),Ve(!u.search||!u.search.includes("#"),ol("#","search","hash",u)));let d=s===""||u.pathname==="",h=d?"/":u.pathname,m;if(h==null)m=o;else{let v=a.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;u.pathname=w.join("/")}m=v>=0?a[v]:"/"}let x=Mp(u,m),g=h&&h!=="/"&&h.endsWith("/"),y=(d||h===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(g||y)&&(x.pathname+="/"),x}const An=s=>s.join("/").replace(/\/\/+/g,"/"),Wp=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hp=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,qp=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Vp(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const jf=["post","put","patch","delete"];new Set(jf);const Gp=["get",...jf];new Set(Gp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Os.apply(this,arguments)}const Ol=j.createContext(null),Kp=j.createContext(null),tr=j.createContext(null),hi=j.createContext(null),Ln=j.createContext({outlet:null,matches:[],isDataRoute:!1}),wf=j.createContext(null);function Qp(s,a){let{relative:o}=a===void 0?{}:a;Us()||Ve(!1);let{basename:l,navigator:u}=j.useContext(tr),{hash:d,pathname:h,search:m}=Nf(s,{relative:o}),x=h;return l!=="/"&&(x=h==="/"?l:An([l,h])),u.createHref({pathname:x,search:m,hash:d})}function Us(){return j.useContext(hi)!=null}function cn(){return Us()||Ve(!1),j.useContext(hi).location}function Sf(s){j.useContext(tr).static||j.useLayoutEffect(s)}function Qt(){let{isDataRoute:s}=j.useContext(Ln);return s?lg():Jp()}function Jp(){Us()||Ve(!1);let s=j.useContext(Ol),{basename:a,future:o,navigator:l}=j.useContext(tr),{matches:u}=j.useContext(Ln),{pathname:d}=cn(),h=JSON.stringify(yf(u,o.v7_relativeSplatPath)),m=j.useRef(!1);return Sf(()=>{m.current=!0}),j.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){l.go(g);return}let v=vf(g,JSON.parse(h),d,y.relative==="path");s==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:An([a,v.pathname])),(y.replace?l.replace:l.push)(v,y.state,y)},[a,l,h,d,s])}function Dl(){let{matches:s}=j.useContext(Ln),a=s[s.length-1];return a?a.params:{}}function Nf(s,a){let{relative:o}=a===void 0?{}:a,{future:l}=j.useContext(tr),{matches:u}=j.useContext(Ln),{pathname:d}=cn(),h=JSON.stringify(yf(u,l.v7_relativeSplatPath));return j.useMemo(()=>vf(s,JSON.parse(h),d,o==="path"),[s,h,d,o])}function Yp(s,a){return Xp(s,a)}function Xp(s,a,o,l){Us()||Ve(!1);let{navigator:u}=j.useContext(tr),{matches:d}=j.useContext(Ln),h=d[d.length-1],m=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let g=cn(),y;if(a){var v;let C=typeof a=="string"?Dr(a):a;x==="/"||(v=C.pathname)!=null&&v.startsWith(x)||Ve(!1),y=C}else y=g;let w=y.pathname||"/",_=w;if(x!=="/"){let C=x.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Cp(s,{pathname:_}),I=rg(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:An([x,u.encodeLocation?u.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?x:An([x,u.encodeLocation?u.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,o,l);return a&&I?j.createElement(hi.Provider,{value:{location:Os({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:_n.Pop}},I):I}function Zp(){let s=og(),a=Vp(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),o?j.createElement("pre",{style:u},o):null,null)}const eg=j.createElement(Zp,null);class tg extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,o){return o.location!==a.location||o.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:o.error,location:o.location,revalidation:a.revalidation||o.revalidation}}componentDidCatch(a,o){console.error("React Router caught the following error during render",a,o)}render(){return this.state.error!==void 0?j.createElement(Ln.Provider,{value:this.props.routeContext},j.createElement(wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ng(s){let{routeContext:a,match:o,children:l}=s,u=j.useContext(Ol);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),j.createElement(Ln.Provider,{value:a},l)}function rg(s,a,o,l){var u;if(a===void 0&&(a=[]),o===void 0&&(o=null),l===void 0&&(l=null),s==null){var d;if(!o)return null;if(o.errors)s=o.matches;else if((d=l)!=null&&d.v7_partialHydration&&a.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let h=s,m=(u=o)==null?void 0:u.errors;if(m!=null){let y=h.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id])!==void 0);y>=0||Ve(!1),h=h.slice(0,Math.min(h.length,y+1))}let x=!1,g=-1;if(o&&l&&l.v7_partialHydration)for(let y=0;y<h.length;y++){let v=h[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:w,errors:_}=o,S=v.route.loader&&w[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||S){x=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((y,v,w)=>{let _,S=!1,I=null,C=null;o&&(_=m&&v.route.id?m[v.route.id]:void 0,I=v.route.errorElement||eg,x&&(g<0&&w===0?(cg("route-fallback"),S=!0,C=null):g===w&&(S=!0,C=v.route.hydrateFallbackElement||null)));let O=a.concat(h.slice(0,w+1)),T=()=>{let A;return _?A=I:S?A=C:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=y,j.createElement(ng,{match:v,routeContext:{outlet:y,matches:O,isDataRoute:o!=null},children:A})};return o&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?j.createElement(tg,{location:o.location,revalidation:o.revalidation,component:I,error:_,children:T(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):T()},null)}var kf=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(kf||{}),Cf=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Cf||{});function sg(s){let a=j.useContext(Ol);return a||Ve(!1),a}function ag(s){let a=j.useContext(Kp);return a||Ve(!1),a}function ig(s){let a=j.useContext(Ln);return a||Ve(!1),a}function Ef(s){let a=ig(),o=a.matches[a.matches.length-1];return o.route.id||Ve(!1),o.route.id}function og(){var s;let a=j.useContext(wf),o=ag(),l=Ef();return a!==void 0?a:(s=o.errors)==null?void 0:s[l]}function lg(){let{router:s}=sg(kf.UseNavigateStable),a=Ef(Cf.UseNavigateStable),o=j.useRef(!1);return Sf(()=>{o.current=!0}),j.useCallback(function(u,d){d===void 0&&(d={}),o.current&&(typeof u=="number"?s.navigate(u):s.navigate(u,Os({fromRouteId:a},d)))},[s,a])}const Ud={};function cg(s,a,o){Ud[s]||(Ud[s]=!0)}function ug(s,a){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Je(s){Ve(!1)}function dg(s){let{basename:a="/",children:o=null,location:l,navigationType:u=_n.Pop,navigator:d,static:h=!1,future:m}=s;Us()&&Ve(!1);let x=a.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:x,navigator:d,static:h,future:Os({v7_relativeSplatPath:!1},m)}),[x,m,d,h]);typeof l=="string"&&(l=Dr(l));let{pathname:y="/",search:v="",hash:w="",state:_=null,key:S="default"}=l,I=j.useMemo(()=>{let C=Ll(y,x);return C==null?null:{location:{pathname:C,search:v,hash:w,state:_,key:S},navigationType:u}},[x,y,v,w,_,S,u]);return I==null?null:j.createElement(tr.Provider,{value:g},j.createElement(hi.Provider,{children:o,value:I}))}function fg(s){let{children:a,location:o}=s;return Yp(wl(a),o)}new Promise(()=>{});function wl(s,a){a===void 0&&(a=[]);let o=[];return j.Children.forEach(s,(l,u)=>{if(!j.isValidElement(l))return;let d=[...a,u];if(l.type===j.Fragment){o.push.apply(o,wl(l.props.children,d));return}l.type!==Je&&Ve(!1),!l.props.index||!l.props.children||Ve(!1);let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=wl(l.props.children,d)),o.push(h)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},Sl.apply(this,arguments)}function hg(s,a){if(s==null)return{};var o={},l=Object.keys(s),u,d;for(d=0;d<l.length;d++)u=l[d],!(a.indexOf(u)>=0)&&(o[u]=s[u]);return o}function mg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pg(s,a){return s.button===0&&(!a||a==="_self")&&!mg(s)}function Nl(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,o)=>{let l=s[o];return a.concat(Array.isArray(l)?l.map(u=>[o,u]):[[o,l]])},[]))}function gg(s,a){let o=Nl(s);return a&&a.forEach((l,u)=>{o.has(u)||a.getAll(u).forEach(d=>{o.append(u,d)})}),o}const xg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yg="6";try{window.__reactRouterVersion=yg}catch{}const vg="startTransition",Fd=pp[vg];function jg(s){let{basename:a,children:o,future:l,window:u}=s,d=j.useRef();d.current==null&&(d.current=Sp({window:u,v5Compat:!0}));let h=d.current,[m,x]=j.useState({action:h.action,location:h.location}),{v7_startTransition:g}=l||{},y=j.useCallback(v=>{g&&Fd?Fd(()=>x(v)):x(v)},[x,g]);return j.useLayoutEffect(()=>h.listen(y),[h,y]),j.useEffect(()=>ug(l),[l]),j.createElement(dg,{basename:a,children:o,location:m.location,navigationType:m.action,navigator:h,future:l})}const wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=j.forwardRef(function(a,o){let{onClick:l,relative:u,reloadDocument:d,replace:h,state:m,target:x,to:g,preventScrollReset:y,viewTransition:v}=a,w=hg(a,xg),{basename:_}=j.useContext(tr),S,I=!1;if(typeof g=="string"&&Sg.test(g)&&(S=g,wg))try{let A=new URL(window.location.href),M=g.startsWith("//")?new URL(A.protocol+g):new URL(g),B=Ll(M.pathname,_);M.origin===A.origin&&B!=null?g=B+M.search+M.hash:I=!0}catch{}let C=Qp(g,{relative:u}),O=Ng(g,{replace:h,state:m,target:x,preventScrollReset:y,relative:u,viewTransition:v});function T(A){l&&l(A),A.defaultPrevented||O(A)}return j.createElement("a",Sl({},w,{href:S||C,onClick:I||d?l:T,ref:o,target:x}))});var $d;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})($d||($d={}));var Md;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Md||(Md={}));function Ng(s,a){let{target:o,replace:l,state:u,preventScrollReset:d,relative:h,viewTransition:m}=a===void 0?{}:a,x=Qt(),g=cn(),y=Nf(s,{relative:h});return j.useCallback(v=>{if(pg(v,o)){v.preventDefault();let w=l!==void 0?l:ci(g)===ci(y);x(s,{replace:w,state:u,preventScrollReset:d,relative:h,viewTransition:m})}},[g,x,y,l,u,o,s,d,h,m])}function Ul(s){let a=j.useRef(Nl(s)),o=j.useRef(!1),l=cn(),u=j.useMemo(()=>gg(l.search,o.current?null:a.current),[l.search]),d=Qt(),h=j.useCallback((m,x)=>{const g=Nl(typeof m=="function"?m(u):m);o.current=!0,d("?"+g,x)},[d,u]);return[u,h]}const kg="/assets/BedTime-C6iA2POL.mp4";function Cg(){const s=j.useRef(null),[a,o]=j.useState(!1),[l,u]=j.useState(!1),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[g,y]=j.useState(!1);j.useEffect(()=>{const C=!localStorage.getItem("bedtime-video-played");u(C),h(C),s.current&&C?(console.log("First visit detected - attempting autoplay with audio"),s.current.muted=!1,x(!1),s.current.play().then(()=>{console.log("Autoplay with audio successful"),localStorage.setItem("bedtime-video-played","true"),y(!0)}).catch(O=>{console.log("Autoplay with audio blocked by browser, keeping audio available"),s.current.muted=!1,x(!1),s.current.play().then(()=>{o(!0),y(!0),localStorage.setItem("bedtime-video-played","true")}).catch(T=>{console.log("All autoplay attempts failed"),o(!0),y(!0)})})):s.current&&(console.log("Not first visit - video ready for manual play with audio"),s.current.muted=!1,x(!1),s.current.pause(),s.current.currentTime=0,y(!0))},[]);const v=()=>{s.current&&(s.current.muted=!1,x(!1),s.current.currentTime=0,s.current.play(),localStorage.setItem("bedtime-video-played","true"),o(!1))},w=()=>{s.current&&!l&&(s.current.paused?s.current.play():s.current.pause())},_=()=>{if(s.current){const I=!m;s.current.muted=I,x(I),!I&&s.current.paused&&s.current.play()}},S=()=>{l||(localStorage.removeItem("bedtime-video-played"),console.log("Video first-visit flag reset - refresh page to test autoplay again"))};return n.jsx("div",{className:"welcome",children:n.jsxs("div",{className:"video-container",children:[a&&l&&n.jsx("div",{className:"audio-button-overlay",children:n.jsx("button",{className:"play-audio-button",onClick:v,title:"Play video with audio",children:" Play with Audio"})}),g&&n.jsx("div",{className:"sound-toggle-overlay",children:n.jsx("button",{className:"sound-toggle-button",onClick:_,title:m?"Unmute video":"Mute video",children:m?"":""})}),!l&&n.jsx("div",{className:"manual-play-overlay",children:n.jsx("button",{className:"manual-play-button",onClick:w,title:"Click to play video",children:""})}),n.jsxs("video",{ref:s,className:`video-element ${l?"":"manual-play-ready"}`,controls:!0,autoPlay:!1,onClick:w,onDoubleClick:S,children:[n.jsx("source",{src:kg,type:"video/mp4"}),"Your browser does not support the video tag. Please update your browser."]})]})})}const bf="https://bapi.ingasti.com",re=bf.replace(/\/$/,""),pe={AUTH:{LOGIN:`${re}/api/auth/login`,GOOGLE:`${re}/api/auth/google`,FACEBOOK:`${re}/api/auth/facebook`,TWITTER:`${re}/api/auth/twitter`,LOGOUT:`${re}/api/auth/logout`,VERIFY:`${re}/api/auth/verify`,COGNITO_TEST:`${re}/api/auth/cognito/test`,COGNITO_LOGIN:`${re}/api/auth/cognito/login`},ADMIN:{LOGIN:`${re}/api/admin/login`,VERIFY:`${re}/api/admin/verify`,LOGOUT:`${re}/api/admin/logout`,USERS:`${re}/api/users`,USER:s=>`${re}/api/users/${s}`},POSTS:{LIST:`${re}/api/posts`,CREATE:`${re}/api/posts`,GET:s=>`${re}/api/posts/${s}`,UPDATE:s=>`${re}/api/posts/${s}`,DELETE:s=>`${re}/api/posts/${s}`},USERS:{PROFILE:`${re}/api/users/profile`,UPDATE:`${re}/api/users/profile`},SETTINGS:{GET:`${re}/api/settings`,GET_ADMIN:`${re}/api/settings/admin`,UPDATE:`${re}/api/settings`,SOCIAL:`${re}/api/settings/social`,CONTACT:`${re}/api/settings/contact`,SMTP:`${re}/api/settings/smtp`,SMTP_TEST:`${re}/api/settings/smtp/test`,OAUTH:`${re}/api/settings/oauth`,OAUTH_TEST:s=>`${re}/api/settings/oauth/test/${s}`,AWS_EXTERNAL_ID:`${re}/api/settings/aws-external-id`,AWS_CONFIG:`${re}/api/settings/aws-config`,MEDIA_STORAGE:`${re}/api/settings/media-storage`},CONTACT:`${re}/api/contact`,UPLOAD:`${re}/api/upload`,PUBLISH:{MARKDOWN:`${re}/api/publish/markdown`,CONTENT:`${re}/api/publish/content`},HEALTH:`${re}/health`,MEDIA:{BASE_URL:re,BASE:`${re}/api/media`,FILES:`${re}/api/media/files`,FOLDERS:`${re}/api/media/folders`,UPLOAD:`${re}/api/media/upload`,DELETE:s=>`${re}/api/media/files/${s}`,TRASH:`${re}/api/media/trash`,RESTORE:s=>`${re}/api/media/trash/${s}/restore`,EMPTY_TRASH:`${re}/api/media/trash/empty`,TEST_AWS_CONNECTION:`${re}/api/media/test-aws-connection`,TEST_OIDC_CONNECTION:`${re}/api/media/test-oidc-connection`,SYNC_S3:`${re}/api/media/sync-s3`,SYNC_S3_OIDC:`${re}/api/media/sync-s3-oidc`,CREDENTIAL_STATUS:`${re}/api/media/credential-status`,REFRESH_CREDENTIALS:`${re}/api/media/refresh-credentials`,INITIALIZE_SSO:`${re}/api/media/initialize-sso`,COMPLETE_SSO:`${re}/api/media/complete-sso`}};console.log("API Configuration:",{API_BASE_URL:bf,API_URL:re,NODE_ENV:"production"});const Fl=()=>{const[s,a]=j.useState({linkedin:"",twitter:"",instagram:"",threads:""}),[o,l]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const d=await fetch(pe.SETTINGS.SOCIAL);if(d.ok){const h=await d.json();a(h)}else console.error("Failed to fetch social links:",d.status,d.statusText)}catch(d){console.error("Error fetching social links:",d)}finally{l(!1)}})()},[]),{socialLinks:s,loading:o}};function Tf(s,a){return function(){return s.apply(a,arguments)}}const{toString:Eg}=Object.prototype,{getPrototypeOf:$l}=Object,{iterator:mi,toStringTag:If}=Symbol,pi=(s=>a=>{const o=Eg.call(a);return s[o]||(s[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=s=>(s=s.toLowerCase(),a=>pi(a)===s),gi=s=>a=>typeof a===s,{isArray:Ur}=Array,Or=gi("undefined");function Fs(s){return s!==null&&!Or(s)&&s.constructor!==null&&!Or(s.constructor)&&vt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Pf=Bt("ArrayBuffer");function bg(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&Pf(s.buffer),a}const Tg=gi("string"),vt=gi("function"),_f=gi("number"),$s=s=>s!==null&&typeof s=="object",Ig=s=>s===!0||s===!1,ai=s=>{if(pi(s)!=="object")return!1;const a=$l(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(If in s)&&!(mi in s)},Pg=s=>{if(!$s(s)||Fs(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},_g=Bt("Date"),Ag=Bt("File"),Rg=Bt("Blob"),Lg=Bt("FileList"),Og=s=>$s(s)&&vt(s.pipe),Dg=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||vt(s.append)&&((a=pi(s))==="formdata"||a==="object"&&vt(s.toString)&&s.toString()==="[object FormData]"))},Ug=Bt("URLSearchParams"),[Fg,$g,Mg,zg]=["ReadableStream","Request","Response","Headers"].map(Bt),Bg=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(s,a,{allOwnKeys:o=!1}={}){if(s===null||typeof s>"u")return;let l,u;if(typeof s!="object"&&(s=[s]),Ur(s))for(l=0,u=s.length;l<u;l++)a.call(null,s[l],l,s);else{if(Fs(s))return;const d=o?Object.getOwnPropertyNames(s):Object.keys(s),h=d.length;let m;for(l=0;l<h;l++)m=d[l],a.call(null,s[m],m,s)}}function Af(s,a){if(Fs(s))return null;a=a.toLowerCase();const o=Object.keys(s);let l=o.length,u;for(;l-- >0;)if(u=o[l],a===u.toLowerCase())return u;return null}const Jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rf=s=>!Or(s)&&s!==Jn;function kl(){const{caseless:s,skipUndefined:a}=Rf(this)&&this||{},o={},l=(u,d)=>{const h=s&&Af(o,d)||d;ai(o[h])&&ai(u)?o[h]=kl(o[h],u):ai(u)?o[h]=kl({},u):Ur(u)?o[h]=u.slice():(!a||!Or(u))&&(o[h]=u)};for(let u=0,d=arguments.length;u<d;u++)arguments[u]&&Ms(arguments[u],l);return o}const Wg=(s,a,o,{allOwnKeys:l}={})=>(Ms(a,(u,d)=>{o&&vt(u)?s[d]=Tf(u,o):s[d]=u},{allOwnKeys:l}),s),Hg=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),qg=(s,a,o,l)=>{s.prototype=Object.create(a.prototype,l),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),o&&Object.assign(s.prototype,o)},Vg=(s,a,o,l)=>{let u,d,h;const m={};if(a=a||{},s==null)return a;do{for(u=Object.getOwnPropertyNames(s),d=u.length;d-- >0;)h=u[d],(!l||l(h,s,a))&&!m[h]&&(a[h]=s[h],m[h]=!0);s=o!==!1&&$l(s)}while(s&&(!o||o(s,a))&&s!==Object.prototype);return a},Gg=(s,a,o)=>{s=String(s),(o===void 0||o>s.length)&&(o=s.length),o-=a.length;const l=s.indexOf(a,o);return l!==-1&&l===o},Kg=s=>{if(!s)return null;if(Ur(s))return s;let a=s.length;if(!_f(a))return null;const o=new Array(a);for(;a-- >0;)o[a]=s[a];return o},Qg=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&$l(Uint8Array)),Jg=(s,a)=>{const l=(s&&s[mi]).call(s);let u;for(;(u=l.next())&&!u.done;){const d=u.value;a.call(s,d[0],d[1])}},Yg=(s,a)=>{let o;const l=[];for(;(o=s.exec(a))!==null;)l.push(o);return l},Xg=Bt("HTMLFormElement"),Zg=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,l,u){return l.toUpperCase()+u}),zd=(({hasOwnProperty:s})=>(a,o)=>s.call(a,o))(Object.prototype),ex=Bt("RegExp"),Lf=(s,a)=>{const o=Object.getOwnPropertyDescriptors(s),l={};Ms(o,(u,d)=>{let h;(h=a(u,d,s))!==!1&&(l[d]=h||u)}),Object.defineProperties(s,l)},tx=s=>{Lf(s,(a,o)=>{if(vt(s)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const l=s[o];if(vt(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},nx=(s,a)=>{const o={},l=u=>{u.forEach(d=>{o[d]=!0})};return Ur(s)?l(s):l(String(s).split(a)),o},rx=()=>{},sx=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function ax(s){return!!(s&&vt(s.append)&&s[If]==="FormData"&&s[mi])}const ix=s=>{const a=new Array(10),o=(l,u)=>{if($s(l)){if(a.indexOf(l)>=0)return;if(Fs(l))return l;if(!("toJSON"in l)){a[u]=l;const d=Ur(l)?[]:{};return Ms(l,(h,m)=>{const x=o(h,u+1);!Or(x)&&(d[m]=x)}),a[u]=void 0,d}}return l};return o(s,0)},ox=Bt("AsyncFunction"),lx=s=>s&&($s(s)||vt(s))&&vt(s.then)&&vt(s.catch),Of=((s,a)=>s?setImmediate:a?((o,l)=>(Jn.addEventListener("message",({source:u,data:d})=>{u===Jn&&d===o&&l.length&&l.shift()()},!1),u=>{l.push(u),Jn.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",vt(Jn.postMessage)),cx=typeof queueMicrotask<"u"?queueMicrotask.bind(Jn):typeof process<"u"&&process.nextTick||Of,ux=s=>s!=null&&vt(s[mi]),z={isArray:Ur,isArrayBuffer:Pf,isBuffer:Fs,isFormData:Dg,isArrayBufferView:bg,isString:Tg,isNumber:_f,isBoolean:Ig,isObject:$s,isPlainObject:ai,isEmptyObject:Pg,isReadableStream:Fg,isRequest:$g,isResponse:Mg,isHeaders:zg,isUndefined:Or,isDate:_g,isFile:Ag,isBlob:Rg,isRegExp:ex,isFunction:vt,isStream:Og,isURLSearchParams:Ug,isTypedArray:Qg,isFileList:Lg,forEach:Ms,merge:kl,extend:Wg,trim:Bg,stripBOM:Hg,inherits:qg,toFlatObject:Vg,kindOf:pi,kindOfTest:Bt,endsWith:Gg,toArray:Kg,forEachEntry:Jg,matchAll:Yg,isHTMLForm:Xg,hasOwnProperty:zd,hasOwnProp:zd,reduceDescriptors:Lf,freezeMethods:tx,toObjectSet:nx,toCamelCase:Zg,noop:rx,toFiniteNumber:sx,findKey:Af,global:Jn,isContextDefined:Rf,isSpecCompliantForm:ax,toJSONObject:ix,isAsyncFn:ox,isThenable:lx,setImmediate:Of,asap:cx,isIterable:ux};function ye(s,a,o,l,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),o&&(this.config=o),l&&(this.request=l),u&&(this.response=u,this.status=u.status?u.status:null)}z.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Df=ye.prototype,Uf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Uf[s]={value:s}});Object.defineProperties(ye,Uf);Object.defineProperty(Df,"isAxiosError",{value:!0});ye.from=(s,a,o,l,u,d)=>{const h=Object.create(Df);z.toFlatObject(s,h,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const m=s&&s.message?s.message:"Error",x=a==null&&s?s.code:a;return ye.call(h,m,x,o,l,u),s&&h.cause==null&&Object.defineProperty(h,"cause",{value:s,configurable:!0}),h.name=s&&s.name||"Error",d&&Object.assign(h,d),h};const dx=null;function Cl(s){return z.isPlainObject(s)||z.isArray(s)}function Ff(s){return z.endsWith(s,"[]")?s.slice(0,-2):s}function Bd(s,a,o){return s?s.concat(a).map(function(u,d){return u=Ff(u),!o&&d?"["+u+"]":u}).join(o?".":""):a}function fx(s){return z.isArray(s)&&!s.some(Cl)}const hx=z.toFlatObject(z,{},null,function(a){return/^is[A-Z]/.test(a)});function xi(s,a,o){if(!z.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,o=z.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,C){return!z.isUndefined(C[I])});const l=o.metaTokens,u=o.visitor||y,d=o.dots,h=o.indexes,x=(o.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(a);if(!z.isFunction(u))throw new TypeError("visitor must be a function");function g(S){if(S===null)return"";if(z.isDate(S))return S.toISOString();if(z.isBoolean(S))return S.toString();if(!x&&z.isBlob(S))throw new ye("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(S)||z.isTypedArray(S)?x&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,I,C){let O=S;if(S&&!C&&typeof S=="object"){if(z.endsWith(I,"{}"))I=l?I:I.slice(0,-2),S=JSON.stringify(S);else if(z.isArray(S)&&fx(S)||(z.isFileList(S)||z.endsWith(I,"[]"))&&(O=z.toArray(S)))return I=Ff(I),O.forEach(function(A,M){!(z.isUndefined(A)||A===null)&&a.append(h===!0?Bd([I],M,d):h===null?I:I+"[]",g(A))}),!1}return Cl(S)?!0:(a.append(Bd(C,I,d),g(S)),!1)}const v=[],w=Object.assign(hx,{defaultVisitor:y,convertValue:g,isVisitable:Cl});function _(S,I){if(!z.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+I.join("."));v.push(S),z.forEach(S,function(O,T){(!(z.isUndefined(O)||O===null)&&u.call(a,O,z.isString(T)?T.trim():T,I,w))===!0&&_(O,I?I.concat(T):[T])}),v.pop()}}if(!z.isObject(s))throw new TypeError("data must be an object");return _(s),a}function Wd(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Ml(s,a){this._pairs=[],s&&xi(s,this,a)}const $f=Ml.prototype;$f.append=function(a,o){this._pairs.push([a,o])};$f.toString=function(a){const o=a?function(l){return a.call(this,l,Wd)}:Wd;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function mx(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mf(s,a,o){if(!a)return s;const l=o&&o.encode||mx;z.isFunction(o)&&(o={serialize:o});const u=o&&o.serialize;let d;if(u?d=u(a,o):d=z.isURLSearchParams(a)?a.toString():new Ml(a,o).toString(l),d){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class Hd{constructor(){this.handlers=[]}use(a,o,l){return this.handlers.push({fulfilled:a,rejected:o,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){z.forEach(this.handlers,function(l){l!==null&&a(l)})}}const zf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},px=typeof URLSearchParams<"u"?URLSearchParams:Ml,gx=typeof FormData<"u"?FormData:null,xx=typeof Blob<"u"?Blob:null,yx={isBrowser:!0,classes:{URLSearchParams:px,FormData:gx,Blob:xx},protocols:["http","https","file","blob","url","data"]},zl=typeof window<"u"&&typeof document<"u",El=typeof navigator=="object"&&navigator||void 0,vx=zl&&(!El||["ReactNative","NativeScript","NS"].indexOf(El.product)<0),jx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wx=zl&&window.location.href||"http://localhost",Sx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zl,hasStandardBrowserEnv:vx,hasStandardBrowserWebWorkerEnv:jx,navigator:El,origin:wx},Symbol.toStringTag,{value:"Module"})),ot={...Sx,...yx};function Nx(s,a){return xi(s,new ot.classes.URLSearchParams,{visitor:function(o,l,u,d){return ot.isNode&&z.isBuffer(o)?(this.append(l,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function kx(s){return z.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Cx(s){const a={},o=Object.keys(s);let l;const u=o.length;let d;for(l=0;l<u;l++)d=o[l],a[d]=s[d];return a}function Bf(s){function a(o,l,u,d){let h=o[d++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),x=d>=o.length;return h=!h&&z.isArray(u)?u.length:h,x?(z.hasOwnProp(u,h)?u[h]=[u[h],l]:u[h]=l,!m):((!u[h]||!z.isObject(u[h]))&&(u[h]=[]),a(o,l,u[h],d)&&z.isArray(u[h])&&(u[h]=Cx(u[h])),!m)}if(z.isFormData(s)&&z.isFunction(s.entries)){const o={};return z.forEachEntry(s,(l,u)=>{a(kx(l),u,o,0)}),o}return null}function Ex(s,a,o){if(z.isString(s))try{return(a||JSON.parse)(s),z.trim(s)}catch(l){if(l.name!=="SyntaxError")throw l}return(o||JSON.stringify)(s)}const zs={transitional:zf,adapter:["xhr","http","fetch"],transformRequest:[function(a,o){const l=o.getContentType()||"",u=l.indexOf("application/json")>-1,d=z.isObject(a);if(d&&z.isHTMLForm(a)&&(a=new FormData(a)),z.isFormData(a))return u?JSON.stringify(Bf(a)):a;if(z.isArrayBuffer(a)||z.isBuffer(a)||z.isStream(a)||z.isFile(a)||z.isBlob(a)||z.isReadableStream(a))return a;if(z.isArrayBufferView(a))return a.buffer;if(z.isURLSearchParams(a))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let m;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Nx(a,this.formSerializer).toString();if((m=z.isFileList(a))||l.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return xi(m?{"files[]":a}:a,x&&new x,this.formSerializer)}}return d||u?(o.setContentType("application/json",!1),Ex(a)):a}],transformResponse:[function(a){const o=this.transitional||zs.transitional,l=o&&o.forcedJSONParsing,u=this.responseType==="json";if(z.isResponse(a)||z.isReadableStream(a))return a;if(a&&z.isString(a)&&(l&&!this.responseType||u)){const h=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(a,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?ye.from(m,ye.ERR_BAD_RESPONSE,this,null,this.response):m}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],s=>{zs.headers[s]={}});const bx=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tx=s=>{const a={};let o,l,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),o=h.substring(0,u).trim().toLowerCase(),l=h.substring(u+1).trim(),!(!o||a[o]&&bx[o])&&(o==="set-cookie"?a[o]?a[o].push(l):a[o]=[l]:a[o]=a[o]?a[o]+", "+l:l)}),a},qd=Symbol("internals");function _s(s){return s&&String(s).trim().toLowerCase()}function ii(s){return s===!1||s==null?s:z.isArray(s)?s.map(ii):String(s)}function Ix(s){const a=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=o.exec(s);)a[l[1]]=l[2];return a}const Px=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ll(s,a,o,l,u){if(z.isFunction(l))return l.call(this,a,o);if(u&&(a=o),!!z.isString(a)){if(z.isString(l))return a.indexOf(l)!==-1;if(z.isRegExp(l))return l.test(a)}}function _x(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,o,l)=>o.toUpperCase()+l)}function Ax(s,a){const o=z.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(s,l+o,{value:function(u,d,h){return this[l].call(this,a,u,d,h)},configurable:!0})})}let jt=class{constructor(a){a&&this.set(a)}set(a,o,l){const u=this;function d(m,x,g){const y=_s(x);if(!y)throw new Error("header name must be a non-empty string");const v=z.findKey(u,y);(!v||u[v]===void 0||g===!0||g===void 0&&u[v]!==!1)&&(u[v||x]=ii(m))}const h=(m,x)=>z.forEach(m,(g,y)=>d(g,y,x));if(z.isPlainObject(a)||a instanceof this.constructor)h(a,o);else if(z.isString(a)&&(a=a.trim())&&!Px(a))h(Tx(a),o);else if(z.isObject(a)&&z.isIterable(a)){let m={},x,g;for(const y of a){if(!z.isArray(y))throw TypeError("Object iterator must return a key-value pair");m[g=y[0]]=(x=m[g])?z.isArray(x)?[...x,y[1]]:[x,y[1]]:y[1]}h(m,o)}else a!=null&&d(o,a,l);return this}get(a,o){if(a=_s(a),a){const l=z.findKey(this,a);if(l){const u=this[l];if(!o)return u;if(o===!0)return Ix(u);if(z.isFunction(o))return o.call(this,u,l);if(z.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,o){if(a=_s(a),a){const l=z.findKey(this,a);return!!(l&&this[l]!==void 0&&(!o||ll(this,this[l],l,o)))}return!1}delete(a,o){const l=this;let u=!1;function d(h){if(h=_s(h),h){const m=z.findKey(l,h);m&&(!o||ll(l,l[m],m,o))&&(delete l[m],u=!0)}}return z.isArray(a)?a.forEach(d):d(a),u}clear(a){const o=Object.keys(this);let l=o.length,u=!1;for(;l--;){const d=o[l];(!a||ll(this,this[d],d,a,!0))&&(delete this[d],u=!0)}return u}normalize(a){const o=this,l={};return z.forEach(this,(u,d)=>{const h=z.findKey(l,d);if(h){o[h]=ii(u),delete o[d];return}const m=a?_x(d):String(d).trim();m!==d&&delete o[d],o[m]=ii(u),l[m]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const o=Object.create(null);return z.forEach(this,(l,u)=>{l!=null&&l!==!1&&(o[u]=a&&z.isArray(l)?l.join(", "):l)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,o])=>a+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...o){const l=new this(a);return o.forEach(u=>l.set(u)),l}static accessor(a){const l=(this[qd]=this[qd]={accessors:{}}).accessors,u=this.prototype;function d(h){const m=_s(h);l[m]||(Ax(u,h),l[m]=!0)}return z.isArray(a)?a.forEach(d):d(a),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(jt.prototype,({value:s},a)=>{let o=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(l){this[o]=l}}});z.freezeMethods(jt);function cl(s,a){const o=this||zs,l=a||o,u=jt.from(l.headers);let d=l.data;return z.forEach(s,function(m){d=m.call(o,d,u.normalize(),a?a.status:void 0)}),u.normalize(),d}function Wf(s){return!!(s&&s.__CANCEL__)}function Fr(s,a,o){ye.call(this,s??"canceled",ye.ERR_CANCELED,a,o),this.name="CanceledError"}z.inherits(Fr,ye,{__CANCEL__:!0});function Hf(s,a,o){const l=o.config.validateStatus;!o.status||!l||l(o.status)?s(o):a(new ye("Request failed with status code "+o.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Rx(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function Lx(s,a){s=s||10;const o=new Array(s),l=new Array(s);let u=0,d=0,h;return a=a!==void 0?a:1e3,function(x){const g=Date.now(),y=l[d];h||(h=g),o[u]=x,l[u]=g;let v=d,w=0;for(;v!==u;)w+=o[v++],v=v%s;if(u=(u+1)%s,u===d&&(d=(d+1)%s),g-h<a)return;const _=y&&g-y;return _?Math.round(w*1e3/_):void 0}}function Ox(s,a){let o=0,l=1e3/a,u,d;const h=(g,y=Date.now())=>{o=y,u=null,d&&(clearTimeout(d),d=null),s(...g)};return[(...g)=>{const y=Date.now(),v=y-o;v>=l?h(g,y):(u=g,d||(d=setTimeout(()=>{d=null,h(u)},l-v)))},()=>u&&h(u)]}const ui=(s,a,o=3)=>{let l=0;const u=Lx(50,250);return Ox(d=>{const h=d.loaded,m=d.lengthComputable?d.total:void 0,x=h-l,g=u(x),y=h<=m;l=h;const v={loaded:h,total:m,progress:m?h/m:void 0,bytes:x,rate:g||void 0,estimated:g&&m&&y?(m-h)/g:void 0,event:d,lengthComputable:m!=null,[a?"download":"upload"]:!0};s(v)},o)},Vd=(s,a)=>{const o=s!=null;return[l=>a[0]({lengthComputable:o,total:s,loaded:l}),a[1]]},Gd=s=>(...a)=>z.asap(()=>s(...a)),Dx=ot.hasStandardBrowserEnv?((s,a)=>o=>(o=new URL(o,ot.origin),s.protocol===o.protocol&&s.host===o.host&&(a||s.port===o.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,Ux=ot.hasStandardBrowserEnv?{write(s,a,o,l,u,d){const h=[s+"="+encodeURIComponent(a)];z.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),z.isString(l)&&h.push("path="+l),z.isString(u)&&h.push("domain="+u),d===!0&&h.push("secure"),document.cookie=h.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fx(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function $x(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function qf(s,a,o){let l=!Fx(a);return s&&(l||o==!1)?$x(s,a):a}const Kd=s=>s instanceof jt?{...s}:s;function er(s,a){a=a||{};const o={};function l(g,y,v,w){return z.isPlainObject(g)&&z.isPlainObject(y)?z.merge.call({caseless:w},g,y):z.isPlainObject(y)?z.merge({},y):z.isArray(y)?y.slice():y}function u(g,y,v,w){if(z.isUndefined(y)){if(!z.isUndefined(g))return l(void 0,g,v,w)}else return l(g,y,v,w)}function d(g,y){if(!z.isUndefined(y))return l(void 0,y)}function h(g,y){if(z.isUndefined(y)){if(!z.isUndefined(g))return l(void 0,g)}else return l(void 0,y)}function m(g,y,v){if(v in a)return l(g,y);if(v in s)return l(void 0,g)}const x={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,y,v)=>u(Kd(g),Kd(y),v,!0)};return z.forEach(Object.keys({...s,...a}),function(y){const v=x[y]||u,w=v(s[y],a[y],y);z.isUndefined(w)&&v!==m||(o[y]=w)}),o}const Vf=s=>{const a=er({},s);let{data:o,withXSRFToken:l,xsrfHeaderName:u,xsrfCookieName:d,headers:h,auth:m}=a;if(a.headers=h=jt.from(h),a.url=Mf(qf(a.baseURL,a.url,a.allowAbsoluteUrls),s.params,s.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),z.isFormData(o)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(z.isFunction(o.getHeaders)){const x=o.getHeaders(),g=["content-type","content-length"];Object.entries(x).forEach(([y,v])=>{g.includes(y.toLowerCase())&&h.set(y,v)})}}if(ot.hasStandardBrowserEnv&&(l&&z.isFunction(l)&&(l=l(a)),l||l!==!1&&Dx(a.url))){const x=u&&d&&Ux.read(d);x&&h.set(u,x)}return a},Mx=typeof XMLHttpRequest<"u",zx=Mx&&function(s){return new Promise(function(o,l){const u=Vf(s);let d=u.data;const h=jt.from(u.headers).normalize();let{responseType:m,onUploadProgress:x,onDownloadProgress:g}=u,y,v,w,_,S;function I(){_&&_(),S&&S(),u.cancelToken&&u.cancelToken.unsubscribe(y),u.signal&&u.signal.removeEventListener("abort",y)}let C=new XMLHttpRequest;C.open(u.method.toUpperCase(),u.url,!0),C.timeout=u.timeout;function O(){if(!C)return;const A=jt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),B={data:!m||m==="text"||m==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:A,config:s,request:C};Hf(function(W){o(W),I()},function(W){l(W),I()},B),C=null}"onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(l(new ye("Request aborted",ye.ECONNABORTED,s,C)),C=null)},C.onerror=function(M){const B=M&&M.message?M.message:"Network Error",G=new ye(B,ye.ERR_NETWORK,s,C);G.event=M||null,l(G),C=null},C.ontimeout=function(){let M=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const B=u.transitional||zf;u.timeoutErrorMessage&&(M=u.timeoutErrorMessage),l(new ye(M,B.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,s,C)),C=null},d===void 0&&h.setContentType(null),"setRequestHeader"in C&&z.forEach(h.toJSON(),function(M,B){C.setRequestHeader(B,M)}),z.isUndefined(u.withCredentials)||(C.withCredentials=!!u.withCredentials),m&&m!=="json"&&(C.responseType=u.responseType),g&&([w,S]=ui(g,!0),C.addEventListener("progress",w)),x&&C.upload&&([v,_]=ui(x),C.upload.addEventListener("progress",v),C.upload.addEventListener("loadend",_)),(u.cancelToken||u.signal)&&(y=A=>{C&&(l(!A||A.type?new Fr(null,s,C):A),C.abort(),C=null)},u.cancelToken&&u.cancelToken.subscribe(y),u.signal&&(u.signal.aborted?y():u.signal.addEventListener("abort",y)));const T=Rx(u.url);if(T&&ot.protocols.indexOf(T)===-1){l(new ye("Unsupported protocol "+T+":",ye.ERR_BAD_REQUEST,s));return}C.send(d||null)})},Bx=(s,a)=>{const{length:o}=s=s?s.filter(Boolean):[];if(a||o){let l=new AbortController,u;const d=function(g){if(!u){u=!0,m();const y=g instanceof Error?g:this.reason;l.abort(y instanceof ye?y:new Fr(y instanceof Error?y.message:y))}};let h=a&&setTimeout(()=>{h=null,d(new ye(`timeout ${a} of ms exceeded`,ye.ETIMEDOUT))},a);const m=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),s=null)};s.forEach(g=>g.addEventListener("abort",d));const{signal:x}=l;return x.unsubscribe=()=>z.asap(m),x}},Wx=function*(s,a){let o=s.byteLength;if(o<a){yield s;return}let l=0,u;for(;l<o;)u=l+a,yield s.slice(l,u),l=u},Hx=async function*(s,a){for await(const o of qx(s))yield*Wx(o,a)},qx=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:o,value:l}=await a.read();if(o)break;yield l}}finally{await a.cancel()}},Qd=(s,a,o,l)=>{const u=Hx(s,a);let d=0,h,m=x=>{h||(h=!0,l&&l(x))};return new ReadableStream({async pull(x){try{const{done:g,value:y}=await u.next();if(g){m(),x.close();return}let v=y.byteLength;if(o){let w=d+=v;o(w)}x.enqueue(new Uint8Array(y))}catch(g){throw m(g),g}},cancel(x){return m(x),u.return()}},{highWaterMark:2})},Jd=64*1024,{isFunction:ri}=z,Vx=(({Request:s,Response:a})=>({Request:s,Response:a}))(z.global),{ReadableStream:Yd,TextEncoder:Xd}=z.global,Zd=(s,...a)=>{try{return!!s(...a)}catch{return!1}},Gx=s=>{s=z.merge.call({skipUndefined:!0},Vx,s);const{fetch:a,Request:o,Response:l}=s,u=a?ri(a):typeof fetch=="function",d=ri(o),h=ri(l);if(!u)return!1;const m=u&&ri(Yd),x=u&&(typeof Xd=="function"?(S=>I=>S.encode(I))(new Xd):async S=>new Uint8Array(await new o(S).arrayBuffer())),g=d&&m&&Zd(()=>{let S=!1;const I=new o(ot.origin,{body:new Yd,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!I}),y=h&&m&&Zd(()=>z.isReadableStream(new l("").body)),v={stream:y&&(S=>S.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!v[S]&&(v[S]=(I,C)=>{let O=I&&I[S];if(O)return O.call(I);throw new ye(`Response type '${S}' is not supported`,ye.ERR_NOT_SUPPORT,C)})});const w=async S=>{if(S==null)return 0;if(z.isBlob(S))return S.size;if(z.isSpecCompliantForm(S))return(await new o(ot.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(z.isArrayBufferView(S)||z.isArrayBuffer(S))return S.byteLength;if(z.isURLSearchParams(S)&&(S=S+""),z.isString(S))return(await x(S)).byteLength},_=async(S,I)=>{const C=z.toFiniteNumber(S.getContentLength());return C??w(I)};return async S=>{let{url:I,method:C,data:O,signal:T,cancelToken:A,timeout:M,onDownloadProgress:B,onUploadProgress:G,responseType:W,headers:J,withCredentials:se="same-origin",fetchOptions:oe}=Vf(S),xe=a||fetch;W=W?(W+"").toLowerCase():"text";let je=Bx([T,A&&A.toAbortSignal()],M),Ae=null;const Pe=je&&je.unsubscribe&&(()=>{je.unsubscribe()});let Ge;try{if(G&&g&&C!=="get"&&C!=="head"&&(Ge=await _(J,O))!==0){let R=new o(I,{method:"POST",body:O,duplex:"half"}),E;if(z.isFormData(O)&&(E=R.headers.get("content-type"))&&J.setContentType(E),R.body){const[Z,ne]=Vd(Ge,ui(Gd(G)));O=Qd(R.body,Jd,Z,ne)}}z.isString(se)||(se=se?"include":"omit");const Te=d&&"credentials"in o.prototype,ke={...oe,signal:je,method:C.toUpperCase(),headers:J.normalize().toJSON(),body:O,duplex:"half",credentials:Te?se:void 0};Ae=d&&new o(I,ke);let b=await(d?xe(Ae,oe):xe(I,ke));const H=y&&(W==="stream"||W==="response");if(y&&(B||H&&Pe)){const R={};["status","statusText","headers"].forEach(X=>{R[X]=b[X]});const E=z.toFiniteNumber(b.headers.get("content-length")),[Z,ne]=B&&Vd(E,ui(Gd(B),!0))||[];b=new l(Qd(b.body,Jd,Z,()=>{ne&&ne(),Pe&&Pe()}),R)}W=W||"text";let Q=await v[z.findKey(v,W)||"text"](b,S);return!H&&Pe&&Pe(),await new Promise((R,E)=>{Hf(R,E,{data:Q,headers:jt.from(b.headers),status:b.status,statusText:b.statusText,config:S,request:Ae})})}catch(Te){throw Pe&&Pe(),Te&&Te.name==="TypeError"&&/Load failed|fetch/i.test(Te.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,S,Ae),{cause:Te.cause||Te}):ye.from(Te,Te&&Te.code,S,Ae)}}},Kx=new Map,Gf=s=>{let a=s?s.env:{};const{fetch:o,Request:l,Response:u}=a,d=[l,u,o];let h=d.length,m=h,x,g,y=Kx;for(;m--;)x=d[m],g=y.get(x),g===void 0&&y.set(x,g=m?new Map:Gx(a)),y=g;return g};Gf();const bl={http:dx,xhr:zx,fetch:{get:Gf}};z.forEach(bl,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const ef=s=>`- ${s}`,Qx=s=>z.isFunction(s)||s===null||s===!1,Kf={getAdapter:(s,a)=>{s=z.isArray(s)?s:[s];const{length:o}=s;let l,u;const d={};for(let h=0;h<o;h++){l=s[h];let m;if(u=l,!Qx(l)&&(u=bl[(m=String(l)).toLowerCase()],u===void 0))throw new ye(`Unknown adapter '${m}'`);if(u&&(z.isFunction(u)||(u=u.get(a))))break;d[m||"#"+h]=u}if(!u){const h=Object.entries(d).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=o?h.length>1?`since :
`+h.map(ef).join(`
`):" "+ef(h[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return u},adapters:bl};function ul(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Fr(null,s)}function tf(s){return ul(s),s.headers=jt.from(s.headers),s.data=cl.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Kf.getAdapter(s.adapter||zs.adapter,s)(s).then(function(l){return ul(s),l.data=cl.call(s,s.transformResponse,l),l.headers=jt.from(l.headers),l},function(l){return Wf(l)||(ul(s),l&&l.response&&(l.response.data=cl.call(s,s.transformResponse,l.response),l.response.headers=jt.from(l.response.headers))),Promise.reject(l)})}const Qf="1.12.2",yi={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{yi[s]=function(l){return typeof l===s||"a"+(a<1?"n ":" ")+s}});const nf={};yi.transitional=function(a,o,l){function u(d,h){return"[Axios v"+Qf+"] Transitional option '"+d+"'"+h+(l?". "+l:"")}return(d,h,m)=>{if(a===!1)throw new ye(u(h," has been removed"+(o?" in "+o:"")),ye.ERR_DEPRECATED);return o&&!nf[h]&&(nf[h]=!0,console.warn(u(h," has been deprecated since v"+o+" and will be removed in the near future"))),a?a(d,h,m):!0}};yi.spelling=function(a){return(o,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function Jx(s,a,o){if(typeof s!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const l=Object.keys(s);let u=l.length;for(;u-- >0;){const d=l[u],h=a[d];if(h){const m=s[d],x=m===void 0||h(m,d,s);if(x!==!0)throw new ye("option "+d+" must be "+x,ye.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ye("Unknown option "+d,ye.ERR_BAD_OPTION)}}const oi={assertOptions:Jx,validators:yi},Kt=oi.validators;let Zn=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Hd,response:new Hd}}async request(a,o){try{return await this._request(a,o)}catch(l){if(l instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const d=u.stack?u.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,o){typeof a=="string"?(o=o||{},o.url=a):o=a||{},o=er(this.defaults,o);const{transitional:l,paramsSerializer:u,headers:d}=o;l!==void 0&&oi.assertOptions(l,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),u!=null&&(z.isFunction(u)?o.paramsSerializer={serialize:u}:oi.assertOptions(u,{encode:Kt.function,serialize:Kt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),oi.assertOptions(o,{baseUrl:Kt.spelling("baseURL"),withXsrfToken:Kt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=d&&z.merge(d.common,d[o.method]);d&&z.forEach(["delete","get","head","post","put","patch","common"],S=>{delete d[S]}),o.headers=jt.concat(h,d);const m=[];let x=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(o)===!1||(x=x&&I.synchronous,m.unshift(I.fulfilled,I.rejected))});const g=[];this.interceptors.response.forEach(function(I){g.push(I.fulfilled,I.rejected)});let y,v=0,w;if(!x){const S=[tf.bind(this),void 0];for(S.unshift(...m),S.push(...g),w=S.length,y=Promise.resolve(o);v<w;)y=y.then(S[v++],S[v++]);return y}w=m.length;let _=o;for(;v<w;){const S=m[v++],I=m[v++];try{_=S(_)}catch(C){I.call(this,C);break}}try{y=tf.call(this,_)}catch(S){return Promise.reject(S)}for(v=0,w=g.length;v<w;)y=y.then(g[v++],g[v++]);return y}getUri(a){a=er(this.defaults,a);const o=qf(a.baseURL,a.url,a.allowAbsoluteUrls);return Mf(o,a.params,a.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(a){Zn.prototype[a]=function(o,l){return this.request(er(l||{},{method:a,url:o,data:(l||{}).data}))}});z.forEach(["post","put","patch"],function(a){function o(l){return function(d,h,m){return this.request(er(m||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Zn.prototype[a]=o(),Zn.prototype[a+"Form"]=o(!0)});let Yx=class Jf{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const l=this;this.promise.then(u=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](u);l._listeners=null}),this.promise.then=u=>{let d;const h=new Promise(m=>{l.subscribe(m),d=m}).then(u);return h.cancel=function(){l.unsubscribe(d)},h},a(function(d,h,m){l.reason||(l.reason=new Fr(d,h,m),o(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const o=this._listeners.indexOf(a);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const a=new AbortController,o=l=>{a.abort(l)};return this.subscribe(o),a.signal.unsubscribe=()=>this.unsubscribe(o),a.signal}static source(){let a;return{token:new Jf(function(u){a=u}),cancel:a}}};function Xx(s){return function(o){return s.apply(null,o)}}function Zx(s){return z.isObject(s)&&s.isAxiosError===!0}const Tl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tl).forEach(([s,a])=>{Tl[a]=s});function Yf(s){const a=new Zn(s),o=Tf(Zn.prototype.request,a);return z.extend(o,Zn.prototype,a,{allOwnKeys:!0}),z.extend(o,a,null,{allOwnKeys:!0}),o.create=function(u){return Yf(er(s,u))},o}const be=Yf(zs);be.Axios=Zn;be.CanceledError=Fr;be.CancelToken=Yx;be.isCancel=Wf;be.VERSION=Qf;be.toFormData=xi;be.AxiosError=ye;be.Cancel=be.CanceledError;be.all=function(a){return Promise.all(a)};be.spread=Xx;be.isAxiosError=Zx;be.mergeConfig=er;be.AxiosHeaders=jt;be.formToJSON=s=>Bf(z.isHTMLForm(s)?new FormData(s):s);be.getAdapter=Kf.getAdapter;be.HttpStatusCode=Tl;be.default=be;const{Axios:pv,AxiosError:gv,CanceledError:xv,isCancel:yv,CancelToken:vv,VERSION:jv,all:wv,Cancel:Sv,isAxiosError:Nv,spread:kv,toFormData:Cv,AxiosHeaders:Ev,HttpStatusCode:bv,formToJSON:Tv,getAdapter:Iv,mergeConfig:Pv}=be,Xf="https://bapi.ingasti.com/api",yt=be.create({baseURL:Xf,withCredentials:!0,headers:{"Content-Type":"application/json"}});yt.interceptors.request.use(s=>{const a=localStorage.getItem("userToken")||localStorage.getItem("adminToken");return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));yt.interceptors.response.use(s=>s,s=>{var a;return((a=s.response)==null?void 0:a.status)===401&&(localStorage.removeItem("userToken"),localStorage.removeItem("adminToken"),console.warn("Session expired. Please log in again."),window.location.pathname.includes("login")||(alert("Your session has expired. Please log in again."),window.location.href="/userlogin")),Promise.reject(s)});const Rn={getPosts:(s=null)=>{const a=s?`/posts?cat=${s}`:"/posts";return yt.get(a)},getDrafts:(s=null)=>{const a=s?`/posts/drafts?cat=${s}`:"/posts/drafts";return yt.get(a)},getPost:s=>yt.get(`/posts/${s}`),searchPosts:s=>yt.get(`/posts/search?query=${encodeURIComponent(s)}`),getPostById:s=>yt.get(`/posts/${s}`).then(a=>({success:!0,data:a.data})).catch(a=>({success:!1,error:a.message})),createPost:async s=>{try{const a=s.desc||s.excerpt||s.content||s.title||"Blog post",o=`---
title: ${s.title}
description: ${a}
category: ${s.cat||"1"}
excerpt: ${s.excerpt||a}
status: ${s.status||"draft"}
---

${s.content||s.desc||a}`,l=localStorage.getItem("userToken")||localStorage.getItem("adminToken"),u=await fetch(`${Xf}/publish/content`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},credentials:"include",body:JSON.stringify({markdownContent:o})});if(u.ok){const d=await u.json();return{success:!0,data:{id:d.postId,title:d.title,desc:d.description||d.excerpt,category:d.category,status:d.status||"published",publishedAt:d.publishedAt,message:d.message}}}else{let d="Failed to create post";try{const h=await u.json();d=h.error||h.message||d}catch{d=u.statusText||d}return console.warn("Publish endpoint failed:",d),{success:!1,error:d}}}catch(a){return console.error("Publish endpoint error:",a.message),{success:!1,error:a.message||"Network error occurred"}}},updatePost:async(s,a)=>{var o,l,u,d;try{const h=await yt.put(`/posts/${s}`,a);return{success:!0,data:h.data,message:h.data.message||"Post updated successfully"}}catch(h){return console.error("Error updating post:",h),{success:!1,error:((l=(o=h.response)==null?void 0:o.data)==null?void 0:l.error)||((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.message)||h.message||"Failed to update post"}}},deletePost:s=>yt.delete(`/posts/${s}`)},Ar={getCategories:async(s={})=>{var a,o;try{let l="/categories";const u=[];return s.excludeJumble&&u.push("exclude_jumble=true"),s.sidebarOnly&&u.push("sidebar_only=true"),s.includeAll,s.hierarchical&&u.push("hierarchical=true"),u.length>0&&(l+="?"+u.join("&")),{success:!0,data:(await yt.get(l)).data}}catch(l){return console.error("Error fetching categories:",l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to fetch categories"}}},createCategory:async s=>{var a,o,l;try{return{success:!0,data:(await yt.post("/categories",s)).data}}catch(u){return console.error("Error creating category:",u),{success:!1,error:((o=(a=u.response)==null?void 0:a.data)==null?void 0:o.message)||((l=u.response)==null?void 0:l.data)||"Failed to create category"}}},updateCategory:async(s,a)=>{var o,l,u,d;try{return{success:!0,data:(await yt.put(`/categories/${s}`,a)).data}}catch(h){return console.error("Error updating category:",h),{success:!1,error:((l=(o=h.response)==null?void 0:o.data)==null?void 0:l.error)||((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to update category"}}},deleteCategory:async s=>{var a,o,l,u;try{return{success:!0,data:(await yt.delete(`/categories/${s}`)).data}}catch(d){return console.error("Error deleting category:",d),{success:!1,error:((o=(a=d.response)==null?void 0:a.data)==null?void 0:o.error)||((u=(l=d.response)==null?void 0:l.data)==null?void 0:u.message)||"Failed to delete category"}}}},ey={uploadFile:async s=>{var a,o;try{const l=new FormData;l.append("file",s);const u=await yt.post("/media/upload",l,{headers:{"Content-Type":"multipart/form-data"}});return u.data.success&&u.data.media?{success:!0,data:u.data.media.s3_key}:{success:!1,error:u.data.message||"Upload failed"}}catch(l){return console.error("Error uploading file:",l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to upload file"}}}};function Bl(){const s=cn(),{socialLinks:a,loading:o}=Fl(),[l,u]=j.useState([]),[d,h]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const y=await Ar.getCategories({sidebarOnly:!0,hierarchical:!0});y.success?u(y.data):console.error("Failed to fetch categories:",y.error)}catch(y){console.error("Error fetching categories:",y)}finally{h(!1)}})()},[]);const x=(()=>{const g=s.pathname.split("/");return g[1]==="category"&&g[2]?g[2]:null})();return n.jsxs("div",{className:"sidebar",children:[n.jsxs("div",{className:"sidebarItem",children:[n.jsx("span",{className:"sidebarTitle",children:"Indulge yourself"}),n.jsx("div",{className:"sidebarVideo",children:n.jsx(Cg,{})}),n.jsx("p",{children:"What a sleepless nigh it was."})]}),n.jsxs("div",{className:"sidebarItem",children:[n.jsx("span",{className:"sidebarTitle",children:"Categories"}),n.jsxs("ul",{className:"sidebarList",children:[n.jsx("li",{className:`sidebarListItem ${x?"":"active"}`,children:n.jsx(Ie,{to:"/",className:"sidebar-link",children:"All Posts"})}),d?n.jsx("li",{className:"sidebarListItem",children:n.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"Loading categories..."})}):l.length>0?l.map(g=>n.jsxs("div",{children:[n.jsx("li",{className:`sidebarListItem ${x===g.slug?"active":""}`,children:n.jsxs(Ie,{to:`/category/${g.slug}`,className:"sidebar-link",children:[g.name,g.post_count>0&&n.jsxs("span",{className:"category-post-count",children:["(",g.post_count,")"]})]})}),g.subcategories&&g.subcategories.length>0&&n.jsx("ul",{className:"subcategory-list",children:g.subcategories.map(y=>n.jsx("li",{className:`sidebarListItem subcategory ${x===y.slug?"active":""}`,children:n.jsxs(Ie,{to:`/category/${y.slug}`,className:"sidebar-link",children:[y.name,y.post_count>0&&n.jsxs("span",{className:"category-post-count",children:["(",y.post_count,")"]})]})},y.slug))})]},g.slug)):n.jsx("li",{className:"sidebarListItem",children:n.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"No categories available"})})]})]}),n.jsxs("div",{className:"sidebarItem",children:[n.jsx("span",{className:"sidebarTitle",children:"Wanna follow?"}),n.jsxs("div",{className:"sidebarSocial",children:[!o&&a.linkedin&&n.jsx("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"sidebarIcon fa-brands fa-linkedin"})}),!o&&a.twitter&&n.jsx("a",{href:a.twitter,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"sidebarIcon fa-brands fa-square-x-twitter"})}),!o&&a.instagram&&n.jsx("a",{href:a.instagram,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"sidebarIcon fa-brands fa-square-instagram"})}),!o&&a.threads&&n.jsx("a",{href:a.threads,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"sidebarIcon fa-brands fa-square-threads"})}),!o&&!Object.values(a).some(g=>g)&&n.jsx("p",{style:{color:"#999",fontSize:"0.9rem",margin:0},children:"No social links configured yet."})]})]})]})}const ut=be.create({baseURL:re,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});ut.interceptors.request.use(s=>{const a=localStorage.getItem("authToken")||localStorage.getItem("adminToken");return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));ut.interceptors.response.use(s=>s,s=>{var a;return((a=s.response)==null?void 0:a.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("adminToken")),Promise.reject(s)});const di={getAllPosts:async(s=1,a=10,o=null)=>{var l,u;try{let d="/api/posts";return o&&(d+=`?cat=${encodeURIComponent(o)}`),{success:!0,data:(await ut.get(d)).data||[]}}catch(d){return console.error("Error fetching posts:",d),{success:!1,error:((u=(l=d.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to fetch posts"}}},getPostsByCategory:async(s,a=1,o=10)=>di.getAllPosts(a,o,s),getPostById:async s=>{var a,o;try{return{success:!0,data:(await ut.get(`/api/posts/${s}`)).data||null}}catch(l){return console.error(`Error fetching post ${s}:`,l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||"Failed to fetch post"}}},createPost:async s=>{var a,o;try{return{success:!0,data:(await ut.post("/api/posts",s)).data}}catch(l){return console.error("Error creating post:",l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||"Failed to create post"}}},updatePost:async(s,a)=>{var o,l,u;try{const d=await ut.put(`/api/posts/${s}`,a);return d.data.message?{success:!0,data:d.data}:{success:!1,error:"Unexpected response format"}}catch(d){return console.error(`Error updating post ${s}:`,d),{success:!1,error:((l=(o=d.response)==null?void 0:o.data)==null?void 0:l.error)||((u=d.response)==null?void 0:u.data)||"Failed to update post"}}},deletePost:async s=>{var a,o;try{return{success:!0,data:(await ut.delete(`/api/posts/${s}`)).data}}catch(l){return console.error(`Error deleting post ${s}:`,l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||"Failed to delete post"}}},searchPosts:async(s,a=1,o=10)=>{var l,u;try{return{success:!0,data:(await ut.get(`/api/posts/search?q=${encodeURIComponent(s)}&page=${a}&limit=${o}`)).data||[]}}catch(d){return console.error("Error searching posts:",d),{success:!1,error:((u=(l=d.response)==null?void 0:l.data)==null?void 0:u.error)||"Failed to search posts"}}}},Yn={getAllPages:async()=>{var s,a;try{const o=await ut.get("/api/pages");return o.data.success?{success:!0,data:o.data.pages||[]}:{success:!1,error:o.data.message||"Failed to fetch pages"}}catch(o){return console.error("Error fetching all pages:",o),{success:!1,error:((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to fetch pages"}}},getMenuPages:async()=>{var s,a;try{const o=await ut.get("/api/pages/menu");return o.data.success?{success:!0,data:o.data.pages||[]}:{success:!1,error:o.data.message||"Failed to fetch menu pages"}}catch(o){return console.error("Error fetching menu pages:",o),{success:!1,error:((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to fetch menu pages"}}},getPageBySlug:async s=>{var a,o;try{const l=await ut.get(`/api/pages/slug/${s}`);return l.data.success?{success:!0,data:l.data.page||null}:{success:!1,error:l.data.message||"Failed to fetch page"}}catch(l){return console.error(`Error fetching page ${s}:`,l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to fetch page"}}},getPageById:async s=>{var a,o;try{const l=await ut.get(`/api/pages/${s}`);return l.data.success?{success:!0,data:l.data.page||null}:{success:!1,error:l.data.message||"Failed to fetch page"}}catch(l){return console.error(`Error fetching page ${s}:`,l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to fetch page"}}},createPage:async s=>{var a,o;try{return{success:!0,data:(await ut.post("/api/pages",s)).data}}catch(l){return console.error("Error creating page:",l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||"Failed to create page"}}},updatePage:async(s,a)=>{var o,l;try{return{success:!0,data:(await ut.put(`/api/pages/${s}`,a)).data}}catch(u){return console.error(`Error updating page ${s}:`,u),{success:!1,error:((l=(o=u.response)==null?void 0:o.data)==null?void 0:l.error)||"Failed to update page"}}},deletePage:async s=>{var a,o;try{return{success:!0,data:(await ut.delete(`/api/pages/${s}`)).data}}catch(l){return console.error(`Error deleting page ${s}:`,l),{success:!1,error:((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||"Failed to delete page"}}}},Zf=j.createContext(),Jt=()=>{const s=j.useContext(Zf);if(!s)throw new Error("useUser must be used within a UserProvider");return s},ty=({children:s})=>{const[a,o]=j.useState(null),[l,u]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{const y=localStorage.getItem("userToken");if(!y){u(!1);return}const v=await fetch(pe.AUTH.VERIFY,{headers:{Authorization:`Bearer ${y}`}});if(v.ok){const w=await v.json();o(w.user)}else localStorage.removeItem("userToken")}catch(y){console.error("User auth check failed:",y),localStorage.removeItem("userToken")}finally{u(!1)}},g={user:a,isLoading:l,userLogin:async y=>{u(!0);try{console.log("UserContext: Attempting login with credentials:",y),console.log("UserContext: API endpoint:",pe.AUTH.LOGIN);const v=await fetch(pe.AUTH.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});console.log("UserContext: Response status:",v.status);const w=await v.json();return console.log("UserContext: Response data:",w),v.ok&&w.success?(localStorage.setItem("userToken",w.token),o(w.user),u(!1),{success:!0,message:w.message}):(u(!1),{success:!1,message:w.message||"Login failed"})}catch(v){return console.error("UserContext: Login failed:",v),u(!1),{success:!1,message:"Network error. Please try again."}}},loginWithCognito:async y=>{u(!0);try{const v=window.location.origin+"/auth/callback";console.log("UserContext: Attempting Cognito login with code:",y),console.log("UserContext: Using redirect URI:",v);const w=await fetch(pe.AUTH.COGNITO_LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:y,redirectUri:v})});console.log("UserContext: Cognito response status:",w.status);const _=await w.json();return console.log("UserContext: Cognito response data:",_),w.ok&&_.success?(localStorage.setItem("userToken",_.token),o(_.user),u(!1),{success:!0,message:_.message}):(u(!1),{success:!1,message:_.message||"Cognito login failed"})}catch(v){return console.error("UserContext: Cognito login failed:",v),u(!1),{success:!1,message:"Network error. Please try again."}}},userLogout:()=>{localStorage.removeItem("userToken"),o(null)},checkUserAuth:d};return n.jsx(Zf.Provider,{value:g,children:s})},eh=j.createContext(),Rt=()=>{const s=j.useContext(eh);if(!s)throw new Error("useAdmin must be used within an AdminProvider");return s},ny=({children:s})=>{const[a,o]=j.useState(!1),[l,u]=j.useState(!0),[d,h]=j.useState(null);j.useEffect(()=>{m()},[]);const m=async()=>{try{const v=localStorage.getItem("adminToken");if(!v){o(!1),u(!1);return}const w=await fetch(pe.ADMIN.VERIFY,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`}});if(w.ok){const _=await w.json();_.success?(o(!0),h(_.user)):(localStorage.removeItem("adminToken"),o(!1))}else localStorage.removeItem("adminToken"),o(!1);u(!1)}catch(v){console.error("Admin auth check failed:",v),localStorage.removeItem("adminToken"),o(!1),u(!1)}},y={isAdmin:a,isLoading:l,adminUser:d,adminLogin:async v=>{try{u(!0);const w=await fetch(pe.ADMIN.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),_=await w.json();return w.ok&&_.success?(localStorage.setItem("adminToken",_.token),o(!0),h(_.user),u(!1),{success:!0,message:_.message}):(u(!1),{success:!1,message:_.message||"Login failed"})}catch(w){return console.error("Admin login failed:",w),u(!1),{success:!1,message:"Network error. Please try again."}}},adminLogout:()=>{localStorage.removeItem("adminToken"),o(!1),h(null)},checkAdminAuth:m};return n.jsx(eh.Provider,{value:y,children:s})},th=s=>{if(!s)return"";let a=s;return a=a.replace(/^### (.*$)/gim,"<h3>$1</h3>"),a=a.replace(/^## (.*$)/gim,"<h2>$1</h2>"),a=a.replace(/^# (.*$)/gim,"<h1>$1</h1>"),a=a.replace(/\*\*\*(.*?)\*\*\*/g,"<strong><em>$1</em></strong>"),a=a.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*(.*?)\*/g,"<em>$1</em>"),a=a.replace(/__(.*?)__/g,"<u>$1</u>"),a=a.replace(/\n\n/g,"</p><p>"),a=a.replace(/\n/g,"<br>"),!a.startsWith("<")&&a.trim()&&(a="<p>"+a+"</p>"),a=a.replace(/^\s*[\-\*\+]\s+(.*$)/gim,"<li>$1</li>"),a=a.replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>"),a=a.replace(/^\s*\d+\.\s+(.*$)/gim,"<li>$1</li>"),a=a.replace(/(<li>.*?<\/li>)/gs,o=>!o.includes("<ul>")&&!o.includes("<ol>")?"<ul>"+o+"</ul>":o),a=a.replace(/!\[(.*?)\]\((.*?)\)/g,'<img src="$2" alt="$1" style="max-width: 100%; height: auto; margin: 10px 0;" />'),a=a.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),a=a.replace(/<p><\/p>/g,""),a=a.replace(/<p>\s*<\/p>/g,""),a},ry=s=>{if(!s)return"";let a=s;return a=a.replace(/<h1[^>]*>(.*?)<\/h1>/gi,`# $1

`),a=a.replace(/<h2[^>]*>(.*?)<\/h2>/gi,`## $1

`),a=a.replace(/<h3[^>]*>(.*?)<\/h3>/gi,`### $1

`),a=a.replace(/<strong[^>]*>(.*?)<\/strong>/gi,"**$1**"),a=a.replace(/<b[^>]*>(.*?)<\/b>/gi,"**$1**"),a=a.replace(/<em[^>]*>(.*?)<\/em>/gi,"*$1*"),a=a.replace(/<i[^>]*>(.*?)<\/i>/gi,"*$1*"),a=a.replace(/<u[^>]*>(.*?)<\/u>/gi,"__$1__"),a=a.replace(/<ul[^>]*>(.*?)<\/ul>/gis,(o,l)=>l.replace(/<li[^>]*>(.*?)<\/li>/gi,`- $1
`)),a=a.replace(/<ol[^>]*>(.*?)<\/ol>/gis,(o,l)=>{let u=1;return l.replace(/<li[^>]*>(.*?)<\/li>/gi,()=>`${u++}. $1
`)}),a=a.replace(/<img[^>]*>/gi,o=>{const l=o.match(/src="([^"]*)"/),u=o.match(/alt="([^"]*)"/),d=l?l[1]:"";return`![${u?u[1]:""}](${d})`}),a=a.replace(/<a[^>]*href="([^"]*)"[^>]*>(.*?)<\/a>/gi,"[$2]($1)"),a=a.replace(/<br\s*\/?>/gi,`
`),a=a.replace(/<\/p>\s*<p[^>]*>/gi,`

`),a=a.replace(/<p[^>]*>/gi,""),a=a.replace(/<\/p>/gi,`

`),a=a.replace(/<[^>]*>/g,""),a=a.replace(/\n{3,}/g,`

`),a=a.trim(),a},nh=({postId:s,initialLikes:a=0,initialUserHasLiked:o=!1})=>{const{user:l}=Jt(),{adminUser:u,isAdmin:d}=Rt(),[h,m]=j.useState(a),[x,g]=j.useState(o),[y,v]=j.useState(!1),w=d&&u?u:l;j.useEffect(()=>{_()},[s]);const _=async()=>{try{const I=await be.get(`${re}/api/likes/${s}`);m(I.data.likes),g(I.data.userHasLiked||!1)}catch(I){console.error("Error fetching likes:",I),m(a),g(o)}},S=async()=>{var I;if(!(!w||y)){v(!0);try{const C=localStorage.getItem("token")||localStorage.getItem("adminToken"),O=await be.post(`${re}/api/likes/${s}/toggle`,{},{headers:{Authorization:`Bearer ${C}`}});O.data.success&&(m(O.data.likeCount),g(O.data.liked))}catch(C){console.error("Error toggling like:",C),((I=C.response)==null?void 0:I.status)===401?alert("Please log in to like posts"):alert("Failed to update like. Please try again.")}finally{v(!1)}}};return n.jsxs("div",{className:"like-button-container",children:[n.jsxs("button",{className:`like-button ${x?"liked":""} ${y?"loading":""}`,onClick:S,disabled:!w||y,title:w?x?"Unlike this post":"Like this post":"Please log in to like posts",children:[n.jsx("span",{className:"like-icon",children:x?"":""}),n.jsx("span",{className:"like-text",children:x?"Liked":"Like"})]}),n.jsxs("span",{className:"like-count",children:[h," ",h===1?"like":"likes"]})]})},rh=({postId:s,parentId:a=null,onCommentAdded:o,onCancel:l})=>{const{user:u}=Jt(),{adminUser:d,isAdmin:h}=Rt(),[m,x]=j.useState(""),[g,y]=j.useState(!1),v=h&&d?d:u,w=async _=>{var S;if(_.preventDefault(),!(!v||!m.trim()||g)){y(!0);try{const I=localStorage.getItem("token")||localStorage.getItem("adminToken"),C=a?`${re}/api/social/comments/${a}/reply`:`${re}/api/social/posts/${s}/comments`,O=a?{postId:parseInt(s),content:m.trim()}:{content:m.trim()};(await be.post(C,O,{headers:{Authorization:`Bearer ${I}`}})).data.success&&(x(""),o&&o(),l&&l())}catch(I){console.error("Error adding comment:",I),((S=I.response)==null?void 0:S.status)===401?alert("Please log in to comment"):alert("Failed to add comment. Please try again.")}finally{y(!1)}}};return v?n.jsxs("form",{className:"comment-form",onSubmit:w,children:[n.jsx("div",{className:"comment-form-header",children:n.jsxs("span",{className:"commenting-as",children:["Commenting as ",n.jsx("strong",{children:v.username||v.first_name||"User"})]})}),n.jsx("textarea",{className:"comment-textarea",placeholder:a?"Write a reply...":"Write a comment...",value:m,onChange:_=>x(_.target.value),disabled:g,rows:3,maxLength:1e3}),n.jsxs("div",{className:"comment-form-actions",children:[n.jsxs("div",{className:"character-count",children:[m.length,"/1000"]}),n.jsxs("div",{className:"form-buttons",children:[a&&n.jsx("button",{type:"button",className:"cancel-button",onClick:l,disabled:g,children:"Cancel"}),n.jsx("button",{type:"submit",className:"submit-button",disabled:!m.trim()||g,children:g?"Posting...":a?"Reply":"Comment"})]})]})]}):n.jsx("div",{className:"comment-form-placeholder",children:n.jsx("p",{children:"Please log in to leave a comment"})})},Wl=j.forwardRef(({comment:s,postId:a,onCommentUpdated:o,level:l=0},u)=>{const{user:d}=Jt(),{adminUser:h,isAdmin:m}=Rt(),[x,g]=j.useState(!1),[y,v]=j.useState(!1),[w,_]=j.useState(s.content),[S,I]=j.useState(!1),C=m&&h?h:d;j.useImperativeHandle(u,()=>({cancelReply:()=>v(!1),cancelEdit:()=>g(!1)}));const O=()=>C?C.role==="admin"||C.role==="super_admin"?!0:C.id===s.user_id:!1,T=async()=>{if(!(!O()||S)){I(!0);try{const G=localStorage.getItem("token")||localStorage.getItem("adminToken");(await be.put(`${re}/api/social/comments/${s.id}`,{content:w.trim()},{headers:{Authorization:`Bearer ${G}`}})).data.success&&(g(!1),o&&o())}catch(G){console.error("Error editing comment:",G),alert("Failed to edit comment. Please try again.")}finally{I(!1)}}},A=async()=>{if(!(!O()||S||!window.confirm("Are you sure you want to delete this comment?"))){I(!0);try{const W=localStorage.getItem("token")||localStorage.getItem("adminToken");(await be.delete(`${re}/api/social/comments/${s.id}`,{headers:{Authorization:`Bearer ${W}`}})).data.success&&o&&o()}catch(W){console.error("Error deleting comment:",W),alert("Failed to delete comment. Please try again.")}finally{I(!1)}}},M=G=>{const W=new Date(G),J=new Date,se=J-W,oe=Math.floor(se/6e4),xe=Math.floor(oe/60),je=Math.floor(xe/24);return oe<1?"Just now":oe<60?`${oe}m ago`:xe<24?`${xe}h ago`:je<7?`${je}d ago`:W.toLocaleDateString("en-US",{month:"short",day:"numeric",year:W.getFullYear()!==J.getFullYear()?"numeric":void 0})},B=()=>{const G=s.author||s;return G.firstName&&G.lastName?`${G.firstName} ${G.lastName}`:G.first_name&&G.last_name?`${G.first_name} ${G.last_name}`:G.firstName?G.firstName:G.first_name?G.first_name:G.username?G.username:s.username?s.username:"Anonymous User"};return n.jsxs("div",{className:`comment-item ${l>0?"comment-reply":""}`,children:[n.jsxs("div",{className:"comment-header",children:[n.jsxs("div",{className:"comment-author",children:[n.jsx("strong",{children:B()}),n.jsx("span",{className:"comment-date",children:M(s.createdAt||s.created_at)}),(s.updatedAt||s.updated_at)!==(s.createdAt||s.created_at)&&n.jsx("span",{className:"comment-edited",children:"(edited)"})]}),O()&&n.jsxs("div",{className:"comment-actions",children:[n.jsx("button",{className:"comment-action-btn edit-btn",onClick:()=>g(!x),disabled:S,title:"Edit comment",children:""}),n.jsx("button",{className:"comment-action-btn delete-btn",onClick:A,disabled:S,title:"Delete comment",children:""})]})]}),n.jsx("div",{className:"comment-content",children:x?n.jsxs("div",{className:"comment-edit-form",children:[n.jsx("textarea",{value:w,onChange:G=>_(G.target.value),disabled:S,rows:3,maxLength:1e3}),n.jsxs("div",{className:"comment-edit-actions",children:[n.jsx("button",{className:"cancel-button",onClick:()=>{g(!1),_(s.content)},disabled:S,children:"Cancel"}),n.jsx("button",{className:"save-button",onClick:T,disabled:S||!w.trim(),children:S?"Saving...":"Save"})]})]}):n.jsx("div",{className:"comment-text",children:s.content})}),n.jsx("div",{className:"comment-footer",children:C&&l<3&&!x&&n.jsx("button",{className:"reply-button",onClick:()=>v(!y),children:"Reply"})}),y&&n.jsx("div",{className:"comment-reply-form",children:n.jsx(rh,{postId:a,parentId:s.id,onCommentAdded:()=>{v(!1),o&&o()},onCancel:()=>v(!1)})}),s.replies&&s.replies.length>0&&n.jsx("div",{className:"comment-replies",children:s.replies.map(G=>n.jsx(Wl,{comment:G,postId:a,onCommentUpdated:o,level:l+1},G.id))})]})});Wl.displayName="CommentItem";const sy=({postId:s})=>{const[a,o]=j.useState([]),[l,u]=j.useState(!0),[d,h]=j.useState(null),[m,x]=j.useState(!1);j.useEffect(()=>{s&&g()},[s]);const g=async()=>{try{u(!0),h(null);const _=await be.get(`${re}/api/social/posts/${s}/comments`);_.data.success?o(_.data.comments||[]):h("Failed to load comments")}catch(_){console.error("Error fetching comments:",_),h("Failed to load comments"),o([])}finally{u(!1)}},y=()=>{g()},w=(_=>{if(_.length>0&&_[0].replies!==void 0)return _;const S={},I=[];return _.forEach(C=>{S[C.id]={...C,replies:[]}}),_.forEach(C=>{const O=C.parentId||C.parent_id;O&&S[O]?S[O].replies.push(S[C.id]):I.push(S[C.id])}),I})(a);return l?n.jsx("div",{className:"comments-section",children:n.jsx("div",{className:"comments-loading",children:n.jsx("p",{children:"Loading comments..."})})}):n.jsxs("div",{className:"comments-section",children:[n.jsxs("div",{className:"comments-header",children:[n.jsxs("h3",{children:["Comments (",a.length,")"]}),n.jsx("button",{className:"add-comment-button",onClick:()=>x(!m),children:m?"Cancel":"Add Comment"})]}),d&&n.jsxs("div",{className:"comments-error",children:[n.jsx("p",{children:d}),n.jsx("button",{onClick:g,className:"retry-button",children:"Try Again"})]}),m&&n.jsx("div",{className:"new-comment-form",children:n.jsx(rh,{postId:s,onCommentAdded:()=>{x(!1),y()},onCancel:()=>x(!1)})}),n.jsx("div",{className:"comments-list",children:w.length===0?n.jsx("div",{className:"no-comments",children:n.jsx("p",{children:"No comments yet. Be the first to comment!"})}):w.map(_=>n.jsx(Wl,{comment:_,postId:s,onCommentUpdated:y},_.id))})]})},sh=({postId:s,postTitle:a,postUrl:o,postDescription:l,onShareCountUpdate:u,initialShareCount:d=0})=>{const[h,m]=j.useState(!1),[x,g]=j.useState(!1),[y,v]=j.useState(d),w=o||`${window.location.origin}/post/${s}`,_=s?`${re}/share/post/${s}`:`${re}/share`,S=a&&a!=="null"&&a!=="undefined"?a:"Check out this interesting post",I=l&&l!=="null"&&l!=="undefined"?l:"Discover interesting content on our blog",C=encodeURIComponent(S),O=encodeURIComponent(_);j.useEffect(()=>{s&&d===0&&(async()=>{try{const oe=await be.get(`${re}/api/social/posts/${s}/shares`);oe.data.success&&v(oe.data.data.totalShares||0)}catch(oe){console.log("Could not fetch share count:",oe)}})()},[s,d]);const T=async se=>{try{const oe=localStorage.getItem("token")||localStorage.getItem("adminToken"),xe=await be.post(`${re}/api/social/posts/${s}/share`,{platform:se},{headers:oe?{Authorization:`Bearer ${oe}`}:{}});xe.data.shareCount&&(v(xe.data.shareCount),u&&u(xe.data.shareCount))}catch(oe){console.error("Error tracking share:",oe)}},A=()=>{T("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?u=${O}`,"_blank"),m(!1)},M=()=>{T("twitter"),window.open(`https://twitter.com/intent/tweet?text=${C}&url=${O}`,"_blank"),m(!1)},B=()=>{T("linkedin"),window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${O}`,"_blank"),m(!1)},G=()=>{T("whatsapp"),window.open(`https://wa.me/?text=${C}%20${O}`,"_blank"),m(!1)},W=async()=>{try{await navigator.clipboard.writeText(w),g(!0),T("copy_link"),setTimeout(()=>g(!1),2e3)}catch(se){console.error("Failed to copy URL:",se);const oe=document.createElement("textarea");oe.value=w,document.body.appendChild(oe),oe.select(),document.execCommand("copy"),document.body.removeChild(oe),g(!0),setTimeout(()=>g(!1),2e3)}m(!1)},J=async()=>{if(navigator.share)try{await navigator.share({title:S,text:I,url:w}),T("native")}catch(se){console.error("Error sharing:",se)}else m(!h)};return n.jsxs("div",{className:"share-button-container",children:[n.jsxs("button",{className:"share-button",onClick:J,title:"Share this post",children:[n.jsx("span",{className:"share-icon",children:""}),n.jsx("span",{className:"share-text",children:y>0?`${y} shares`:"Share"})]}),h&&n.jsx("div",{className:"share-dropdown",children:n.jsxs("div",{className:"share-dropdown-content",children:[n.jsxs("button",{onClick:A,className:"share-option facebook",children:[n.jsx("span",{className:"share-option-icon",children:""}),n.jsx("span",{children:"Facebook"})]}),n.jsxs("button",{onClick:M,className:"share-option twitter",children:[n.jsx("span",{className:"share-option-icon",children:""}),n.jsx("span",{children:"Twitter"})]}),n.jsxs("button",{onClick:B,className:"share-option linkedin",children:[n.jsx("span",{className:"share-option-icon",children:""}),n.jsx("span",{children:"LinkedIn"})]}),n.jsxs("button",{onClick:G,className:"share-option whatsapp",children:[n.jsx("span",{className:"share-option-icon",children:""}),n.jsx("span",{children:"WhatsApp"})]}),n.jsxs("button",{onClick:W,className:"share-option copy",children:[n.jsx("span",{className:"share-option-icon",children:x?"":""}),n.jsx("span",{children:x?"Copied!":"Copy Link"})]})]})}),h&&n.jsx("div",{className:"share-dropdown-overlay",onClick:()=>m(!1)})]})};var dl,rf;function ay(){if(rf)return dl;rf=1;var s=typeof Element<"u",a=typeof Map=="function",o=typeof Set=="function",l=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function u(d,h){if(d===h)return!0;if(d&&h&&typeof d=="object"&&typeof h=="object"){if(d.constructor!==h.constructor)return!1;var m,x,g;if(Array.isArray(d)){if(m=d.length,m!=h.length)return!1;for(x=m;x--!==0;)if(!u(d[x],h[x]))return!1;return!0}var y;if(a&&d instanceof Map&&h instanceof Map){if(d.size!==h.size)return!1;for(y=d.entries();!(x=y.next()).done;)if(!h.has(x.value[0]))return!1;for(y=d.entries();!(x=y.next()).done;)if(!u(x.value[1],h.get(x.value[0])))return!1;return!0}if(o&&d instanceof Set&&h instanceof Set){if(d.size!==h.size)return!1;for(y=d.entries();!(x=y.next()).done;)if(!h.has(x.value[0]))return!1;return!0}if(l&&ArrayBuffer.isView(d)&&ArrayBuffer.isView(h)){if(m=d.length,m!=h.length)return!1;for(x=m;x--!==0;)if(d[x]!==h[x])return!1;return!0}if(d.constructor===RegExp)return d.source===h.source&&d.flags===h.flags;if(d.valueOf!==Object.prototype.valueOf&&typeof d.valueOf=="function"&&typeof h.valueOf=="function")return d.valueOf()===h.valueOf();if(d.toString!==Object.prototype.toString&&typeof d.toString=="function"&&typeof h.toString=="function")return d.toString()===h.toString();if(g=Object.keys(d),m=g.length,m!==Object.keys(h).length)return!1;for(x=m;x--!==0;)if(!Object.prototype.hasOwnProperty.call(h,g[x]))return!1;if(s&&d instanceof Element)return!1;for(x=m;x--!==0;)if(!((g[x]==="_owner"||g[x]==="__v"||g[x]==="__o")&&d.$$typeof)&&!u(d[g[x]],h[g[x]]))return!1;return!0}return d!==d&&h!==h}return dl=function(h,m){try{return u(h,m)}catch(x){if((x.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw x}},dl}var iy=ay();const oy=Ds(iy);var fl,sf;function ly(){if(sf)return fl;sf=1;var s=function(a,o,l,u,d,h,m,x){if(!a){var g;if(o===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[l,u,d,h,m,x],v=0;g=new Error(o.replace(/%s/g,function(){return y[v++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return fl=s,fl}var cy=ly();const af=Ds(cy);var hl,of;function uy(){return of||(of=1,hl=function(a,o,l,u){var d=l?l.call(u,a,o):void 0;if(d!==void 0)return!!d;if(a===o)return!0;if(typeof a!="object"||!a||typeof o!="object"||!o)return!1;var h=Object.keys(a),m=Object.keys(o);if(h.length!==m.length)return!1;for(var x=Object.prototype.hasOwnProperty.bind(o),g=0;g<h.length;g++){var y=h[g];if(!x(y))return!1;var v=a[y],w=o[y];if(d=l?l.call(u,v,w,y):void 0,d===!1||d===void 0&&v!==w)return!1}return!0}),hl}var dy=uy();const fy=Ds(dy);var ah=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(ah||{}),ml={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},lf=Object.values(ah),Hl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hy=Object.entries(Hl).reduce((s,[a,o])=>(s[o]=a,s),{}),zt="data-rh",Rr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Lr=(s,a)=>{for(let o=s.length-1;o>=0;o-=1){const l=s[o];if(Object.prototype.hasOwnProperty.call(l,a))return l[a]}return null},my=s=>{let a=Lr(s,"title");const o=Lr(s,Rr.TITLE_TEMPLATE);if(Array.isArray(a)&&(a=a.join("")),o&&a)return o.replace(/%s/g,()=>a);const l=Lr(s,Rr.DEFAULT_TITLE);return a||l||void 0},py=s=>Lr(s,Rr.ON_CHANGE_CLIENT_STATE)||(()=>{}),pl=(s,a)=>a.filter(o=>typeof o[s]<"u").map(o=>o[s]).reduce((o,l)=>({...o,...l}),{}),gy=(s,a)=>a.filter(o=>typeof o.base<"u").map(o=>o.base).reverse().reduce((o,l)=>{if(!o.length){const u=Object.keys(l);for(let d=0;d<u.length;d+=1){const m=u[d].toLowerCase();if(s.indexOf(m)!==-1&&l[m])return o.concat(l)}}return o},[]),xy=s=>console&&typeof console.warn=="function"&&console.warn(s),As=(s,a,o)=>{const l={};return o.filter(u=>Array.isArray(u[s])?!0:(typeof u[s]<"u"&&xy(`Helmet: ${s} should be of type "Array". Instead found type "${typeof u[s]}"`),!1)).map(u=>u[s]).reverse().reduce((u,d)=>{const h={};d.filter(x=>{let g;const y=Object.keys(x);for(let w=0;w<y.length;w+=1){const _=y[w],S=_.toLowerCase();a.indexOf(S)!==-1&&!(g==="rel"&&x[g].toLowerCase()==="canonical")&&!(S==="rel"&&x[S].toLowerCase()==="stylesheet")&&(g=S),a.indexOf(_)!==-1&&(_==="innerHTML"||_==="cssText"||_==="itemprop")&&(g=_)}if(!g||!x[g])return!1;const v=x[g].toLowerCase();return l[g]||(l[g]={}),h[g]||(h[g]={}),l[g][v]?!1:(h[g][v]=!0,!0)}).reverse().forEach(x=>u.push(x));const m=Object.keys(h);for(let x=0;x<m.length;x+=1){const g=m[x],y={...l[g],...h[g]};l[g]=y}return u},[]).reverse()},yy=(s,a)=>{if(Array.isArray(s)&&s.length){for(let o=0;o<s.length;o+=1)if(s[o][a])return!0}return!1},vy=s=>({baseTag:gy(["href"],s),bodyAttributes:pl("bodyAttributes",s),defer:Lr(s,Rr.DEFER),encode:Lr(s,Rr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:pl("htmlAttributes",s),linkTags:As("link",["rel","href"],s),metaTags:As("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:As("noscript",["innerHTML"],s),onChangeClientState:py(s),scriptTags:As("script",["src","innerHTML"],s),styleTags:As("style",["cssText"],s),title:my(s),titleAttributes:pl("titleAttributes",s),prioritizeSeoTags:yy(s,Rr.PRIORITIZE_SEO_TAGS)}),ih=s=>Array.isArray(s)?s.join(""):s,jy=(s,a)=>{const o=Object.keys(s);for(let l=0;l<o.length;l+=1)if(a[o[l]]&&a[o[l]].includes(s[o[l]]))return!0;return!1},gl=(s,a)=>Array.isArray(s)?s.reduce((o,l)=>(jy(l,a)?o.priority.push(l):o.default.push(l),o),{priority:[],default:[]}):{default:s,priority:[]},cf=(s,a)=>({...s,[a]:void 0}),wy=["noscript","script","style"],Il=(s,a=!0)=>a===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),oh=s=>Object.keys(s).reduce((a,o)=>{const l=typeof s[o]<"u"?`${o}="${s[o]}"`:`${o}`;return a?`${a} ${l}`:l},""),Sy=(s,a,o,l)=>{const u=oh(o),d=ih(a);return u?`<${s} ${zt}="true" ${u}>${Il(d,l)}</${s}>`:`<${s} ${zt}="true">${Il(d,l)}</${s}>`},Ny=(s,a,o=!0)=>a.reduce((l,u)=>{const d=u,h=Object.keys(d).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,y)=>{const v=typeof d[y]>"u"?y:`${y}="${Il(d[y],o)}"`;return g?`${g} ${v}`:v},""),m=d.innerHTML||d.cssText||"",x=wy.indexOf(s)===-1;return`${l}<${s} ${zt}="true" ${h}${x?"/>":`>${m}</${s}>`}`},""),lh=(s,a={})=>Object.keys(s).reduce((o,l)=>{const u=Hl[l];return o[u||l]=s[l],o},a),ky=(s,a,o)=>{const l={key:a,[zt]:!0},u=lh(o,l);return[Ct.createElement("title",u,a)]},li=(s,a)=>a.map((o,l)=>{const u={key:l,[zt]:!0};return Object.keys(o).forEach(d=>{const m=Hl[d]||d;if(m==="innerHTML"||m==="cssText"){const x=o.innerHTML||o.cssText;u.dangerouslySetInnerHTML={__html:x}}else u[m]=o[d]}),Ct.createElement(s,u)}),At=(s,a,o=!0)=>{switch(s){case"title":return{toComponent:()=>ky(s,a.title,a.titleAttributes),toString:()=>Sy(s,a.title,a.titleAttributes,o)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>lh(a),toString:()=>oh(a)};default:return{toComponent:()=>li(s,a),toString:()=>Ny(s,a,o)}}},Cy=({metaTags:s,linkTags:a,scriptTags:o,encode:l})=>{const u=gl(s,ml.meta),d=gl(a,ml.link),h=gl(o,ml.script);return{priorityMethods:{toComponent:()=>[...li("meta",u.priority),...li("link",d.priority),...li("script",h.priority)],toString:()=>`${At("meta",u.priority,l)} ${At("link",d.priority,l)} ${At("script",h.priority,l)}`},metaTags:u.default,linkTags:d.default,scriptTags:h.default}},Ey=s=>{const{baseTag:a,bodyAttributes:o,encode:l=!0,htmlAttributes:u,noscriptTags:d,styleTags:h,title:m="",titleAttributes:x,prioritizeSeoTags:g}=s;let{linkTags:y,metaTags:v,scriptTags:w}=s,_={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:_,linkTags:y,metaTags:v,scriptTags:w}=Cy(s)),{priority:_,base:At("base",a,l),bodyAttributes:At("bodyAttributes",o,l),htmlAttributes:At("htmlAttributes",u,l),link:At("link",y,l),meta:At("meta",v,l),noscript:At("noscript",d,l),script:At("script",w,l),style:At("style",h,l),title:At("title",{title:m,titleAttributes:x},l)}},Pl=Ey,si=[],ch=!!(typeof window<"u"&&window.document&&window.document.createElement),_l=class{constructor(s,a){ln(this,"instances",[]);ln(this,"canUseDOM",ch);ln(this,"context");ln(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?si:this.instances,add:s=>{(this.canUseDOM?si:this.instances).push(s)},remove:s=>{const a=(this.canUseDOM?si:this.instances).indexOf(s);(this.canUseDOM?si:this.instances).splice(a,1)}}});this.context=s,this.canUseDOM=a||!1,a||(s.helmet=Pl({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},by={},uh=Ct.createContext(by),Xn,dh=(Xn=class extends j.Component{constructor(o){super(o);ln(this,"helmetData");this.helmetData=new _l(this.props.context||{},Xn.canUseDOM)}render(){return Ct.createElement(uh.Provider,{value:this.helmetData.value},this.props.children)}},ln(Xn,"canUseDOM",ch),Xn),_r=(s,a)=>{const o=document.head||document.querySelector("head"),l=o.querySelectorAll(`${s}[${zt}]`),u=[].slice.call(l),d=[];let h;return a&&a.length&&a.forEach(m=>{const x=document.createElement(s);for(const g in m)if(Object.prototype.hasOwnProperty.call(m,g))if(g==="innerHTML")x.innerHTML=m.innerHTML;else if(g==="cssText")x.styleSheet?x.styleSheet.cssText=m.cssText:x.appendChild(document.createTextNode(m.cssText));else{const y=g,v=typeof m[y]>"u"?"":m[y];x.setAttribute(g,v)}x.setAttribute(zt,"true"),u.some((g,y)=>(h=y,x.isEqualNode(g)))?u.splice(h,1):d.push(x)}),u.forEach(m=>{var x;return(x=m.parentNode)==null?void 0:x.removeChild(m)}),d.forEach(m=>o.appendChild(m)),{oldTags:u,newTags:d}},Al=(s,a)=>{const o=document.getElementsByTagName(s)[0];if(!o)return;const l=o.getAttribute(zt),u=l?l.split(","):[],d=[...u],h=Object.keys(a);for(const m of h){const x=a[m]||"";o.getAttribute(m)!==x&&o.setAttribute(m,x),u.indexOf(m)===-1&&u.push(m);const g=d.indexOf(m);g!==-1&&d.splice(g,1)}for(let m=d.length-1;m>=0;m-=1)o.removeAttribute(d[m]);u.length===d.length?o.removeAttribute(zt):o.getAttribute(zt)!==h.join(",")&&o.setAttribute(zt,h.join(","))},Ty=(s,a)=>{typeof s<"u"&&document.title!==s&&(document.title=ih(s)),Al("title",a)},uf=(s,a)=>{const{baseTag:o,bodyAttributes:l,htmlAttributes:u,linkTags:d,metaTags:h,noscriptTags:m,onChangeClientState:x,scriptTags:g,styleTags:y,title:v,titleAttributes:w}=s;Al("body",l),Al("html",u),Ty(v,w);const _={baseTag:_r("base",o),linkTags:_r("link",d),metaTags:_r("meta",h),noscriptTags:_r("noscript",m),scriptTags:_r("script",g),styleTags:_r("style",y)},S={},I={};Object.keys(_).forEach(C=>{const{newTags:O,oldTags:T}=_[C];O.length&&(S[C]=O),T.length&&(I[C]=_[C].oldTags)}),a&&a(),x(s,S,I)},Rs=null,Iy=s=>{Rs&&cancelAnimationFrame(Rs),s.defer?Rs=requestAnimationFrame(()=>{uf(s,()=>{Rs=null})}):(uf(s),Rs=null)},Py=Iy,df=class extends j.Component{constructor(){super(...arguments);ln(this,"rendered",!1)}shouldComponentUpdate(a){return!fy(a,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:a}=this.props.context;a.remove(this),this.emitChange()}emitChange(){const{helmetInstances:a,setHelmet:o}=this.props.context;let l=null;const u=vy(a.get().map(d=>{const h={...d.props};return delete h.context,h}));dh.canUseDOM?Py(u):Pl&&(l=Pl(u)),o(l)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:a}=this.props.context;a.add(this),this.emitChange()}render(){return this.init(),null}},vl,_y=(vl=class extends j.Component{shouldComponentUpdate(s){return!oy(cf(this.props,"helmetData"),cf(s,"helmetData"))}mapNestedChildrenToProps(s,a){if(!a)return null;switch(s.type){case"script":case"noscript":return{innerHTML:a};case"style":return{cssText:a};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,a,o,l){return{...a,[s.type]:[...a[s.type]||[],{...o,...this.mapNestedChildrenToProps(s,l)}]}}mapObjectTypeChildren(s,a,o,l){switch(s.type){case"title":return{...a,[s.type]:l,titleAttributes:{...o}};case"body":return{...a,bodyAttributes:{...o}};case"html":return{...a,htmlAttributes:{...o}};default:return{...a,[s.type]:{...o}}}}mapArrayTypeChildrenToProps(s,a){let o={...a};return Object.keys(s).forEach(l=>{o={...o,[l]:s[l]}}),o}warnOnInvalidChildren(s,a){return af(lf.some(o=>s.type===o),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${lf.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),af(!a||typeof a=="string"||Array.isArray(a)&&!a.some(o=>typeof o!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,a){let o={};return Ct.Children.forEach(s,l=>{if(!l||!l.props)return;const{children:u,...d}=l.props,h=Object.keys(d).reduce((x,g)=>(x[hy[g]||g]=d[g],x),{});let{type:m}=l;switch(typeof m=="symbol"?m=m.toString():this.warnOnInvalidChildren(l,u),m){case"Symbol(react.fragment)":a=this.mapChildrenToProps(u,a);break;case"link":case"meta":case"noscript":case"script":case"style":o=this.flattenArrayTypeChildren(l,o,h,u);break;default:a=this.mapObjectTypeChildren(l,a,h,u);break}}),this.mapArrayTypeChildrenToProps(o,a)}render(){const{children:s,...a}=this.props;let o={...a},{helmetData:l}=a;if(s&&(o=this.mapChildrenToProps(s,o)),l&&!(l instanceof _l)){const u=l;l=new _l(u.context,!0),delete o.helmetData}return l?Ct.createElement(df,{...o,context:l.value}):Ct.createElement(uh.Consumer,null,u=>Ct.createElement(df,{...o,context:u}))}},ln(vl,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),vl);const fh=({title:s="Bedtime Blog",description:a="Discover insightful articles and stories on our blog",image:o=null,url:l=window.location.href,type:u="website",author:d="Bedtime Blog",publishedTime:h=null,modifiedTime:m=null,tags:x=[]})=>{const g=l.startsWith("http")?l:`${window.location.origin}${l}`,y=`${window.location.origin}/favicon.ico`,v=o?o.startsWith("http")?o:`${window.location.origin}${o}`:y,w=a?a.replace(/<[^>]*>/g,"").replace(/#+\s*/g,"").substring(0,160):"Discover insightful articles and stories on our blog";return n.jsxs(_y,{children:[n.jsx("title",{children:s}),n.jsx("meta",{name:"description",content:w}),d&&n.jsx("meta",{name:"author",content:d}),x.length>0&&n.jsx("meta",{name:"keywords",content:x.join(", ")}),n.jsx("meta",{property:"og:title",content:s}),n.jsx("meta",{property:"og:description",content:w}),n.jsx("meta",{property:"og:image",content:v}),n.jsx("meta",{property:"og:url",content:g}),n.jsx("meta",{property:"og:type",content:u}),n.jsx("meta",{property:"og:site_name",content:"Bedtime Blog"}),n.jsx("meta",{property:"og:locale",content:"en_US"}),u==="article"&&n.jsxs(n.Fragment,{children:[h&&n.jsx("meta",{property:"article:published_time",content:h}),m&&n.jsx("meta",{property:"article:modified_time",content:m}),d&&n.jsx("meta",{property:"article:author",content:d}),x.map(_=>n.jsx("meta",{property:"article:tag",content:_},_))]}),n.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{name:"twitter:title",content:s}),n.jsx("meta",{name:"twitter:description",content:w}),n.jsx("meta",{name:"twitter:image",content:v}),n.jsx("meta",{name:"twitter:site",content:"@bedtimeblog"}),n.jsx("meta",{name:"twitter:creator",content:"@bedtimeblog"}),n.jsx("meta",{name:"robots",content:"index, follow"}),n.jsx("meta",{name:"googlebot",content:"index, follow"}),n.jsx("link",{rel:"canonical",href:g}),u==="article"&&n.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:s,description:w,image:v,url:g,author:{"@type":"Person",name:d},publisher:{"@type":"Organization",name:"Bedtime Blog",logo:{"@type":"ImageObject",url:`${window.location.origin}/favicon.ico`}},datePublished:h,dateModified:m||h})})]})},ql="/assets/NewPost-Bb0rVh9n.jpg";function Ay(){const{postId:s}=Dl(),a=Qt(),{user:o}=Jt(),{adminUser:l,isAdmin:u}=Rt(),[d,h]=j.useState(null),[m,x]=j.useState(!0),[g,y]=j.useState(null),v=u&&l?l:o;j.useEffect(()=>{s&&w()},[s]);const w=async()=>{try{x(!0),y(null);const B=await di.getPostById(s);B.success&&B.data?(h(B.data),_(s)):y("Post not found")}catch(B){console.error("Error fetching post:",B),y("Failed to load post. Please try again later.")}finally{x(!1)}},_=async B=>{try{await be.post(`${re}/api/views/${B}/track`)}catch(G){console.log("View tracking failed (optional):",G.message)}},S=()=>v?v.role==="admin"||v.role==="super_admin"||v.role==="editor"?!0:(v.role==="author"||v.role==="writer")&&d?v.id===d.author_id||v.username===d.username:!1:!1,I=()=>{S()&&a(`/write?edit=${s}`)},C=async()=>{if(!S())return;if(window.confirm(`Are you sure you want to delete the post "${d.title}"? This action cannot be undone.`))try{const G=await di.deletePost(s);G.success||G.status===200?(alert("Post deleted successfully!"),a("/")):alert("Failed to delete post: "+(G.error||"Unknown error"))}catch(G){console.error("Error deleting post:",G),alert("Failed to delete post. Please try again.")}},O=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=B=>B.first_name&&B.last_name?`${B.first_name} ${B.last_name}`:B.first_name?B.first_name:B.username?B.username:`Author ${B.author_id}`||"Unknown",A=()=>{const B=[];return d!=null&&d.status&&B.push(d.status),d!=null&&d.visibility&&B.push(d.visibility),d!=null&&d.category_name&&B.push(d.category_name),B},M=B=>B?{__html:th(B)}:{__html:"No content available"};return m?n.jsx("div",{className:"singlePost",children:n.jsx("div",{className:"loading",children:n.jsx("p",{children:"Loading post..."})})}):g?n.jsx("div",{className:"singlePost",children:n.jsxs("div",{className:"error",children:[n.jsx("p",{children:g}),n.jsx("button",{onClick:w,className:"retry-btn",children:"Try Again"})]})}):d?n.jsxs("div",{className:"singlePost",children:[n.jsx(fh,{title:d.title||"Bedtime Blog",description:d.excerpt||d.meta_description||(d.content?d.content.replace(/<[^>]*>/g,"").replace(/#+\s*/g,"").substring(0,160):"Discover insightful articles and stories on our blog"),image:d.featured_image,url:window.location.href,type:"article",author:T(d),publishedTime:d.published_at||d.created_at,modifiedTime:d.updated_at,tags:d.category_name?[d.category_name]:[]}),n.jsxs("div",{className:"singlePostWrapper",children:[n.jsx("img",{src:d.featured_image||ql,alt:d.title||"Blog post",className:"singlePostImg"}),n.jsxs("h1",{className:"singlePostTitle",children:[d.title||"Untitled Post",S()&&n.jsxs("div",{className:"singlePostEdit",children:[n.jsx("i",{className:"SinglePostIcon fa-regular fa-pen-to-square",onClick:I,title:"Edit post"}),n.jsx("i",{className:"SinglePostIcon fa-regular fa-trash-can",onClick:C,title:"Delete post"})]})]}),n.jsxs("div",{className:"singlePostInfo",children:[n.jsxs("span",{className:"singlePostAuthor",children:["Author: ",n.jsx("b",{children:T(d)})]}),n.jsx("span",{className:"singlePostDate",children:d.published_at?O(d.published_at):d.created_at?O(d.created_at):"Unknown date"})]}),A().length>0&&n.jsxs("div",{className:"singlePostTags",children:[n.jsx("strong",{children:"Tags: "}),A().map((B,G)=>n.jsx("span",{className:"singlePostTag",children:B},G))]}),d.excerpt&&n.jsx("div",{className:"singlePostDescription",children:n.jsx("p",{children:n.jsx("em",{children:d.excerpt})})}),d.meta_description&&d.meta_description!==d.excerpt&&n.jsx("div",{className:"singlePostDescription",children:n.jsx("p",{children:n.jsx("em",{children:d.meta_description})})}),n.jsx("div",{className:"singlePostContent",dangerouslySetInnerHTML:M(d.content)}),n.jsxs("div",{className:"singlePostStats",children:[n.jsxs("span",{children:[" ",d.view_count||0," views"]}),n.jsxs("span",{children:[" ",d.like_count||0," likes"]}),n.jsxs("span",{children:[" ",d.comment_count||0," comments"]}),n.jsxs("span",{children:[" ",d.share_count||0," shares"]}),d.reading_time&&n.jsxs("span",{children:[" ",d.reading_time," min read"]})]}),n.jsxs("div",{className:"social-actions",children:[n.jsx(nh,{postId:s,initialLikes:d.like_count||0}),n.jsx(sh,{postId:s,postTitle:d.title,postDescription:d.excerpt||d.meta_description||(d.content?d.content.replace(/<[^>]*>/g,"").replace(/#+\s*/g,"").substring(0,150)+"...":null),postUrl:window.location.href,initialShareCount:d.share_count||0,onShareCountUpdate:B=>{h(G=>({...G,share_count:B}))}})]}),n.jsx(sy,{postId:s})]})]}):n.jsx("div",{className:"singlePost",children:n.jsx("div",{className:"error",children:n.jsx("p",{children:"Post not found"})})})}function Ry(){return n.jsxs("div",{className:"single",children:[n.jsx(Ay,{}),n.jsx(Bl,{})]})}function Ly({isOpen:s,onClose:a}){const[o,l]=j.useState(""),[u,d]=j.useState([]),[h,m]=j.useState(!1),[x,g]=j.useState(!1),[y,v]=j.useState(""),w=T=>{if(!T)return"No date";try{return new Date(T).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Invalid date"}},_=(T,A=150)=>T?T.length<=A?T:T.substring(0,A).trim()+"...":"",S=T=>T.first_name&&T.last_name?`${T.first_name} ${T.last_name}`:T.first_name?T.first_name:T.username?T.username:"Unknown";j.useEffect(()=>{const T=A=>{A.key==="Escape"&&a()};if(s){document.addEventListener("keydown",T);const A=document.querySelector(".search-input");A&&setTimeout(()=>A.focus(),100)}return()=>{document.removeEventListener("keydown",T)}},[s,a]);const I=async T=>{if(!T.trim()){d([]),g(!1),v("");return}m(!0),g(!0),v("");try{const A=await Rn.searchPosts(T);d(A.data)}catch(A){console.error("Search error:",A),v("Failed to search posts. Please try again."),d([])}finally{m(!1)}},C=T=>{const A=T.target.value;l(A);const M=setTimeout(()=>{I(A)},300);return()=>clearTimeout(M)},O=T=>{T.preventDefault(),I(o)};return s?n.jsx("div",{className:"search-overlay",onClick:a,children:n.jsxs("div",{className:"search-container",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"search-header",children:[n.jsxs("h2",{children:[n.jsx("i",{className:"fa-solid fa-magnifying-glass"}),"Search Blog"]}),n.jsx("button",{className:"search-close",onClick:a,children:n.jsx("i",{className:"fa-solid fa-times"})})]}),n.jsx("form",{className:"search-form",onSubmit:O,children:n.jsxs("div",{className:"search-input-container",children:[n.jsx("input",{type:"text",className:"search-input",placeholder:"Search posts, topics, or keywords...",value:o,onChange:C}),n.jsx("button",{type:"submit",className:"search-submit",children:n.jsx("i",{className:"fa-solid fa-search"})})]})}),n.jsxs("div",{className:"search-results",children:[h&&n.jsxs("div",{className:"search-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Searching..."})]}),!h&&y&&n.jsxs("div",{className:"search-error",children:[n.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),n.jsx("h3",{children:"Search Error"}),n.jsx("p",{children:y})]}),!h&&x&&u.length===0&&!y&&n.jsxs("div",{className:"search-no-results",children:[n.jsx("i",{className:"fa-solid fa-search-minus"}),n.jsx("h3",{children:"No results found"}),n.jsx("p",{children:"Try different keywords or check your spelling"})]}),!h&&u.length>0&&n.jsxs("div",{className:"search-results-list",children:[n.jsxs("h3",{children:["Found ",u.length," result",u.length!==1?"s":""]}),u.map(T=>n.jsxs(Ie,{to:`/post/${T.id}`,className:"search-result-item",onClick:a,children:[n.jsxs("div",{className:"search-result-content",children:[n.jsx("h4",{children:T.title}),n.jsx("p",{children:_(T.excerpt||T.content)}),n.jsxs("div",{className:"search-result-meta",children:[n.jsxs("span",{className:"search-result-date",children:[n.jsx("i",{className:"fa-solid fa-calendar"}),w(T.created_at)]}),n.jsxs("span",{className:"search-result-category",children:[n.jsx("i",{className:"fa-solid fa-tag"}),T.category_name||"Uncategorized"]}),n.jsxs("span",{className:"search-result-author",children:[n.jsx("i",{className:"fa-solid fa-user"}),S(T)]})]})]}),n.jsx("div",{className:"search-result-icon",children:n.jsx("i",{className:"fa-solid fa-arrow-right"})})]},T.id))]}),!x&&n.jsxs("div",{className:"search-suggestions",children:[n.jsx("h3",{children:"Search Tips"}),n.jsxs("div",{className:"search-tips",children:[n.jsx("p",{children:n.jsx("strong",{children:" Try searching for:"})}),n.jsxs("ul",{children:[n.jsx("li",{children:"Post titles or keywords"}),n.jsx("li",{children:"Topics you're interested in"}),n.jsx("li",{children:"Author names"}),n.jsx("li",{children:"Content snippets"})]})]}),n.jsxs("div",{className:"search-tags",children:[n.jsx("button",{className:"search-tag",onClick:()=>{l("tutorial"),I("tutorial")},children:"Tutorial"}),n.jsx("button",{className:"search-tag",onClick:()=>{l("guide"),I("guide")},children:"Guide"}),n.jsx("button",{className:"search-tag",onClick:()=>{l("tips"),I("tips")},children:"Tips"}),n.jsx("button",{className:"search-tag",onClick:()=>{l("development"),I("development")},children:"Development"})]})]})]})]})}):null}const Oy=({user:s})=>{const[a,o]=j.useState(!1),{userLogout:l}=Jt(),{isAdmin:u,adminLogout:d}=Rt(),h=j.useRef(null);j.useEffect(()=>{const g=y=>{h.current&&!h.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const m=()=>{u&&d(),l(),o(!1)},x=()=>{o(!a)};return n.jsxs("div",{className:"user-dropdown",ref:h,children:[n.jsxs("div",{className:"user-avatar",onClick:x,children:[n.jsx("img",{className:"topImg",src:s.avatar||"https://lh3.googleusercontent.com/a/ACg8ocKyzBlZ6G6WI8BZQpstO_hcA3hhfSuyesOerch4wMn0ISfAXY8v=s96-c",alt:s.name||s.username}),n.jsx("i",{className:`dropdown-arrow fa-solid fa-chevron-${a?"up":"down"}`})]}),a&&n.jsxs("div",{className:"dropdown-menu",children:[n.jsxs("div",{className:"dropdown-header",children:[n.jsx("img",{src:s.avatar||"https://lh3.googleusercontent.com/a/ACg8ocKyzBlZ6G6WI8BZQpstO_hcA3hhfSuyesOerch4wMn0ISfAXY8v=s96-c",alt:s.name||s.username,className:"dropdown-avatar"}),n.jsxs("div",{className:"user-info",children:[n.jsx("h4",{children:s.name||`${s.firstName} ${s.lastName}`}),n.jsx("p",{children:s.email}),n.jsx("span",{className:"user-role",children:s.role||"User"})]})]}),n.jsx("div",{className:"dropdown-divider"}),n.jsxs("div",{className:"dropdown-section",children:[n.jsx("h5",{children:"Quick Access"}),(s.role==="writer"||s.role==="author"||s.role==="editor"||s.role==="admin"||s.role==="super_admin")&&n.jsxs(Ie,{to:"/write",className:"dropdown-item",onClick:()=>o(!1),children:[n.jsx("i",{className:"fa-solid fa-pen"}),"Write New Post"]}),n.jsxs(Ie,{to:"/settings",className:"dropdown-item",onClick:()=>o(!1),children:[n.jsx("i",{className:"fa-solid fa-user-gear"}),"Profile Settings"]}),s.role==="reader"&&n.jsxs(Ie,{to:"/bookmarks",className:"dropdown-item",onClick:()=>o(!1),children:[n.jsx("i",{className:"fa-solid fa-bookmark"}),"My Bookmarks"]})]}),n.jsx("div",{className:"dropdown-divider"}),n.jsxs("div",{className:"dropdown-section",children:[n.jsx("h5",{children:"Admin Tools"}),(s.role==="admin"||s.role==="super_admin")&&n.jsxs(Ie,{to:"/ops",className:"dropdown-item admin-item",onClick:()=>o(!1),children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),"Operations Center"]}),n.jsxs(Ie,{to:"/adminlogin",className:"dropdown-item admin-item",onClick:()=>o(!1),children:[n.jsx("i",{className:"fa-solid fa-key"}),"Admin Login"]})]}),n.jsx("div",{className:"dropdown-divider"}),n.jsxs("button",{className:"dropdown-item logout-item",onClick:m,children:[n.jsx("i",{className:"fa-solid fa-right-from-bracket"}),"Sign Out"]})]})]})};function Dy(){const{user:s}=Jt(),{isAdmin:a,adminUser:o}=Rt(),[l,u]=j.useState(!1),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[g,y]=j.useState(!1),{socialLinks:v,loading:w}=Fl(),_=a&&o?{...o,name:`${o.firstName} ${o.lastName}`,avatar:o.avatar||null}:s,S=()=>{u(!l)},I=()=>{x(!m)},C=()=>{x(!1)},O=()=>{y(!g)};j.useEffect(()=>{const A=()=>{h(window.innerWidth<768),window.innerWidth>=768&&u(!1)},M=B=>{B.target.closest(".top")||(u(!1),y(!1))};return A(),window.addEventListener("resize",A),document.addEventListener("click",M),()=>{window.removeEventListener("resize",A),document.removeEventListener("click",M)}},[]);const T=()=>n.jsxs("ul",{className:`topList ${l?"open":""}`,children:[n.jsx("li",{className:"topListItem",children:n.jsx(Ie,{className:"link",to:"/",onClick:()=>u(!1),children:" Home "})}),n.jsx("li",{className:"topListItem",children:n.jsx(Ie,{className:"link",to:"/about",onClick:()=>u(!1),children:" About "})}),n.jsx("li",{className:"topListItem",children:n.jsx(Ie,{className:"link",to:"/contact",onClick:()=>u(!1),children:" Contact "})}),n.jsx("li",{className:"topListItem",children:n.jsx(Ie,{className:"link",to:"/ops",onClick:()=>u(!1),children:" Ops "})})]});return n.jsxs("div",{className:"top",children:[n.jsxs("div",{className:"topLeft",children:[!w&&v.linkedin&&n.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"topIcon fa-brands fa-linkedin"})}),!w&&v.twitter&&n.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"topIcon fa-brands fa-square-x-twitter"})}),!w&&v.instagram&&n.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"topIcon fa-brands fa-square-instagram"})}),!w&&v.threads&&n.jsx("a",{href:v.threads,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"topIcon fa-brands fa-square-threads"})})]}),!d&&n.jsx("div",{className:"topCenter",children:n.jsx(T,{})}),n.jsxs("div",{className:"topRight",children:[_?n.jsx(Oy,{user:_}):n.jsxs("div",{className:"loginMenu",children:[n.jsxs("div",{className:"loginIcon",onClick:O,children:[n.jsx("i",{className:"fa-solid fa-right-to-bracket"}),n.jsx("i",{className:"fa-solid fa-chevron-down"})]}),g&&n.jsxs("div",{className:"loginDropdown",children:[n.jsxs(Ie,{className:"loginOption",to:"/login",onClick:()=>y(!1),children:[n.jsx("i",{className:"fa-solid fa-comments"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Reader Login"}),n.jsx("span",{children:"AWS Cognito secure authentication"})]})]}),n.jsxs(Ie,{className:"loginOption",to:"/userlogin",onClick:()=>y(!1),children:[n.jsx("i",{className:"fa-solid fa-pen"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Writer Login"}),n.jsx("span",{children:"Create & edit posts"})]})]}),n.jsxs(Ie,{className:"loginOption admin",to:"/adminlogin",onClick:()=>y(!1),children:[n.jsx("i",{className:"fa-solid fa-shield"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Admin Login"}),n.jsx("span",{children:"Full system access"})]})]})]})]}),n.jsx("i",{className:"topSearchIcon fa-brands fa-searchengin",onClick:I}),d&&n.jsx("i",{className:"hamburgerIcon fa-solid fa-bars",onClick:S})]}),d&&l&&n.jsx("div",{className:"mobileMenu",children:n.jsx(T,{})}),n.jsx(Ly,{isOpen:m,onClose:C})]})}function Uy(){const s=new Date().getFullYear(),{socialLinks:a,loading:o}=Fl();return n.jsxs("footer",{className:"footer",children:[n.jsxs("div",{className:"footer-content",children:[n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:"Bedtime Blog"}),n.jsx("p",{children:"Personal thoughts, experiences, and stories to help you unwind at the end of the day."})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h4",{children:"Quick Links"}),n.jsxs("ul",{className:"footer-links",children:[n.jsx("li",{children:n.jsx(Ie,{to:"/",children:"Home"})}),n.jsx("li",{children:n.jsx(Ie,{to:"/about",children:"About"})}),n.jsx("li",{children:n.jsx(Ie,{to:"/contact",children:"Contact"})}),n.jsx("li",{children:n.jsx(Ie,{to:"/category/technology",children:"Technology"})})]})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h4",{children:"Legal"}),n.jsxs("ul",{className:"footer-links",children:[n.jsx("li",{children:n.jsx(Ie,{to:"/privacy",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx(Ie,{to:"/terms",children:"Terms of Service"})})]})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h4",{children:"Connect"}),n.jsx("p",{children:"Follow us on social media for updates and new content."}),n.jsxs("div",{className:"footer-social",children:[!o&&a.linkedin&&n.jsx("a",{href:a.linkedin,className:"social-link","aria-label":"LinkedIn",target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-linkedin"})}),!o&&a.twitter&&n.jsx("a",{href:a.twitter,className:"social-link","aria-label":"X (Twitter)",target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-x-twitter"})}),!o&&a.instagram&&n.jsx("a",{href:a.instagram,className:"social-link","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-instagram"})}),!o&&a.threads&&n.jsx("a",{href:a.threads,className:"social-link","aria-label":"Threads",target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-threads"})})]})]})]}),n.jsxs("div",{className:"footer-bottom",children:[n.jsx("div",{className:"footer-copyright",children:n.jsxs("p",{children:[" ",s," Bedtime Blog. All rights reserved."]})}),n.jsxs("div",{className:"footer-legal-links",children:[n.jsx(Ie,{to:"/privacy",children:"Privacy"}),n.jsx("span",{className:"separator",children:""}),n.jsx(Ie,{to:"/terms",children:"Terms"})]})]})]})}function Fy(){const{pathname:s}=cn();return j.useEffect(()=>{window.scrollTo(0,0)},[s]),null}const hh=({onSelect:s,selectedImage:a,onClose:o,title:l="Select Featured Image"})=>{const[u,d]=j.useState([]),[h,m]=j.useState(!0),[x,g]=j.useState(null),[y,v]=j.useState(null);j.useEffect(()=>{w()},[]);const w=async()=>{try{m(!0);const I=localStorage.getItem("adminToken")||localStorage.getItem("userToken");if(!I){g("Authentication required. Please log in to access media library.");return}console.log("MediaSelector: Fetching media with token:",I.substring(0,20)+"...");const C=`https://bapi.ingasti.com/api/media/files?folder=${encodeURIComponent("/")}`,O=await fetch(C,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(console.log("MediaSelector: API response status:",O.status),!O.ok)throw new Error(`API returned ${O.status}: ${O.statusText}`);const T=await O.json();if(console.log("MediaSelector: API response data:",T),T.success&&T.media&&Array.isArray(T.media)){const A=T.media.filter(M=>{var W;const B=M.mime_type&&M.mime_type.startsWith("image/"),G=(W=M.filename||M.file_name||M.original_name)==null?void 0:W.match(/\.(jpg|jpeg|png|gif|webp|svg)$/i);return B||G}).map(M=>({...M,display_name:M.original_name||M.file_name||M.filename,filename:M.filename||M.file_name,public_url:M.public_url||M.signed_url||M.url}));console.log("MediaSelector: Filtered image files:",A.length),d(A)}else console.log("MediaSelector: No media found in response"),d([])}catch(I){console.error("MediaSelector: Error fetching media:",I),g(`Failed to load media: ${I.message}. Please make sure you're logged in.`)}finally{m(!1)}},_=I=>{v(I)},S=()=>{if(y){let I;const C=y.filename||y.file_name;C?I=`https://bapi.ingasti.com/api/media/serve/${C}`:y.public_url&&!y.public_url.includes("PRIVATE_BUCKET")&&!y.public_url.includes("X-Amz-")?I=y.public_url:I=y.s3_key||y.file_path,console.log("MediaSelector: Selected item:",y),console.log("MediaSelector: Generated URL:",I),console.log("MediaSelector: Calling onSelect with URL:",I),s(I),o()}};return h?n.jsx("div",{className:"media-selector-overlay",children:n.jsxs("div",{className:"media-selector-modal",children:[n.jsxs("div",{className:"media-selector-header",children:[n.jsx("h3",{children:l}),n.jsx("button",{className:"close-btn",onClick:o,children:""})]}),n.jsx("div",{className:"media-selector-loading",children:"Loading media..."})]})}):x?n.jsx("div",{className:"media-selector-overlay",children:n.jsxs("div",{className:"media-selector-modal",children:[n.jsxs("div",{className:"media-selector-header",children:[n.jsx("h3",{children:l}),n.jsx("button",{className:"close-btn",onClick:o,children:""})]}),n.jsxs("div",{className:"media-selector-error",children:["Error: ",x]})]})}):n.jsx("div",{className:"media-selector-overlay",children:n.jsxs("div",{className:"media-selector-modal",children:[n.jsxs("div",{className:"media-selector-header",children:[n.jsx("h3",{children:l}),n.jsx("button",{className:"close-btn",onClick:o,children:""})]}),n.jsx("div",{className:"media-selector-content",children:u.length===0?n.jsx("div",{className:"no-media",children:"No images available. Upload images in the Operations Panel first."}):n.jsx("div",{className:"media-grid",children:u.map((I,C)=>n.jsxs("div",{className:`media-item ${y===I?"selected":""}`,onClick:()=>_(I),children:[n.jsx("img",{src:I.public_url,alt:I.display_name,className:"media-thumbnail"}),n.jsxs("div",{className:"media-info",children:[n.jsx("div",{className:"media-name",children:I.display_name}),n.jsxs("div",{className:"media-details",children:[I.file_size&&n.jsx("span",{className:"media-size",children:I.file_size}),I.file_type&&n.jsx("span",{className:"media-type",children:I.file_type})]})]}),y===I&&n.jsx("div",{className:"selection-indicator",children:n.jsx("span",{className:"checkmark",children:""})})]},C))})}),n.jsxs("div",{className:"media-selector-footer",children:[n.jsx("div",{className:"selection-info",children:y?n.jsxs("span",{children:["Selected: ",y.display_name]}):n.jsx("span",{children:"Click an image to select it"})}),n.jsxs("div",{className:"footer-buttons",children:[n.jsx("button",{className:"btn-secondary",onClick:o,children:"Cancel"}),n.jsx("button",{className:"btn-primary",onClick:S,disabled:!y,children:"Insert Image"})]})]})]})})};function mh({value:s,onChange:a,placeholder:o="Write your post..."}){const[l,u]=j.useState(!1),[d,h]=j.useState(null),[m,x]=j.useState({show:!1,x:0,y:0}),g=j.useRef(null);j.useEffect(()=>{if(g.current){const O=th(s||"");O!==g.current.innerHTML&&(g.current.innerHTML=O,g.current.querySelectorAll("img[data-size]").forEach(A=>{const M=A.getAttribute("data-size");let B,G;switch(M){case"small":B="300px",G="300px";break;case"medium":B="500px",G="500px";break;case"large":default:B="100%",G="100%";break}A.style.width=B,A.style.maxWidth=G,A.style.height="auto"}))}},[s]),j.useEffect(()=>{const O=T=>{(!T.target.tagName||T.target.tagName!=="IMG")&&(h(null),x({show:!1,x:0,y:0}))};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const y=()=>{if(g.current){const O=ry(g.current.innerHTML);a(O),setTimeout(()=>{g.current.querySelectorAll("img").forEach(A=>{A.onclick=null,A.onclick=M=>{M.preventDefault(),M.stopPropagation(),_(M,A)}})},50)}},v=(O,T=null)=>{document.execCommand(O,!1,T),g.current.focus(),y()},w=O=>{if(console.log("RichTextEditor: Received imageUrl:",O),g.current){g.current.focus();const T="img_"+Date.now(),A=`<img id="${T}" src="${O}" alt="Image" data-size="large" style="max-width: 100%; height: auto; margin: 10px 0; cursor: pointer;" onclick="event.stopPropagation();" />`;console.log("RichTextEditor: Inserting HTML:",A),v("insertHTML",A),setTimeout(()=>{const M=g.current.querySelector(`#${T}`);M&&M.addEventListener("click",B=>_(B,M))},100)}u(!1)},_=(O,T)=>{O.preventDefault(),O.stopPropagation(),h(T);const A=T.getBoundingClientRect(),M=g.current.getBoundingClientRect();x({show:!0,x:A.right-M.left-100,y:A.top-M.top})},S=O=>{if(d){let T,A;switch(O){case"small":T="300px",A="300px";break;case"medium":T="500px",A="500px";break;case"large":T="100%",A="100%";break;default:T="100%",A="100%"}d.style.width=T,d.style.maxWidth=A,d.style.height="auto",d.setAttribute("data-size",O),y(),x({show:!1,x:0,y:0}),h(null)}},I=()=>{d&&(d.remove(),y(),x({show:!1,x:0,y:0}),h(null))},C=O=>{if(O.ctrlKey||O.metaKey)switch(O.key){case"b":O.preventDefault(),v("bold");break;case"i":O.preventDefault(),v("italic");break;case"u":O.preventDefault(),v("underline");break}};return n.jsxs("div",{className:"rich-text-editor",children:[n.jsxs("div",{className:"editor-toolbar",children:[n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("bold"),title:"Bold (Ctrl+B)",children:n.jsx("strong",{children:"B"})}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("italic"),title:"Italic (Ctrl+I)",children:n.jsx("em",{children:"I"})}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("underline"),title:"Underline (Ctrl+U)",children:n.jsx("u",{children:"U"})}),n.jsx("div",{className:"toolbar-separator"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("formatBlock","h1"),title:"Heading 1",children:"H1"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("formatBlock","h2"),title:"Heading 2",children:"H2"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("formatBlock","h3"),title:"Heading 3",children:"H3"}),n.jsx("div",{className:"toolbar-separator"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("insertUnorderedList"),title:"Bullet List",children:""}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("insertOrderedList"),title:"Numbered List",children:"1."}),n.jsx("div",{className:"toolbar-separator"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>u(!0),title:"Insert Image",children:""}),n.jsx("div",{className:"toolbar-separator"}),n.jsx("button",{type:"button",className:"toolbar-btn",onClick:()=>v("removeFormat"),title:"Clear Formatting",children:""})]}),n.jsxs("div",{className:"editor-container",style:{position:"relative"},children:[n.jsx("div",{ref:g,className:"editor-content",contentEditable:!0,onInput:y,onKeyDown:C,onClick:O=>{O.target.tagName==="IMG"&&_(O,O.target)},suppressContentEditableWarning:!0,style:{minHeight:"400px",padding:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",fontFamily:'-apple-system, BlinkMacSystemFont, "San Francisco", "Segoe UI", Roboto, "Helvetica Neue", sans-serif',outline:"none",backgroundColor:"#fff"},"data-placeholder":o}),m.show&&n.jsxs("div",{className:"image-controls-popup",style:{position:"absolute",top:`${m.y}px`,left:`${m.x}px`,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column",gap:"4px",minWidth:"120px"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px",color:"#666"},children:"Resize Image:"}),n.jsx("button",{className:"image-control-btn",onClick:()=>S("small"),style:{padding:"4px 8px",border:"1px solid #ddd",borderRadius:"3px",background:"white",cursor:"pointer",fontSize:"12px"},children:"Small (300px)"}),n.jsx("button",{className:"image-control-btn",onClick:()=>S("medium"),style:{padding:"4px 8px",border:"1px solid #ddd",borderRadius:"3px",background:"white",cursor:"pointer",fontSize:"12px"},children:"Medium (500px)"}),n.jsx("button",{className:"image-control-btn",onClick:()=>S("large"),style:{padding:"4px 8px",border:"1px solid #ddd",borderRadius:"3px",background:"white",cursor:"pointer",fontSize:"12px"},children:"Large (100%)"}),n.jsx("hr",{style:{margin:"4px 0",border:"none",borderTop:"1px solid #eee"}}),n.jsx("button",{className:"image-control-btn delete-btn",onClick:I,style:{padding:"4px 8px",border:"1px solid #dc3545",borderRadius:"3px",background:"#dc3545",color:"white",cursor:"pointer",fontSize:"12px"},children:" Delete Image"})]})]}),l&&n.jsx(hh,{onSelect:w,onClose:()=>u(!1),title:"Insert Image"})]})}const fi=async s=>{if(!s)return"";if(s.startsWith("http"))return s;try{const a=await fetch(`https://bapi.ingasti.com/api/media/signed-url?key=${encodeURIComponent(s)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(a.ok)return(await a.json()).signed_url}catch(a){console.error("Error getting signed URL:",a)}return s},$y=async s=>{if(!s)return s;const a=/<img[^>]*src="([^"]*uploads\/[^"]*)"[^>]*>/g,o=/!\[[^\]]*\]\(([^)]*uploads\/[^)]*)\)/g;let l=s,u;const d=[];for(;(u=a.exec(s))!==null;)d.push({full:u[0],src:u[1]});const h=[];for(;(u=o.exec(s))!==null;)h.push({full:u[0],src:u[1]});for(const m of d)if(m.src.startsWith("uploads/"))try{const x=await fi(m.src),g=m.full.replace(m.src,x);l=l.replace(m.full,g)}catch(x){console.error("Error generating signed URL:",x)}for(const m of h)if(m.src.startsWith("uploads/"))try{const x=await fi(m.src);l=l.replace(m.src,x)}catch(x){console.error("Error converting S3 key to signed URL:",x)}return l};function My(){const[s]=Ul(),a=Qt(),{user:o}=Jt(),{adminUser:l,isAdmin:u}=Rt(),d=u&&l?l:o,h=s.get("edit"),[m,x]=j.useState({title:"",content:"",excerpt:"",category:"",featuredImage:"",status:"draft",authorId:(d==null?void 0:d.id)||""}),[g,y]=j.useState([]),[v,w]=j.useState([]),[_,S]=j.useState(!1),[I,C]=j.useState(""),[O,T]=j.useState(""),[A,M]=j.useState(!1),[B,G]=j.useState(null),[W,J]=j.useState(!1),[se,oe]=j.useState(!1),[xe,je]=j.useState(!1),[Ae,Pe]=j.useState("");j.useEffect(()=>{const X=setTimeout(()=>oe(!0),1e3);return()=>clearTimeout(X)},[]),j.useEffect(()=>{h&&(M(!0),G(h),H(h)),Ge(),Te()},[h]),j.useEffect(()=>{(async()=>{if(m.featuredImage){const ee=await fi(m.featuredImage);Pe(ee)}else Pe("")})()},[m.featuredImage]);const Ge=async()=>{try{const X=await Ar.getCategories();X.success&&X.data?(console.log("Categories loaded for post editor:",X.data),y(X.data)):console.error("Failed to load categories:",X.error)}catch(X){console.error("Error loading categories:",X)}},Te=async()=>{if(ke())try{const X=await fetch("https://bapi.ingasti.com/api/users/authors",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")||localStorage.getItem("userToken")}`,"Content-Type":"application/json"}});if(X.ok){const ee=await X.json();w(ee.users||[])}}catch(X){console.error("Error loading authors:",X)}},ke=()=>d?["admin","super_admin","editor"].includes(d.role):!1,b=()=>d?["admin","super_admin","editor","author","writer"].includes(d.role):!1,H=async X=>{try{S(!0);const ee=await Rn.getPostById(X);if(console.log("Load post response:",ee),ee.success&&ee.data){const he=ee.data;console.log("Setting post data:",he);const ge=await $y(he.content||"");let Se=he.featured_image||"";Se&&Se.startsWith("uploads/")&&(Se=await fi(Se)),x({title:he.title||"",content:ge,excerpt:he.excerpt||"",category:he.category_id||"",featuredImage:Se,status:he.status||"draft",authorId:he.author_id||(d==null?void 0:d.id)||""})}else C("Failed to load post for editing")}catch(ee){console.error("Error loading post:",ee),C("Failed to load post for editing")}finally{S(!1)}},Q=async X=>{try{J(!0);const ee=await ey.uploadFile(X);if(ee.success){const he=ee.data;return x(ge=>({...ge,featuredImage:he})),T("Image uploaded successfully!"),setTimeout(()=>T(""),3e3),he}else C(ee.error||"Failed to upload image"),setTimeout(()=>C(""),3e3)}catch(ee){console.error("Error uploading image:",ee),C("Failed to upload image"),setTimeout(()=>C(""),3e3)}finally{J(!1)}},R=async X=>{const ee=X.target.files[0];ee&&await Q(ee)},E=X=>{console.log("Write.jsx: Received imageUrl from MediaSelector:",X),x(ee=>({...ee,featuredImage:X})),T("Image selected from media library!"),setTimeout(()=>T(""),3e3)},Z=X=>{const{name:ee,value:he}=X.target;x(ge=>({...ge,[ee]:he}))},ne=async X=>{var ee,he,ge,Se,Ye;if(X.preventDefault(),!d){C("You must be logged in to write posts");return}if(!b()){C("You do not have permission to write posts");return}if(!m.title.trim()){C("Title is required");return}if(!m.content||typeof m.content=="string"&&!m.content.trim()){C("Content is required");return}try{S(!0),C(""),T("");const Ue={title:m.title,desc:m.content,cat:m.category,excerpt:m.excerpt,status:m.status};if(ke()&&m.authorId&&(Ue.author_id=m.authorId),m.featuredImage)if(m.featuredImage.includes("X-Amz-Algorithm"))try{const Yt=new URL(m.featuredImage).pathname.substring(1);Yt.startsWith("uploads/")?Ue.img=Yt:Ue.img=m.featuredImage}catch(ze){console.warn("Failed to extract S3 key, using original URL:",ze),Ue.img=m.featuredImage}else Ue.img=m.featuredImage;if(A){const ze=await Rn.updatePost(B,Ue);ze.success?(T("Post updated successfully!"),setTimeout(()=>{a(`/post/${B}`)},1500)):ze.error&&ze.error.includes("expired")?(C("Your session has expired. Please log in again to continue editing."),setTimeout(()=>a("/userlogin"),3e3)):ze.error&&ze.error.includes("unauthorized")?(C("Authentication failed. Please log in again to update this post."),setTimeout(()=>a("/userlogin"),3e3)):C(ze.error||"Failed to update post. Please try again.")}else{const ze=await Rn.createPost(Ue);ze.success?(T("Post created successfully!"),x({title:"",content:"",excerpt:"",category:"",featuredImage:"",status:"draft",authorId:(d==null?void 0:d.id)||""})):ze.error&&ze.error.includes("expired")?(C("Your session has expired. Please log in again to create posts."),setTimeout(()=>a("/userlogin"),3e3)):ze.error&&ze.error.includes("unauthorized")?(C("Authentication failed. Please log in again to create this post."),setTimeout(()=>a("/userlogin"),3e3)):C(ze.error||"Failed to create post. Please try again.")}}catch(Ue){console.error("Error saving post:",Ue),((ee=Ue.response)==null?void 0:ee.status)===401?(C("Your session has expired. Please log in again to continue."),setTimeout(()=>a("/userlogin"),3e3)):((he=Ue.response)==null?void 0:he.status)===403?C("You do not have permission to perform this action."):((ge=Ue.response)==null?void 0:ge.status)===500?C("Server error occurred. Please try again in a few moments."):Ue.message&&Ue.message.includes("Network Error")?C("Network connection failed. Please check your internet connection."):C(((Ye=(Se=Ue.response)==null?void 0:Se.data)==null?void 0:Ye.message)||"Failed to save post. Please try again.")}finally{S(!1)}};return se?d?b()?n.jsxs("div",{className:"write",children:[n.jsx("img",{className:"writeImg",src:ql,alt:"Post writing"}),n.jsxs("div",{className:"write-header",children:[n.jsx("h1",{children:A?"Edit Post":"Write New Post"}),n.jsxs("p",{children:["Welcome, ",d.firstName||d.name||d.username,"!"]})]}),I&&n.jsx("div",{className:"write-error-message",children:I}),O&&n.jsx("div",{className:"write-success-message",children:O}),n.jsxs("form",{className:"writeForm",onSubmit:ne,children:[n.jsxs("div",{className:"writeFormGroup",children:[n.jsxs("div",{className:"featured-image-options",children:[n.jsxs("label",{htmlFor:"fileInput",className:"file-upload-label",children:[n.jsx("i",{className:"writeIcon fa-solid fa-file-arrow-up"}),W?"Uploading...":"Upload New Image"]}),n.jsx("input",{type:"file",id:"fileInput",style:{display:"none"},accept:"image/*",onChange:R,disabled:W}),n.jsxs("button",{type:"button",className:"media-library-btn",onClick:()=>je(!0),children:[n.jsx("i",{className:"writeIcon fa-solid fa-images"}),"Choose from Library"]})]}),n.jsx("input",{type:"text",name:"title",placeholder:"Post Title",className:"writeInput",value:m.title,onChange:Z,autoFocus:!0,required:!0})]}),m.featuredImage&&n.jsx("div",{className:"writeFormGroup",children:n.jsxs("div",{className:"featured-image-preview",children:[n.jsx("img",{src:Ae||m.featuredImage,alt:"Featured"}),n.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>x(X=>({...X,featuredImage:""})),children:n.jsx("i",{className:"fa fa-times"})})]})}),n.jsx("div",{className:"writeFormGroup",children:n.jsx("input",{type:"text",name:"excerpt",placeholder:"Brief excerpt or description",className:"writeInput",value:m.excerpt,onChange:Z})}),n.jsxs("div",{className:"writeFormGroup",children:[n.jsxs("select",{name:"category",className:"writeInput writeSelect",value:m.category,onChange:Z,children:[n.jsx("option",{value:"",children:"Select Category"}),g.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]}),n.jsxs("select",{name:"status",className:"writeInput writeSelect",value:m.status,onChange:Z,children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"published",children:"Published"}),n.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),ke()&&n.jsxs("div",{className:"writeFormGroup",children:[n.jsxs("select",{name:"authorId",className:"writeInput writeSelect",value:m.authorId,onChange:Z,children:[n.jsx("option",{value:"",children:"Select Author"}),v.map(X=>n.jsx("option",{value:X.id,children:X.first_name&&X.last_name?`${X.first_name} ${X.last_name}`:X.username||`User ${X.id}`},X.id))]}),n.jsx("small",{className:"writeHelperText",children:"Change the author of this post (Admin/Editor only)"})]}),n.jsx("div",{className:"writeFormGroup writeFormGroupFull",children:n.jsx(mh,{value:m.content,onChange:X=>x(ee=>({...ee,content:X})),placeholder:"Start writing your story..."})}),n.jsxs("div",{className:"writeFormActions",children:[n.jsx("button",{type:"button",className:"writeCancel",onClick:()=>{a(A?"/ops":"/")},disabled:_,children:"Cancel"}),n.jsx("button",{type:"submit",className:"writeSubmit",disabled:_,children:_?"Saving...":A?"Update Post":"Publish Post"})]})]}),xe&&n.jsx(hh,{onSelect:E,selectedImage:m.featuredImage,onClose:()=>je(!1)})]}):n.jsx("div",{className:"write",children:n.jsxs("div",{className:"write-error",children:[n.jsx("h2",{children:"Access Denied"}),n.jsx("p",{children:"You do not have permission to write posts."}),n.jsxs("p",{children:["Current role: ",d.role]}),n.jsx("button",{onClick:()=>a("/"),children:"Go Home"})]})}):n.jsx("div",{className:"write",children:n.jsxs("div",{className:"write-error",children:[n.jsx("h2",{children:"Access Denied"}),n.jsx("p",{children:"You must be logged in to write posts."}),n.jsx("button",{onClick:()=>a("/userlogin"),children:"Login"})]})}):n.jsx("div",{style:{padding:"50px",textAlign:"center"},children:"Loading..."})}function zy(){const[s]=Ul(),a=Qt(),{adminUser:o,isAdmin:l}=Rt(),[u,d]=j.useState({slug:"",title:"",meta_title:"",meta_description:"",content:"",content_type:"html",status:"active",template:"default",show_in_menu:!1,menu_order:0}),[h,m]=j.useState(!1),[x,g]=j.useState(""),[y,v]=j.useState(""),[w,_]=j.useState(!1),[S,I]=j.useState(null),C=s.get("edit")||s.get("id"),O=s.get("slug");j.useEffect(()=>{if(!l){a("/login");return}C?(_(!0),I(C),T(C)):O&&(_(!0),A(O))},[C,O,l,a]);const T=async W=>{try{m(!0);const J=await Yn.getPageById(W);if(console.log("Load page response:",J),J.success&&J.data){const se=J.data;console.log("Setting page data:",se),d({slug:se.slug||"",title:se.title||"",meta_title:se.meta_title||"",meta_description:se.meta_description||"",content:se.content||"",content_type:se.content_type||"html",status:se.status||"active",template:se.template||"default",show_in_menu:se.show_in_menu||!1,menu_order:se.menu_order||0})}else g("Failed to load page for editing")}catch(J){console.error("Error loading page:",J),g("Failed to load page for editing")}finally{m(!1)}},A=async W=>{try{m(!0);const J=await Yn.getPageBySlug(W);if(console.log("Load page by slug response:",J),J.success&&J.data){const se=J.data;console.log("Setting page data from slug:",se),I(se.id),d({slug:se.slug||"",title:se.title||"",meta_title:se.meta_title||"",meta_description:se.meta_description||"",content:se.content||"",content_type:se.content_type||"html",status:se.status||"active",template:se.template||"default",show_in_menu:se.show_in_menu||!1,menu_order:se.menu_order||0})}else g("Failed to load page for editing")}catch(J){console.error("Error loading page by slug:",J),g("Failed to load page for editing")}finally{m(!1)}},M=async W=>{if(W.preventDefault(),!u.title.trim()||!u.slug.trim()||!u.content.trim()){g("Title, slug, and content are required");return}try{m(!0),g(""),v("");const J={slug:u.slug.trim(),title:u.title.trim(),meta_title:u.meta_title.trim()||null,meta_description:u.meta_description.trim()||null,content:u.content,content_type:u.content_type,status:u.status,template:u.template,show_in_menu:u.show_in_menu,menu_order:parseInt(u.menu_order)||0};if(w){const se=await Yn.updatePage(S,J);se.success?(v("Page updated successfully!"),setTimeout(()=>{a(`/${u.slug}`)},1500)):g(se.error||"Failed to update page")}else{const se=await Yn.createPage(J);se.success?(v("Page created successfully!"),d({slug:"",title:"",meta_title:"",meta_description:"",content:"",content_type:"html",status:"active",template:"default",show_in_menu:!1,menu_order:0})):g(se.error||"Failed to create page")}}catch(J){console.error("Error saving page:",J),g("Failed to save page. Please try again.")}finally{m(!1)}},B=W=>W.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),G=W=>{const J=W.target.value;d(se=>({...se,title:J,slug:!w||!se.slug?B(J):se.slug}))};return h&&w?n.jsx("div",{className:"edit-page",children:n.jsx("div",{className:"loading",children:n.jsx("p",{children:"Loading page..."})})}):n.jsx("div",{className:"edit-page",children:n.jsxs("div",{className:"edit-page-wrapper",children:[n.jsxs("div",{className:"edit-page-header",children:[n.jsx("h1",{children:w?"Edit Page":"Create New Page"}),n.jsxs("p",{children:["Welcome, ",o==null?void 0:o.username,"!"]})]}),n.jsxs("form",{onSubmit:M,className:"edit-page-form",children:[x&&n.jsx("div",{className:"error-message",children:x}),y&&n.jsx("div",{className:"success-message",children:y}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"title",children:"Page Title *"}),n.jsx("input",{type:"text",id:"title",value:u.title,onChange:G,placeholder:"Enter page title",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"slug",children:"URL Slug *"}),n.jsx("input",{type:"text",id:"slug",value:u.slug,onChange:W=>d(J=>({...J,slug:W.target.value})),placeholder:"page-url-slug",pattern:"[a-z0-9-]+",title:"Only lowercase letters, numbers, and hyphens allowed",required:!0}),n.jsxs("small",{children:["URL: /",u.slug]})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"meta_title",children:"SEO Title"}),n.jsx("input",{type:"text",id:"meta_title",value:u.meta_title,onChange:W=>d(J=>({...J,meta_title:W.target.value})),placeholder:"SEO meta title",maxLength:"60"}),n.jsx("small",{children:"Recommended: 50-60 characters"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"meta_description",children:"SEO Description"}),n.jsx("textarea",{id:"meta_description",value:u.meta_description,onChange:W=>d(J=>({...J,meta_description:W.target.value})),placeholder:"SEO meta description",rows:"2",maxLength:"160"}),n.jsx("small",{children:"Recommended: 150-160 characters"})]})]}),n.jsxs("div",{className:"form-group form-group-full",children:[n.jsx("label",{htmlFor:"content",children:"Page Content *"}),n.jsx(mh,{value:u.content,onChange:W=>d(J=>({...J,content:W})),placeholder:"Start writing your page content..."})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"status",children:"Status"}),n.jsxs("select",{id:"status",value:u.status,onChange:W=>d(J=>({...J,status:W.target.value})),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"template",children:"Template"}),n.jsxs("select",{id:"template",value:u.template,onChange:W=>d(J=>({...J,template:W.target.value})),children:[n.jsx("option",{value:"default",children:"Default"}),n.jsx("option",{value:"full-width",children:"Full Width"}),n.jsx("option",{value:"sidebar",children:"With Sidebar"})]})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",checked:u.show_in_menu,onChange:W=>d(J=>({...J,show_in_menu:W.target.checked}))}),"Show in navigation menu"]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"menu_order",children:"Menu Order"}),n.jsx("input",{type:"number",id:"menu_order",value:u.menu_order,onChange:W=>d(J=>({...J,menu_order:W.target.value})),min:"0",step:"1"}),n.jsx("small",{children:"Lower numbers appear first"})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>a("/ops"),className:"btn btn-secondary",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",children:h?"Saving...":w?"Update Page":"Create Page"})]})]})]})})}function By(){const[s,a]=j.useState(!1),o=()=>{a(!0);const u="blog-auth-1756980364.auth.eu-west-2.amazoncognito.com",d="50bvr2ect5ja74rc3qtdb3jn1a",h=encodeURIComponent(window.location.origin+"/ops/cognito-callback"),g=`https://${u}/oauth2/authorize?client_id=${d}&response_type=code&scope=email+openid+profile&redirect_uri=${h}`;window.location.href=g},l=()=>{const u="blog-auth-1756980364.auth.eu-west-2.amazoncognito.com",d="50bvr2ect5ja74rc3qtdb3jn1a",h=encodeURIComponent(window.location.origin+"/ops/cognito-callback"),m=`https://${u}/signup?client_id=${d}&response_type=code&scope=email+openid+profile&redirect_uri=${h}`;window.location.href=m};return n.jsx("div",{className:"cognito-login",children:n.jsxs("div",{className:"cognito-login-card",children:[n.jsxs("div",{className:"cognito-header",children:[n.jsx("h2",{children:" AWS Cognito Authentication"}),n.jsx("p",{children:"Secure authentication powered by AWS Cognito"})]}),n.jsxs("div",{className:"cognito-demo-section",children:[n.jsx("h3",{children:" Interview Demonstration"}),n.jsx("p",{children:"Click below to test the Cognito authentication flow:"}),n.jsxs("div",{className:"cognito-actions",children:[n.jsx("button",{className:"btn-cognito-login",onClick:o,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"})," Redirecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-brands fa-aws"})," Login with Cognito"]})}),n.jsxs("button",{className:"btn-cognito-signup",onClick:l,children:[n.jsx("i",{className:"fa-solid fa-user-plus"})," Sign Up"]})]})]}),n.jsxs("div",{className:"cognito-info",children:[n.jsx("h3",{children:" Technical Implementation"}),n.jsxs("div",{className:"tech-details",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Authentication Flow:"}),n.jsx("span",{children:"OAuth 2.0 Authorization Code Flow"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"User Pool ID:"}),n.jsx("span",{children:"eu-west-2_iCiMQwyNs"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Region:"}),n.jsx("span",{children:"eu-west-2 (Europe - London)"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Domain:"}),n.jsx("span",{children:"blog-auth-1756980364.auth.eu-west-2.amazoncognito.com"})]})]})]}),n.jsxs("div",{className:"cognito-features",children:[n.jsx("h3",{children:" Key Features"}),n.jsxs("ul",{children:[n.jsx("li",{children:" Secure JWT token-based authentication"}),n.jsx("li",{children:" OAuth 2.0 and OpenID Connect compliant"}),n.jsx("li",{children:" Multi-factor authentication ready"}),n.jsx("li",{children:" Password policies and complexity rules"}),n.jsx("li",{children:" Email verification and password recovery"}),n.jsx("li",{children:" Scalable AWS managed service"})]})]}),n.jsxs("div",{className:"cognito-architecture",children:[n.jsx("h3",{children:" Architecture Benefits"}),n.jsxs("div",{className:"architecture-points",children:[n.jsxs("div",{className:"arch-point",children:[n.jsx("strong",{children:"Decoupled:"})," Authentication service separate from main application"]}),n.jsxs("div",{className:"arch-point",children:[n.jsx("strong",{children:"Scalable:"})," AWS handles millions of users automatically"]}),n.jsxs("div",{className:"arch-point",children:[n.jsx("strong",{children:"Secure:"})," Industry-standard security protocols"]}),n.jsxs("div",{className:"arch-point",children:[n.jsx("strong",{children:"Cost-effective:"})," Pay only for active users"]})]})]})]})})}const Wy={userPoolId:"",clientId:"",clientSecret:"",region:"",domain:"",enabled:!1};function Hy(){const[s,a]=j.useState(Wy),[o,l]=j.useState(!1),[u,d]=j.useState(""),[h,m]=j.useState(null),[x,g]=j.useState("config"),[y,v]=j.useState("");j.useEffect(()=>{_(),w()},[]);const w=()=>{const O=localStorage.getItem("adminToken"),T=localStorage.getItem("userToken");let A=` Debug Information:
`;if(A+=`- Admin Token: ${O?"Present":"Missing"}
`,A+=`- User Token: ${T?"Present":"Missing"}
`,A+=`- Current URL: ${window.location.href}
`,A+=`- API Endpoint: ${pe.SETTINGS.OAUTH}
`,O)try{const M=JSON.parse(atob(O.split(".")[1]));A+=`- Token expires: ${new Date(M.exp*1e3).toLocaleString()}
`,A+=`- Token user ID: ${M.id}
`,A+=`- Token role: ${M.role}
`,A+=`- Token expired: ${M.exp*1e3<Date.now()?"YES":"NO"}
`}catch(M){A+=`- Token parse error: ${M.message}
`}v(A),console.log(" [DEBUG] Token Information:",A)},_=async()=>{try{l(!0);const O=localStorage.getItem("adminToken");if(console.log(" [DEBUG] Loading Cognito settings..."),console.log(" [DEBUG] Token exists:",!!O),console.log(" [DEBUG] Token length:",O?O.length:0),console.log(" [DEBUG] API Endpoint:",pe.SETTINGS.OAUTH),!O){d(" Admin authentication required. Please log in.");return}const T=await fetch(pe.SETTINGS.OAUTH,{headers:{Authorization:`Bearer ${O}`}});if(console.log(" [DEBUG] Response status:",T.status),console.log(" [DEBUG] Response headers:",Object.fromEntries(T.headers.entries())),T.ok){const A=await T.json();console.log(" [DEBUG] Response data:",A),A.success&&A.config&&A.config.cognito?(a({userPoolId:A.config.cognito.userPoolId||"",clientId:A.config.cognito.clientId||"",clientSecret:A.config.cognito.clientSecret||"",region:A.config.cognito.region||"",domain:A.config.cognito.domain||"",enabled:A.config.cognito.enabled||!1}),d(" Settings loaded successfully")):d(" Invalid response structure from server")}else{const A=await T.text();console.log(" [DEBUG] Error response:",A);try{const M=JSON.parse(A);d(` Error loading settings: ${M.message||"Unknown error"} (Status: ${T.status})`)}catch{d(` Server error: ${T.status} - ${A}`)}}}catch(O){console.error(" [DEBUG] Network error loading Cognito settings:",O),d(` Network error: ${O.message}`)}finally{l(!1)}},S=O=>{const{name:T,value:A,type:M,checked:B}=O.target;a(T==="enabled"?{...s,enabled:B}:{...s,[T]:A})},I=async O=>{O.preventDefault(),l(!0),d("");try{const T=localStorage.getItem("adminToken");if(console.log(" [DEBUG] Saving Cognito settings..."),console.log(" [DEBUG] Token exists:",!!T),console.log(" [DEBUG] Form data:",s),!T){d(" Admin authentication required. Please log in.");return}const A=await fetch(pe.SETTINGS.OAUTH,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({cognito:s})});console.log(" [DEBUG] Save response status:",A.status);const M=await A.json();if(A.ok)d(" Cognito configuration saved successfully!");else{const B=await A.json();d(` Error: ${B.message||"Failed to save configuration"}`)}}catch(T){console.error("Error saving Cognito settings:",T),d(" Error saving configuration")}finally{l(!1)}},C=async()=>{if(!s.userPoolId||!s.clientId||!s.region){d(" Please fill in User Pool ID, Client ID, and Region first");return}l(!0),m(null);try{const O=localStorage.getItem("adminToken");if(!O){d(" Admin authentication required. Please log in.");return}const T=await fetch(pe.AUTH.COGNITO_TEST,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({userPoolId:s.userPoolId,clientId:s.clientId,region:s.region})}),A=await T.json();T.ok?m({success:!0,message:" Connection successful!",details:A}):m({success:!1,message:` Connection failed: ${A.message}`,details:A})}catch(O){m({success:!1,message:" Connection test failed",details:{error:O.message}})}finally{l(!1)}};return n.jsxs("div",{className:"cognito-admin-panel",children:[n.jsx("h2",{children:"AWS Cognito Configuration"}),n.jsxs("div",{className:"cognito-tabs",children:[n.jsxs("button",{className:x==="config"?"active":"",onClick:()=>g("config"),children:[n.jsx("i",{className:"fa-solid fa-gear"})," Configuration"]}),n.jsxs("button",{className:x==="demo"?"active":"",onClick:()=>g("demo"),children:[n.jsx("i",{className:"fa-solid fa-rocket"})," Live Demo"]}),n.jsxs("button",{className:x==="debug"?"active":"",onClick:()=>g("debug"),children:[n.jsx("i",{className:"fa-solid fa-bug"})," Debug"]})]}),x==="config"?n.jsxs("div",{className:"config-section",children:[u&&n.jsx("div",{className:`message ${u.includes("")?"success":"error"}`,children:u}),n.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #ddd",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[n.jsx("h4",{style:{marginTop:0},children:"How to find required values:"}),n.jsxs("ul",{style:{marginBottom:"8px"},children:[n.jsxs("li",{children:[n.jsx("b",{children:"User Pool ID:"})," AWS Console  Cognito  User Pools  select your pool  Pool details.",n.jsx("br",{}),"Format: ",n.jsx("code",{children:"eu-west-2_XXXXXXXXX"})]}),n.jsxs("li",{children:[n.jsx("b",{children:"App Client ID:"})," In your User Pool  App clients  copy the App client ID.",n.jsx("br",{}),"Format: ",n.jsx("code",{children:"xxxxxxxxxxxxxxxxxxxxxxxxxx"})]}),n.jsxs("li",{children:[n.jsx("b",{children:"App Client Secret:"})," In App clients  Show Details  copy App client secret (if enabled)."]}),n.jsxs("li",{children:[n.jsx("b",{children:"AWS Region:"})," Shown in the AWS Console URL (e.g., ",n.jsx("code",{children:"eu-west-2"}),")."]}),n.jsxs("li",{children:[n.jsx("b",{children:"Domain:"})," User Pool  Domain name  copy the full domain URL.",n.jsx("br",{}),"Format: ",n.jsx("code",{children:"your-domain.auth.eu-west-2.amazoncognito.com"})]})]})]}),n.jsxs("form",{onSubmit:I,children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"enabled",checked:s.enabled,onChange:S}),"Enable Cognito Authentication"]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["User Pool ID: *",n.jsx("input",{type:"text",name:"userPoolId",value:s.userPoolId,onChange:S,placeholder:"eu-west-2_XXXXXXXXX",required:!0})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["App Client ID: *",n.jsx("input",{type:"text",name:"clientId",value:s.clientId,onChange:S,placeholder:"xxxxxxxxxxxxxxxxxxxxxxxxxx",required:!0})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["App Client Secret:",n.jsx("input",{type:"password",name:"clientSecret",value:s.clientSecret,onChange:S,placeholder:"Optional - only if app client has secret"})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["AWS Region: *",n.jsx("input",{type:"text",name:"region",value:s.region,onChange:S,placeholder:"eu-west-2",required:!0})]})}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["Cognito Domain:",n.jsx("input",{type:"text",name:"domain",value:s.domain,onChange:S,placeholder:"your-domain.auth.eu-west-2.amazoncognito.com"})]})}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:C,disabled:o,children:o?"Testing...":" Test Connection"}),n.jsx("button",{type:"submit",disabled:o,children:o?"Saving...":" Save Configuration"})]})]}),h&&n.jsxs("div",{className:`test-result ${h.success?"success":"error"}`,children:[n.jsx("h4",{children:"Connection Test Result:"}),n.jsx("p",{children:h.message}),h.details&&n.jsxs("details",{children:[n.jsx("summary",{children:"Details"}),n.jsx("pre",{children:JSON.stringify(h.details,null,2)})]})]}),n.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#e8f4f8",borderRadius:"8px",fontSize:"0.9em"},children:[n.jsx("h5",{children:" Next Steps After Configuration:"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Save the configuration above"}),n.jsx("li",{children:"Test the connection to verify settings"}),n.jsx("li",{children:"Create user accounts in your Cognito User Pool"}),n.jsx("li",{children:"Test login from the main blog login page"}),n.jsx("li",{children:"Configure user groups and permissions as needed"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Login URL:"})," ",n.jsx("code",{children:"/login"})," (Cognito option will appear when enabled)"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User Pool Management:"})," ",n.jsx("a",{href:"https://console.aws.amazon.com/cognito/",target:"_blank",rel:"noopener noreferrer",children:"AWS Cognito Console"})]})]})]}):x==="demo"?n.jsx("div",{className:"demo-section",children:n.jsx(By,{})}):x==="debug"?n.jsxs("div",{className:"debug-section",children:[n.jsx("h3",{children:" Debug Information"}),n.jsxs("div",{className:"debug-card",children:[n.jsx("h4",{children:"Authentication Status"}),n.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"12px",overflow:"auto"},children:y})]}),n.jsxs("div",{className:"debug-card",children:[n.jsx("h4",{children:"Recent Error Messages"}),n.jsx("div",{style:{background:u.includes("")?"#ffebee":"#e8f5e8",padding:"12px",borderRadius:"4px",minHeight:"40px"},children:u||"No recent messages"})]}),n.jsxs("div",{className:"debug-card",children:[n.jsx("h4",{children:"Quick Actions"}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:w,style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Refresh Debug Info"}),n.jsx("button",{onClick:_,style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Retry Load Settings"}),n.jsx("button",{onClick:()=>{localStorage.removeItem("adminToken"),window.location.reload()},style:{padding:"8px 16px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Clear Token & Reload"})]})]})]}):null]})}function ff(){const{isAdmin:s,adminUser:a}=Rt(),[o,l]=j.useState([]),[u,d]=j.useState([]),[h,m]=j.useState(!0),[x,g]=j.useState("posts"),[y,v]=j.useState(!1),[w,_]=j.useState(null),[S,I]=j.useState({name:"",description:"",color:"#3B82F6",parent_id:null,show_in_sidebar:!0});Ct.useEffect(()=>{y&&setTimeout(()=>{const b=document.querySelector(".add-category-form");b&&b.scrollIntoView({behavior:"smooth",block:"start"})},100)},[y]);const[C,O]=j.useState(null),[T,A]=j.useState(0),[M,B]=j.useState(!1);j.useEffect(()=>{W(),G()},[]);const G=async()=>{try{const b=await Ar.getCategories();b.success?(console.log("Fetched categories for admin:",b.data),d(b.data)):console.error("Failed to fetch categories:",b.error)}catch(b){console.error("Error fetching categories:",b)}},W=async()=>{try{const b=await fetch(pe.POSTS.LIST);if(b.ok){const H=await b.json();l(H)}}catch(b){console.error("Error fetching posts:",b)}finally{m(!1)}},J=async b=>{if(window.confirm("Are you sure you want to delete this post?"))try{const H=await fetch(pe.POSTS.DELETE(b),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});H.ok?l(o.filter(Q=>Q.id!==b)):(console.error("Failed to delete post:",H.status),alert("Failed to delete post. Please try again."))}catch(H){console.error("Error deleting post:",H),alert("Error deleting post. Please try again.")}},se=async()=>{var b;if(!S.name||S.name.trim()===""){alert("Category name is required!");return}try{const H=await Ar.createCategory({name:S.name.trim(),description:((b=S.description)==null?void 0:b.trim())||"",color:S.color||"#3B82F6",parent_id:S.parent_id||null,show_in_sidebar:S.show_in_sidebar});H.success?(d([...u,H.data.category]),I({name:"",description:"",color:"#3B82F6",parent_id:null,show_in_sidebar:!0}),v(!1),alert("Category created successfully!")):alert(`Failed to create category: ${H.error}`)}catch(H){console.error("Error creating category:",H),alert("Error creating category. Please try again.")}},oe=async(b,H)=>{if(parseInt(b)===0){alert('Cannot delete the default "Jumble" category!');return}if(window.confirm(`Delete category "${H}"? This cannot be undone. Any posts in this category will be moved to "Jumble".`))try{const Q=await Ar.deleteCategory(b);if(Q.success){d(u.filter(ne=>ne.id!==b));const{postsReassigned:R,subcategoriesUpdated:E}=Q.data;let Z="Category deleted successfully!";R>0&&(Z+=`
${R} posts moved to "Jumble" category.`),E>0&&(Z+=`
${E} subcategories converted to main categories.`),alert(Z)}else alert(`Failed to delete category: ${Q.error}`)}catch(Q){console.error("Error deleting category:",Q),alert("Error deleting category. Please try again.")}},xe=b=>{console.log("Edit category clicked:",b),_(b),I({name:b.name,description:b.description||"",color:b.color||"#3B82F6",parent_id:b.parent_id||null,show_in_sidebar:b.show_in_sidebar!==void 0?b.show_in_sidebar:!0}),v(!0),setTimeout(()=>{const H=document.querySelector(".add-category-form");H&&(H.scrollIntoView({behavior:"smooth",block:"start"}),H.style.boxShadow="0 0 20px rgba(59, 130, 246, 0.5)",setTimeout(()=>{H.style.boxShadow=""},2e3))},100),console.log("Form should be visible now, showAddForm:",!0)},je=async()=>{var b;if(!S.name||S.name.trim()===""){alert("Category name is required!");return}try{const H=await Ar.updateCategory(w.id,{name:S.name.trim(),description:((b=S.description)==null?void 0:b.trim())||"",color:S.color||"#3B82F6",parent_id:S.parent_id||null,show_in_sidebar:S.show_in_sidebar});H.success?(d(u.map(Q=>Q.id===w.id?H.data.category:Q)),I({name:"",description:"",color:"#3B82F6",parent_id:null,show_in_sidebar:!0}),_(null),v(!1),alert("Category updated successfully!")):alert(`Failed to update category: ${H.error}`)}catch(H){console.error("Error updating category:",H),alert("Error updating category. Please try again.")}},Ae=()=>{I({name:"",description:"",color:"#3B82F6",parent_id:null,show_in_sidebar:!0}),_(null),v(!1)},Pe=async b=>{const H=b.target.files[0];if(H){if(!s||!a){alert("Admin authentication required. Please login again.");return}if(!H.name.endsWith(".md")&&!H.name.endsWith(".markdown")){alert("Please select a Markdown file (.md or .markdown)");return}O(H),B(!0),A(10);try{const Q=new FormData;Q.append("markdown",H),A(30);const R=localStorage.getItem("adminToken");if(!R)throw new Error("Admin authentication required. Please login again.");const E={Authorization:`Bearer ${R}`},Z=await fetch(pe.PUBLISH.MARKDOWN,{method:"POST",headers:E,body:Q,credentials:"include"});if(A(70),Z.ok){const ne=await Z.json();A(100),setTimeout(()=>{alert(`Post uploaded successfully!
Title: ${ne.title}
Category: ${ne.category}
Post ID: ${ne.postId}`),W(),O(null),B(!1),A(0)},500)}else{const ne=await Z.json().catch(()=>({error:"Unknown error"}));throw new Error(`API Error (${Z.status}): ${ne.error||ne.message||"Unknown error"}`)}}catch(Q){console.error("Error uploading file:",Q),alert(`Failed to upload file: ${Q.message}`),O(null),B(!1),A(0)}}},Ge=()=>{document.getElementById("file-upload-input").click()},Te=()=>n.jsxs("div",{className:"posts-section",children:[n.jsx("input",{id:"file-upload-input",type:"file",accept:".md,.markdown",onChange:Pe,style:{display:"none"}}),n.jsxs("div",{className:"posts-grid",children:[n.jsxs("div",{className:"post-card",children:[n.jsx("h3",{children:"Create New Post"}),n.jsx("p",{children:"Start writing a new blog post"}),n.jsx("button",{className:"btn-secondary",onClick:()=>window.open("/write","_blank"),children:"Create"})]}),n.jsxs("div",{className:"post-card upload-card",children:[n.jsx("h3",{children:"Upload Post"}),n.jsx("p",{children:"Upload a Markdown file from your device"}),M?n.jsxs("div",{className:"upload-progress",children:[n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-fill",style:{width:`${T}%`}})}),n.jsxs("p",{children:["Uploading... ",T,"%"]})]}):n.jsxs("button",{className:"btn-secondary upload-btn",onClick:Ge,children:[n.jsx("i",{className:"fa-solid fa-upload"})," Upload .md"]})]}),n.jsxs("div",{className:"post-card",children:[n.jsx("h3",{children:"Draft Posts"}),n.jsx("p",{children:"Continue working on saved drafts"}),n.jsx("button",{className:"btn-secondary",onClick:async()=>{try{((await Rn.getDrafts()).data||[]).length===0?alert("No draft posts found"):window.location.href="/ops/drafts"}catch(b){console.error("Error fetching drafts:",b),alert("Failed to fetch drafts. Please try again.")}},children:"View Drafts"})]}),n.jsxs("div",{className:"post-card",children:[n.jsx("h3",{children:"Published Posts"}),n.jsx("p",{children:"Edit or manage published content"}),n.jsx("button",{className:"btn-secondary",onClick:()=>{const b=o.filter(H=>H.status==="published");alert(`Found ${b.length} published post(s). Use the Recent Posts table below to manage them.`)},children:"Manage"})]}),n.jsxs("div",{className:"post-card",children:[n.jsx("h3",{children:"Scheduled Posts"}),n.jsx("p",{children:"Posts scheduled for future publication"}),n.jsx("button",{className:"btn-secondary",onClick:()=>{const b=o.filter(H=>H.status==="scheduled");b.length===0?alert("No scheduled posts found"):alert(`Found ${b.length} scheduled post(s). This feature will be enhanced in a future update.`)},children:"Schedule"})]})]}),n.jsxs("div",{className:"recent-posts",children:[n.jsx("h3",{children:"Recent Posts"}),h?n.jsx("p",{children:"Loading posts..."}):n.jsxs("table",{className:"ops-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Title"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:o.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",children:"No posts found"})}):o.map(b=>n.jsxs("tr",{children:[n.jsx("td",{children:b.title}),n.jsx("td",{children:n.jsx("span",{className:"category-badge",children:b.category||"Technology"})}),n.jsx("td",{children:n.jsx("span",{className:`status ${b.status.toLowerCase()}`,children:b.status})}),n.jsx("td",{children:new Date(b.created_at).toLocaleDateString()}),n.jsxs("td",{children:[n.jsx("button",{className:"btn-small",onClick:()=>window.open(`/write?edit=${b.id}`,"_blank"),children:"Edit"}),n.jsx("button",{className:"btn-small btn-danger",onClick:()=>J(b.id),children:"Delete"})]})]},b.id))})]})]})]}),ke=()=>n.jsxs("div",{className:"categories-section",children:[y&&n.jsxs("div",{className:"add-category-form category-form-overlay",children:[n.jsxs("div",{className:"form-header",children:[n.jsx("h3",{children:w?" Edit Category":" Add New Category"}),n.jsx("button",{className:"close-form-btn",onClick:Ae,title:"Close form",children:""})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Category Name *"}),n.jsx("input",{type:"text",placeholder:"e.g., Technology",value:S.name,onChange:b=>I({...S,name:b.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{placeholder:"Optional description for this category",value:S.description,onChange:b=>I({...S,description:b.target.value}),rows:3})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Color"}),n.jsx("input",{type:"color",value:S.color,onChange:b=>I({...S,color:b.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Parent Category (Optional)"}),n.jsxs("select",{value:S.parent_id||"",onChange:b=>I({...S,parent_id:b.target.value||null}),children:[n.jsx("option",{value:"",children:"-- Main Category --"}),u.filter(b=>b.id!==(w==null?void 0:w.id)).filter(b=>b.id!==0).filter(b=>!b.parent_id).map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))]}),n.jsx("small",{children:'Select a parent category to create a subcategory (e.g., "Ice Cream" under "Food")'})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:S.show_in_sidebar,onChange:b=>I({...S,show_in_sidebar:b.target.checked})}),n.jsx("span",{className:"checkbox-text",children:"Show in sidebar menu"})]}),n.jsx("small",{children:"Uncheck to hide this category from the public sidebar menu"})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{className:"btn-primary",onClick:w?je:se,children:w?"Update Category":"Create Category"}),n.jsx("button",{className:"btn-secondary",onClick:Ae,children:"Cancel"})]})]}),n.jsx("div",{className:"categories-grid",children:u.sort((b,H)=>{var Q,R;if(!b.parent_id&&H.parent_id)return-1;if(b.parent_id&&!H.parent_id)return 1;if(b.parent_id&&H.parent_id){const E=((Q=u.find(ne=>ne.id===b.parent_id))==null?void 0:Q.name)||"",Z=((R=u.find(ne=>ne.id===H.parent_id))==null?void 0:R.name)||"";if(E!==Z)return E.localeCompare(Z)}return b.name.localeCompare(H.name)}).map(b=>{const H=b.parent_id?u.find(R=>R.id===b.parent_id):null,Q=u.filter(R=>R.parent_id===b.id);return n.jsxs("div",{className:`category-card ${b.parent_id?"subcategory":""}`,children:[n.jsxs("div",{className:"category-info",children:[n.jsxs("div",{className:"category-header",children:[n.jsxs("h3",{style:{color:b.color},children:[b.parent_id&&n.jsx("span",{className:"subcategory-indicator",children:" "}),b.name,b.id===0&&n.jsx("span",{className:"default-badge",children:"Default"})]}),H&&n.jsxs("p",{className:"parent-category",children:["under ",H.name]})]}),n.jsxs("p",{className:"category-slug",children:["/",b.slug]}),n.jsxs("p",{className:"post-count",children:[b.post_count||0," posts"]}),Q.length>0&&n.jsxs("p",{className:"subcategory-count",children:[Q.length," subcategories"]}),b.description&&n.jsx("p",{className:"category-description",children:b.description}),n.jsx("div",{className:"category-flags",children:!b.show_in_sidebar&&n.jsx("span",{className:"hidden-flag",children:"Hidden in sidebar"})})]}),n.jsxs("div",{className:"category-actions",children:[n.jsxs("button",{className:"btn-secondary",onClick:()=>xe(b),disabled:b.id===0,title:b.id===0?"Cannot edit default category":"Edit category",children:[n.jsx("i",{className:"fa-solid fa-edit"})," Edit"]}),n.jsxs("button",{className:"btn-danger",onClick:()=>oe(b.id,b.name),disabled:b.id===0,title:b.id===0?"Cannot delete default category":"Delete category",children:[n.jsx("i",{className:"fa-solid fa-trash"})," Delete"]})]})]},b.id)})}),n.jsxs("div",{className:"category-info-box",children:[n.jsx("h3",{children:" Post Category Guidelines"}),n.jsx("p",{children:"When creating or editing posts, make sure to:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Select a category"})," - Every post should belong to a category"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Use relevant categories"})," - Choose the most appropriate category for your content"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Technology"})," - Programming, tools, software, hardware, tech reviews"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Lifestyle"})," - Personal experiences, life tips, productivity"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tutorial"})," - Step-by-step guides, how-to articles"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"News"})," - Industry news, updates, announcements"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Review"})," - Product reviews, book reviews, service reviews"]})]}),n.jsx("p",{children:n.jsx("em",{children:"Note: All existing posts have been automatically assigned to the Technology category."})})]})]});return n.jsxs("div",{className:"content-management",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Content Management"}),n.jsxs("div",{className:"section-tabs",children:[n.jsxs("button",{className:x==="posts"?"active":"",onClick:()=>g("posts"),children:[n.jsx("i",{className:"fa-solid fa-file-lines"})," Posts"]}),n.jsxs("button",{className:x==="categories"?"active":"",onClick:()=>g("categories"),children:[n.jsx("i",{className:"fa-solid fa-tags"})," Categories"]})]}),n.jsx("div",{className:"header-actions",children:x==="posts"?n.jsxs("button",{className:"btn-primary",onClick:()=>window.open("/write","_blank"),children:[n.jsx("i",{className:"fa-solid fa-plus"})," New Post"]}):n.jsxs("button",{className:"btn-primary",onClick:()=>{y?Ae():v(!0)},children:[n.jsx("i",{className:"fa-solid fa-plus"})," ",y?"Cancel":"Add Category"]})})]}),n.jsx("div",{className:"content-sections",children:x==="posts"?Te():ke()})]})}function qy(){const[s,a]=j.useState([]),[o,l]=j.useState(!0),[u,d]=j.useState(!1),[h,m]=j.useState(null),[x,g]=j.useState(""),[y,v]=j.useState({username:"",email:"",password:"",firstName:"",lastName:"",role:"user"});j.useEffect(()=>{w()},[]);const w=async()=>{try{const T=localStorage.getItem("adminToken");if(console.log("Fetching users with token:",T?"Token exists":"No token found"),console.log("API URL:",pe.ADMIN.USERS),!T){g("Authentication required. Please login again."),l(!1);return}const A=await fetch(pe.ADMIN.USERS,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(console.log("Response status:",A.status),console.log("Response headers:",Object.fromEntries(A.headers.entries())),A.ok){const M=await A.json();console.log("Users data received:",M),a(M.users||M),g("")}else if(A.status===401)g("Session expired. Please login again."),localStorage.removeItem("adminToken");else{const M=await A.text();console.log("Error response:",M),g(`Failed to fetch users: ${A.status} ${A.statusText}`)}}catch(T){console.error("Error fetching users:",T),g("Network error: "+T.message)}finally{l(!1)}},_=async T=>{T.preventDefault();try{const A=localStorage.getItem("adminToken");if(!A){g("Authentication required. Please login again.");return}const M=await fetch(pe.ADMIN.USERS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify(y)}),B=await M.json();M.ok?(a([...s,B.user]),v({username:"",email:"",password:"",firstName:"",lastName:"",role:"user"}),d(!1),g("User created successfully!"),setTimeout(()=>g(""),3e3)):g(B.message||`Error creating user: ${M.status}`)}catch(A){console.error("Error creating user:",A),g("Error creating user: "+A.message)}},S=async(T,A)=>{try{const M=localStorage.getItem("adminToken"),B=await fetch(pe.ADMIN.USER(T),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(A)}),G=await B.json();B.ok?(a(s.map(W=>W.id===T?G.user:W)),m(null),g("User updated successfully!"),setTimeout(()=>g(""),3e3)):g(G.message||"Error updating user")}catch(M){console.error("Error updating user:",M),g("Error updating user")}},I=async(T,A)=>{if(window.confirm(`Are you sure you want to delete user "${A}"?`))try{const M=localStorage.getItem("adminToken"),B=await fetch(pe.ADMIN.USER(T),{method:"DELETE",headers:{Authorization:`Bearer ${M}`}}),G=await B.json();B.ok?(a(s.filter(W=>W.id!==T)),g("User deleted successfully!"),setTimeout(()=>g(""),3e3)):g(G.message||"Error deleting user")}catch(M){console.error("Error deleting user:",M),g("Error deleting user")}},C=T=>{switch(T){case"super_admin":return"#e74c3c";case"admin":return"#e67e22";case"editor":return"#f39c12";case"author":return"#3498db";default:return"#95a5a6"}},O=T=>{switch(T){case"super_admin":return"Super Admin";case"admin":return"Admin";case"editor":return"Editor";case"author":return"Author/Writer";default:return"User"}};return o?n.jsx("div",{className:"user-management",children:n.jsx("div",{className:"loading",children:"Loading users..."})}):n.jsxs("div",{className:"user-management",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"User Management"}),n.jsxs("button",{className:"btn-primary",onClick:()=>d(!u),children:[n.jsx("i",{className:"fa-solid fa-user-plus"})," Add User"]})]}),x&&n.jsx("div",{className:`message ${x.includes("Error")?"error":"success"}`,children:x}),u&&n.jsx("div",{className:"add-user-form",children:n.jsxs("form",{onSubmit:_,children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Username"}),n.jsx("input",{type:"text",required:!0,value:y.username,onChange:T=>v({...y,username:T.target.value}),placeholder:"Enter username"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Email"}),n.jsx("input",{type:"email",required:!0,value:y.email,onChange:T=>v({...y,email:T.target.value}),placeholder:"Enter email"})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"First Name"}),n.jsx("input",{type:"text",value:y.firstName,onChange:T=>v({...y,firstName:T.target.value}),placeholder:"Enter first name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Last Name"}),n.jsx("input",{type:"text",value:y.lastName,onChange:T=>v({...y,lastName:T.target.value}),placeholder:"Enter last name"})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Password"}),n.jsx("input",{type:"password",required:!0,value:y.password,onChange:T=>v({...y,password:T.target.value}),placeholder:"Enter password",minLength:"8"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Role"}),n.jsxs("select",{value:y.role,onChange:T=>v({...y,role:T.target.value}),children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"author",children:"Author/Writer"}),n.jsx("option",{value:"editor",children:"Editor"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"super_admin",children:"Super Admin"})]})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"submit",className:"btn-primary",children:"Create User"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>d(!1),children:"Cancel"})]})]})}),n.jsx("div",{className:"users-grid",children:s.map(T=>n.jsxs("div",{className:"user-card",children:[n.jsx("div",{className:"user-avatar",children:n.jsx("i",{className:"fa-solid fa-user"})}),n.jsxs("div",{className:"user-info",children:[n.jsx("h3",{children:T.first_name&&T.last_name?`${T.first_name} ${T.last_name}`:T.username}),n.jsxs("p",{className:"user-username",children:["@",T.username]}),n.jsx("p",{className:"user-email",children:T.email}),n.jsx("span",{className:"user-role",style:{backgroundColor:C(T.role)},children:O(T.role)}),n.jsxs("p",{className:"user-status",children:[n.jsx("i",{className:`fa-solid fa-circle ${T.is_active?"active":"inactive"}`}),T.is_active?"Active":"Inactive"]}),n.jsxs("p",{className:"user-date",children:["Joined: ",new Date(T.created_at).toLocaleDateString()]}),T.last_login_at&&n.jsxs("p",{className:"user-last-login",children:["Last login: ",new Date(T.last_login_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"user-actions",children:[n.jsxs("button",{className:"btn-secondary",onClick:()=>m(T),children:[n.jsx("i",{className:"fa-solid fa-edit"})," Edit"]}),n.jsxs("button",{className:"btn-danger",onClick:()=>I(T.id,T.username),children:[n.jsx("i",{className:"fa-solid fa-trash"})," Delete"]})]})]},T.id))}),s.length===0&&n.jsxs("div",{className:"no-users",children:[n.jsx("i",{className:"fa-solid fa-users"}),n.jsx("h3",{children:"No users found"}),n.jsx("p",{children:'Create your first user by clicking the "Add User" button above.'})]}),h&&n.jsx("div",{className:"modal-overlay",onClick:()=>m(null),children:n.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Edit User: ",h.username]}),n.jsx("button",{className:"modal-close",onClick:()=>m(null),children:n.jsx("i",{className:"fa-solid fa-times"})})]}),n.jsxs("form",{onSubmit:T=>{T.preventDefault();const A=new FormData(T.target),M={firstName:A.get("firstName"),lastName:A.get("lastName"),email:A.get("email"),role:A.get("role"),isActive:A.get("isActive")==="on"};A.get("password")&&(M.password=A.get("password")),S(h.id,M)},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"First Name"}),n.jsx("input",{name:"firstName",type:"text",defaultValue:h.first_name||""})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Last Name"}),n.jsx("input",{name:"lastName",type:"text",defaultValue:h.last_name||""})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Email"}),n.jsx("input",{name:"email",type:"email",defaultValue:h.email,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Role"}),n.jsxs("select",{name:"role",defaultValue:h.role,children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"author",children:"Author/Writer"}),n.jsx("option",{value:"editor",children:"Editor"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{name:"isActive",type:"checkbox",defaultChecked:h.is_active}),"Active User"]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"New Password (leave blank to keep current)"}),n.jsx("input",{name:"password",type:"password",placeholder:"Enter new password",minLength:"8"})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"submit",className:"btn-primary",children:"Update User"}),n.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(null),children:"Cancel"})]})]})]})})]})}function Vy(){const[s,a]=j.useState({linkedin:"",twitter:"",instagram:"",threads:""}),[o,l]=j.useState(!0),[u,d]=j.useState(!1),[h,m]=j.useState("");j.useEffect(()=>{x()},[]);const x=async()=>{try{const w=await fetch(pe.SETTINGS.SOCIAL);if(w.ok){const _=await w.json();a(_)}}catch(w){console.error("Error fetching social links:",w)}finally{l(!1)}},g=(w,_)=>{a(S=>({...S,[w]:_}))},y=async()=>{d(!0),m("");try{if((await fetch(pe.SETTINGS.SOCIAL,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)m("Social media links updated successfully!"),setTimeout(()=>m(""),3e3);else throw new Error("Failed to update social media links")}catch(w){console.error("Error updating social links:",w),m("Error updating social media links. Please try again.")}finally{d(!1)}},v=w=>{if(!w)return!0;try{return new URL(w),!0}catch{return!1}};return o?n.jsx("div",{className:"social-management",children:n.jsx("div",{className:"loading",children:"Loading social media settings..."})}):n.jsxs("div",{className:"social-management",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Social Media Links"}),n.jsx("p",{children:"Configure the social media links that appear in your blog's header and sidebar"})]}),h&&n.jsx("div",{className:`message ${h.includes("Error")?"error":"success"}`,children:h}),n.jsxs("div",{className:"social-links-form",children:[n.jsxs("div",{className:"social-link-item",children:[n.jsx("div",{className:"social-icon",children:n.jsx("i",{className:"fa-brands fa-linkedin"})}),n.jsxs("div",{className:"social-input",children:[n.jsx("label",{children:"LinkedIn Profile URL"}),n.jsx("input",{type:"url",placeholder:"https://linkedin.com/in/your-profile",value:s.linkedin,onChange:w=>g("linkedin",w.target.value),className:v(s.linkedin)?"":"invalid"}),s.linkedin&&!v(s.linkedin)&&n.jsx("span",{className:"error-text",children:"Please enter a valid URL"})]})]}),n.jsxs("div",{className:"social-link-item",children:[n.jsx("div",{className:"social-icon",children:n.jsx("i",{className:"fa-brands fa-square-x-twitter"})}),n.jsxs("div",{className:"social-input",children:[n.jsx("label",{children:"X (Twitter) Profile URL"}),n.jsx("input",{type:"url",placeholder:"https://x.com/your-username",value:s.twitter,onChange:w=>g("twitter",w.target.value),className:v(s.twitter)?"":"invalid"}),s.twitter&&!v(s.twitter)&&n.jsx("span",{className:"error-text",children:"Please enter a valid URL"})]})]}),n.jsxs("div",{className:"social-link-item",children:[n.jsx("div",{className:"social-icon",children:n.jsx("i",{className:"fa-brands fa-square-instagram"})}),n.jsxs("div",{className:"social-input",children:[n.jsx("label",{children:"Instagram Profile URL"}),n.jsx("input",{type:"url",placeholder:"https://instagram.com/your-username",value:s.instagram,onChange:w=>g("instagram",w.target.value),className:v(s.instagram)?"":"invalid"}),s.instagram&&!v(s.instagram)&&n.jsx("span",{className:"error-text",children:"Please enter a valid URL"})]})]}),n.jsxs("div",{className:"social-link-item",children:[n.jsx("div",{className:"social-icon",children:n.jsx("i",{className:"fa-brands fa-square-threads"})}),n.jsxs("div",{className:"social-input",children:[n.jsx("label",{children:"Threads Profile URL"}),n.jsx("input",{type:"url",placeholder:"https://threads.net/@your-username",value:s.threads,onChange:w=>g("threads",w.target.value),className:v(s.threads)?"":"invalid"}),s.threads&&!v(s.threads)&&n.jsx("span",{className:"error-text",children:"Please enter a valid URL"})]})]})]}),n.jsx("div",{className:"form-actions",children:n.jsx("button",{className:"btn-primary",onClick:y,disabled:u||Object.values(s).some(w=>w&&!v(w)),children:u?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"})," Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-save"})," Save Changes"]})})}),n.jsxs("div",{className:"social-preview",children:[n.jsx("h3",{children:"Preview"}),n.jsx("p",{children:"This is how your social media icons will appear in the blog:"}),n.jsxs("div",{className:"preview-icons",children:[s.linkedin&&n.jsx("a",{href:s.linkedin,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-linkedin"})}),s.twitter&&n.jsx("a",{href:s.twitter,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-square-x-twitter"})}),s.instagram&&n.jsx("a",{href:s.instagram,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-square-instagram"})}),s.threads&&n.jsx("a",{href:s.threads,target:"_blank",rel:"noopener noreferrer",children:n.jsx("i",{className:"fa-brands fa-square-threads"})}),!Object.values(s).some(w=>w)&&n.jsx("p",{className:"no-links",children:"No social media links configured yet."})]})]}),n.jsxs("div",{className:"social-info-box",children:[n.jsx("h3",{children:" Social Media Guidelines"}),n.jsx("p",{children:"When setting up your social media links:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Use full URLs"})," - Include https:// in your links"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test your links"})," - Make sure they lead to the correct profiles"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Keep them updated"})," - Update links if you change usernames"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Leave blank if not used"})," - Icons won't appear for empty links"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Examples:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"LinkedIn: https://linkedin.com/in/your-profile"}),n.jsx("li",{children:"X (Twitter): https://x.com/your-username"}),n.jsx("li",{children:"Instagram: https://instagram.com/your-username"}),n.jsx("li",{children:"Threads: https://threads.net/@your-username"})]})]})]}),n.jsx("p",{children:n.jsx("em",{children:"Note: Changes will be reflected immediately on your blog after saving."})})]})]})}function Gy(){const[s,a]=j.useState({blogTitle:"Guilt & Pleasure Bedtime",blogDescription:"A personal blog about life experiences",requireApproval:!0,enableModeration:!0,enableAutoSave:!0,autoSaveInterval:30,smtpHost:"",smtpPort:"587",smtpUser:"",smtpPass:"",smtpFrom:"",smtpSecure:!1,emailNotifications:!0,contactEmail:""}),[o,l]=j.useState(!1),[u,d]=j.useState("");j.useEffect(()=>{h()},[]);const h=async()=>{try{l(!0);const g=localStorage.getItem("adminToken");if(!g)throw new Error("No admin token found. Please log in again.");const y=await fetch(pe.SETTINGS.GET_ADMIN,{headers:{Authorization:`Bearer ${g}`},credentials:"include"});if(y.ok){const v=await y.json();console.log("Loaded settings:",v);const w={blogTitle:v.blog_title||v.blogTitle||"Guilt & Pleasure Bedtime",blogDescription:v.blog_description||v.blogDescription||"A personal blog about life experiences",requireApproval:v.require_approval?v.require_approval==="true":!0,enableModeration:v.enable_moderation?v.enable_moderation==="true":!0,enableAutoSave:v.enable_auto_save?v.enable_auto_save==="true":!0,autoSaveInterval:parseInt(v.auto_save_interval)||v.autoSaveInterval||30,smtpHost:v.smtp_host||"",smtpPort:v.smtp_port||"587",smtpUser:v.smtp_user||"",smtpPass:v.smtp_pass||"",smtpFrom:v.smtp_from||"",smtpSecure:v.smtp_secure?v.smtp_secure==="true":!1,emailNotifications:v.email_notifications?v.email_notifications==="true":!0,contactEmail:v.contact_email||""};a(w)}}catch(g){console.error("Error loading settings:",g)}finally{l(!1)}},m=g=>{const{name:y,value:v,type:w,checked:_}=g.target;a(S=>({...S,[y]:w==="checkbox"?_:v}))},x=async()=>{try{l(!0),d("");const g={blog_title:s.blogTitle||"",blog_description:s.blogDescription||"",require_approval:(s.requireApproval||!1).toString(),enable_moderation:(s.enableModeration||!1).toString(),enable_auto_save:(s.enableAutoSave||!1).toString(),auto_save_interval:(s.autoSaveInterval||30).toString(),smtp_host:s.smtpHost||"",smtp_port:s.smtpPort||"587",smtp_user:s.smtpUser||"",smtp_pass:s.smtpPass||"",smtp_from:s.smtpFrom||"",smtp_secure:(s.smtpSecure||!1).toString(),email_notifications:(s.emailNotifications||!0).toString(),contact_email:s.contactEmail||""};console.log("Saving settings:",g);const y=localStorage.getItem("adminToken");if(!y)throw new Error("No admin token found. Please log in again.");const v=await fetch(pe.SETTINGS.UPDATE,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},credentials:"include",body:JSON.stringify(g)});if(v.ok){const w=await v.json();console.log("Settings saved successfully:",w),d("Settings saved successfully!"),setTimeout(()=>d(""),3e3)}else{const w=await v.text();throw console.error("Failed to save settings:",w),new Error("Failed to save settings")}}catch(g){console.error("Error saving settings:",g),d("Error saving settings. Please try again.")}finally{l(!1)}};return n.jsxs("div",{className:"site-settings",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Site Settings"}),n.jsx("button",{className:"btn-primary",onClick:x,disabled:o,children:o?"Saving...":"Save Settings"})]}),u&&n.jsx("div",{className:`settings-message ${u.includes("Error")?"error":"success"}`,children:u}),n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"General Settings"}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"Blog Title"}),n.jsx("input",{type:"text",name:"blogTitle",value:s.blogTitle,onChange:m})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"Blog Description"}),n.jsx("textarea",{name:"blogDescription",value:s.blogDescription,onChange:m})]})]}),n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Editor Configuration"}),n.jsx("div",{className:"setting-item",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"enableAutoSave",checked:s.enableAutoSave,onChange:m}),"Enable auto-save for posts"]})}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"Auto-save interval (seconds)"}),n.jsx("input",{type:"number",name:"autoSaveInterval",value:s.autoSaveInterval,onChange:m,min:"10",max:"300"})]})]}),n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Security Settings"}),n.jsx("div",{className:"setting-item",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"requireApproval",checked:s.requireApproval,onChange:m}),"Require admin approval for new posts"]})}),n.jsx("div",{className:"setting-item",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"enableModeration",checked:s.enableModeration,onChange:m}),"Enable comment moderation"]})})]}),n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Email & SMTP Configuration"}),n.jsx("div",{className:"setting-item",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"emailNotifications",checked:s.emailNotifications,onChange:m}),"Enable email notifications"]})}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"Contact Email Address"}),n.jsx("input",{type:"email",name:"contactEmail",value:s.contactEmail,onChange:m,placeholder:"blog@ingasti.com"}),n.jsx("small",{children:"Email address where contact form messages will be sent"})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"SMTP Host"}),n.jsx("input",{type:"text",name:"smtpHost",value:s.smtpHost,onChange:m,placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"SMTP Port"}),n.jsx("input",{type:"number",name:"smtpPort",value:s.smtpPort,onChange:m,placeholder:"587"})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"SMTP Username"}),n.jsx("input",{type:"text",name:"smtpUser",value:s.smtpUser,onChange:m,placeholder:"smtp@ingasti.com"})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"SMTP Password"}),n.jsx("input",{type:"password",name:"smtpPass",value:s.smtpPass,onChange:m,placeholder:"App password or SMTP password"})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:"From Email Address"}),n.jsx("input",{type:"email",name:"smtpFrom",value:s.smtpFrom,onChange:m,placeholder:"blog@ingasti.com"}),n.jsx("small",{children:'Email address that will appear in the "From" field'})]}),n.jsx("div",{className:"setting-item",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"smtpSecure",checked:s.smtpSecure,onChange:m}),"Use SSL/TLS (enable for port 465, disable for port 587)"]})})]})]})}function Ky(){const[s,a]=j.useState({totalPosts:0,totalViews:0,thisMonthViews:0,totalComments:0,totalLikes:0,loading:!0,error:null});j.useEffect(()=>{o()},[]);const o=async()=>{try{const l=localStorage.getItem("adminToken"),u=await be.get(`${re}/api/analytics/dashboard`,{headers:{Authorization:`Bearer ${l}`}});u.data.success?a({...u.data.stats,loading:!1,error:null}):a(d=>({...d,loading:!1,error:"Failed to load analytics"}))}catch(l){console.error("Error fetching analytics:",l),a(u=>({...u,loading:!1,error:"Failed to load analytics"}))}};return s.loading?n.jsxs("div",{className:"analytics",children:[n.jsx("h2",{children:"Analytics Dashboard"}),n.jsx("div",{className:"loading",children:"Loading analytics..."})]}):s.error?n.jsxs("div",{className:"analytics",children:[n.jsx("h2",{children:"Analytics Dashboard"}),n.jsxs("div",{className:"error",children:[n.jsx("p",{children:s.error}),n.jsx("button",{onClick:o,children:"Retry"})]})]}):n.jsxs("div",{className:"analytics",children:[n.jsx("h2",{children:"Analytics Dashboard"}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("h3",{children:"Total Posts"}),n.jsx("p",{className:"stat-number",children:s.totalPosts})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("h3",{children:"Total Views"}),n.jsx("p",{className:"stat-number",children:s.totalViews.toLocaleString()})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("h3",{children:"This Month Views"}),n.jsx("p",{className:"stat-number",children:s.thisMonthViews.toLocaleString()})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("h3",{children:"Total Comments"}),n.jsx("p",{className:"stat-number",children:s.totalComments})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("h3",{children:"Total Likes"}),n.jsx("p",{className:"stat-number",children:s.totalLikes})]})]})]})}function Qy(){var Dn,qr,un,dn,Gs,Vr,Gr,Ks,rr,sr,ar,ir,or;const[s,a]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState("/"),[h,m]=j.useState(!0),[x,g]=j.useState(!1),[y,v]=j.useState([]),[w,_]=j.useState(""),[S,I]=j.useState("all"),[C,O]=j.useState(!1),[T,A]=j.useState(!1),[M,B]=j.useState(null),[G,W]=j.useState(""),[J,se]=j.useState({page:1,limit:20,total:0,totalPages:0}),[oe,xe]=j.useState("library"),[je,Ae]=j.useState(null),[Pe,Ge]=j.useState([]),[Te,ke]=j.useState(!1),[b,H]=j.useState("internal"),[Q,R]=j.useState(""),[E,Z]=j.useState({oci:{bucketName:"",namespace:"",region:"us-ashburn-1",publicUrl:""},aws:{bucketName:"",region:"eu-west-2",roleArn:"",externalId:"",accessKey:"",secretKey:"",sessionToken:"",authMethod:"identity-center",accountId:"",oidcIssuerUrl:"",oidcAudience:"sts.amazonaws.com",oidcSubject:""}}),ne=()=>{const N=E.aws.bucketName&&E.aws.region&&E.aws.roleArn;if(E.aws.authMethod==="oidc"){const F=E.aws.accountId&&E.aws.oidcIssuerUrl&&E.aws.oidcSubject;return N&&F}else{const F=E.aws.externalId,le=E.aws.accessKey&&E.aws.secretKey&&E.aws.sessionToken;return N&&F&&le}};j.useEffect(()=>{X()},[]),j.useEffect(()=>{b==="internal"?(ee(),he()):b==="aws"?($r(),ee(),he(),zr()):(a([]),l([]))},[u,J.page,S,w,b]),j.useEffect(()=>{u==="/"&&oe==="library"&&m(!1)},[u,oe]),j.useEffect(()=>{(b==="internal"||b==="aws")&&ge()},[b]);const X=async()=>{try{const N=await fetch(pe.SETTINGS.MEDIA_STORAGE,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();F.config&&(console.log("Loading storage config:",F.config.storageType),H(F.config.storageType||"internal"),F.config.awsConfig&&Z(le=>({...le,aws:{...le.aws,...F.config.awsConfig}})),F.config.ociConfig&&Z(le=>({...le,oci:{...le.oci,...F.config.ociConfig}})))}}catch(N){console.error("Error loading media storage configuration:",N)}},ee=async()=>{try{m(!0);const N=new URLSearchParams({folder:u,page:J.page.toString(),limit:J.limit.toString(),...S!=="all"&&{type:S},...w&&{search:w}}),F=await fetch(`${pe.MEDIA.FILES}?${N}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(F.ok){const le=await F.json(),ve=(le.media||[]).filter(Ne=>Ne.mime_type==="application/pdf");ve.length>0&&console.log(" PDF files received:",ve.map(Ne=>({name:Ne.original_name,thumbnail_url:Ne.thumbnail_url,thumbnail_path:Ne.thumbnail_path,hasThumbUrl:!!Ne.thumbnail_url}))),a(le.media||[]),se(le.pagination||J)}}catch(N){console.error("Error fetching media files:",N)}finally{m(!1)}},he=async()=>{try{const N=await fetch(pe.MEDIA.FOLDERS,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();l(F.folders||[])}}catch(N){console.error("Error fetching folders:",N)}},ge=async()=>{try{m(!0);const N=await fetch(pe.MEDIA.TRASH,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();Ge(F.files||[]),ke((F.files||[]).length>0)}}catch(N){console.error("Error fetching trash files:",N)}finally{m(!1)}},Se=async N=>{if(confirm("Are you sure you want to restore this file?"))try{const F=await fetch(pe.MEDIA.RESTORE(N),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(F.ok){const le=await F.json();console.log(" Restore successful:",le),await ge(),await ee(),alert("File restored successfully!")}else{const le=await F.json().catch(()=>({message:"Unknown error"}));console.error("Restore failed:",F.status,le),alert(`Failed to restore file: ${le.message||`HTTP ${F.status}`}`)}}catch(F){console.error("Error restoring file:",F),alert("Failed to restore file. Please try again.")}},Ye=async()=>{if(confirm(" This will permanently delete ALL files in trash. This action CANNOT be undone. Are you sure?"))try{const N=await fetch(pe.MEDIA.EMPTY_TRASH,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();console.log(" Empty trash successful:",F),await ge(),alert("Trash emptied successfully!")}else{const F=await N.json().catch(()=>({message:"Unknown error"}));console.error("Empty trash failed:",N.status,F),alert(`Failed to empty trash: ${F.message||`HTTP ${N.status}`}`)}}catch(N){console.error("Error emptying trash:",N),alert("Failed to empty trash. Please try again.")}},Ue=async()=>{try{const N=await fetch(pe.SETTINGS.AWS_CONFIG,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({bucketName:E.aws.bucketName,region:E.aws.region,authMethod:E.aws.authMethod,roleArn:E.aws.roleArn,externalId:E.aws.externalId,accessKey:E.aws.accessKey,secretKey:E.aws.secretKey,sessionToken:E.aws.sessionToken,tempAccessKey:E.aws.tempAccessKey,tempSecretKey:E.aws.tempSecretKey,tempSessionToken:E.aws.tempSessionToken,accountId:E.aws.accountId,oidcIssuerUrl:E.aws.oidcIssuerUrl,oidcAudience:E.aws.oidcAudience,oidcSubject:E.aws.oidcSubject})});if(N.ok){const F=E.aws.accessKey&&E.aws.secretKey,le=E.aws.authMethod==="oidc"?"OIDC Web Identity":F?"Role-based + Access Keys (hybrid)":"Role-based (recommended)",ve=E.aws.authMethod==="oidc"?` AWS S3 Configuration Saved Successfully!

 Security Status:
 Authentication: ${le}
 Bucket configured: ${E.aws.bucketName}
 Region: ${E.aws.region}
 Role ARN: ${E.aws.roleArn}
 OIDC Subject: ${E.aws.oidcSubject}
 Ready for secure S3 operations

 Next Steps:
 Verify AWS IAM role trust policy matches OIDC configuration
 Test connection functionality`:` AWS S3 Configuration Saved Successfully!

 Security Status:
 Authentication: ${le}
 Bucket configured: ${E.aws.bucketName}
 Region: ${E.aws.region}
 Role ARN: ${E.aws.roleArn}
 External ID: Configured
 Ready for secure S3 operations

 Next Steps:
 Verify AWS IAM role trust policy matches External ID
 Test upload functionality`;alert(ve)}else{const F=await N.text();alert(` Failed to save AWS configuration: ${F}`)}}catch(N){console.error("Error saving AWS configuration:",N),alert(" Error saving AWS configuration. Please check your connection and try again.")}},ze=async()=>{if(!ne()){alert(" Please configure all required AWS settings before testing connection.");return}try{const N=document.querySelector(".btn-test-connection"),F=N.innerHTML;N.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Testing...',N.disabled=!0;const le=await fetch(pe.MEDIA.TEST_AWS_CONNECTION,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.innerHTML=F,N.disabled=!ne(),le.ok){const ve=await le.json();alert(` AWS S3 Connection Successful!

 Connection Details:
 Bucket: ${E.aws.bucketName}
 Region: ${E.aws.region}
 Role: ${E.aws.roleArn}
 Status: ${ve.status||"Connected"}
 Timestamp: ${new Date().toLocaleString()}

 Ready to save configuration and start uploading media!`)}else{const ve=await le.json();alert(` AWS S3 Connection Failed

 Error Details:
${ve.error||"Unknown error"}

 Common Issues:
 Check IAM role trust policy includes External ID
 Verify credentials are not expired
 Ensure bucket exists and is accessible
 Confirm region matches bucket location`)}}catch(N){console.error("Error testing AWS connection:",N);const F=document.querySelector(".btn-test-connection");F&&(F.innerHTML='<i class="fa-solid fa-plug"></i> Test Connection',F.disabled=!ne()),alert(` Connection Test Failed

 Error: ${N.message}

 Please check:
 Network connectivity
 AWS credentials validity
 Server configuration`)}},Yt=async()=>{if(!E.aws.bucketName||!E.aws.region||!E.aws.roleArn||!E.aws.oidcIssuerUrl||!E.aws.accountId){alert(" Please configure all required OIDC settings before testing connection.");return}try{const N=document.querySelector(".btn-test-oidc-connection"),F=N.innerHTML;N.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Testing OIDC...',N.disabled=!0;const le=await fetch(pe.MEDIA.TEST_OIDC_CONNECTION,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({oidcIssuerUrl:E.aws.oidcIssuerUrl,oidcAudience:E.aws.oidcAudience||"sts.amazonaws.com",oidcSubject:E.aws.oidcSubject,accountId:E.aws.accountId,bucketName:E.aws.bucketName,region:E.aws.region,roleArn:E.aws.roleArn})});if(N.innerHTML=F,N.disabled=!1,le.ok){const ve=await le.json(),Ne=ve.configuration,Be=ve.kubernetes;let dt=` OIDC Configuration Valid!

 Configuration Details:
 OIDC Issuer: ${Ne.oidcIssuerUrl}
 AWS Account: ${Ne.accountId}
 AWS Role: ${Ne.roleArn}
 S3 Bucket: ${Ne.bucketName}
 Region: ${Ne.region}
 Subject: ${Ne.oidcSubject}

 Environment: ${Be.environment}`;Be.tokenAvailable?(dt+=`

 Kubernetes Token:  Available`,Be.tokenDetails&&(dt+=`
 Issuer: ${Be.tokenDetails.issuer}
 Subject: ${Be.tokenDetails.subject}`,Be.tokenDetails.expiresAt&&(dt+=`
 Expires: ${new Date(Be.tokenDetails.expiresAt).toLocaleString()}`)),dt+=`

 Status: ${ve.nextSteps}`):dt+=`

  Kubernetes Token: Not available (running outside Kubernetes)

 Status: ${ve.nextSteps}`,alert(dt)}else{const ve=await le.json();alert(` OIDC Configuration Invalid

 Error Details:
${ve.message}

 Common Issues:
 Check OIDC Issuer URL is accessible
 Verify AWS Account ID is correct
 Ensure IAM role ARN is correct
 Confirm AWS OIDC Identity Provider is configured
 Check role trust policy allows web identity`)}}catch(N){console.error("Error testing OIDC connection:",N);const F=document.querySelector(".btn-test-oidc-connection");F&&(F.innerHTML='<i class="fa-solid fa-globe"></i> Test OIDC Configuration',F.disabled=!1),alert(` OIDC Test Failed

 Error: ${N.message}

 Please check:
 Network connectivity
 OIDC configuration
 Server configuration`)}},$r=async()=>{try{const N=await fetch(pe.SETTINGS.GET_ADMIN,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();F.awsConfig&&Z(le=>({...le,aws:{...le.aws,...F.awsConfig}}))}}catch(N){console.error("Error loading AWS configuration:",N)}},Bs=async()=>{if(b!=="aws"){alert("S3 sync is only available for AWS storage");return}try{m(!0);const N=await fetch(pe.MEDIA.SYNC_S3,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(N.ok){const F=await N.json();alert(`Sync completed! ${F.synced} files added to database.`),ee()}else{const F=await N.json();alert(`Sync failed: ${F.message}`)}}catch(N){console.error("Error syncing S3:",N),alert("Error syncing S3 bucket with database")}finally{m(!1)}},Ws=async()=>{if(b!=="aws"){alert("S3 sync is only available for AWS storage");return}try{m(!0);const N=await fetch(pe.MEDIA.SYNC_S3_OIDC,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(N.ok){const F=await N.json();alert(`OIDC Sync completed! ${F.synced} files added to database.`),ee()}else{const F=await N.json();alert(`OIDC Sync failed: ${F.message}`)}}catch(N){console.error("Error syncing S3 with OIDC:",N),alert("Error syncing S3 bucket with database using OIDC")}finally{m(!1)}},Mr=async()=>{try{m(!0);const N=await fetch(pe.MEDIA.REFRESH_CREDENTIALS,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}}),F=await N.json();if(N.ok&&F.success)alert(" AWS credentials refreshed successfully! You can now test the connection."),await zr();else if(F.requiresNewCredentials){const le=F.instructions.join(`
`);alert(` ${F.message}

Required Actions:
${le}

After obtaining fresh credentials, paste them into the form above and click "Save Configuration".`)}else alert(` Failed to refresh credentials: ${F.message}`)}catch(N){console.error("Error refreshing credentials:",N),alert(" Error refreshing AWS credentials")}finally{m(!1)}},zr=async()=>{if(b==="aws")try{const N=await fetch(pe.MEDIA.CREDENTIAL_STATUS,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(N.ok){const F=await N.json();Ae(F.status)}}catch(N){console.error("Error fetching credential status:",N)}},Br=async N=>{if(!N||N.length===0){console.log("No files selected");return}console.log("Starting upload for",N.length,"files to storage type:",b),g(!0);const F=Array.from(N).map(async le=>{console.log("Uploading file:",le.name,"size:",le.size,"type:",le.type);const ve=new FormData;ve.append("file",le),u&&u!=="/"&&ve.append("folder",u),ve.append("storageType",b);try{console.log("Sending request to:",pe.MEDIA.UPLOAD);const Ne=await fetch(pe.MEDIA.UPLOAD,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:ve});if(console.log("Upload response status:",Ne.status),!Ne.ok){let dt;try{const lr=await Ne.json();dt=lr.message||lr.error||`HTTP ${Ne.status}`}catch{dt=await Ne.text()||`HTTP ${Ne.status} ${Ne.statusText}`}throw console.error("Upload failed:",dt),new Error(`Upload failed for ${le.name}: ${dt}`)}const Be=await Ne.json();if(console.log("Upload successful:",Be),!Be.success)throw new Error(Be.message||"Upload failed");return Be}catch(Ne){console.error(`Error uploading ${le.name}:`,Ne);const Be=Ne.message||"Unknown error";return alert(` Failed to upload ${le.name}:
${Be}

Please check:
 File size and format
 Network connection
 AWS S3 configuration`),null}});try{const ve=(await Promise.all(F)).filter(Ne=>Ne!==null);console.log(`Upload complete: ${ve.length}/${N.length} files uploaded`),ve.length>0&&(await ee(),alert(`Successfully uploaded ${ve.length} file(s)`)),O(!1)}catch(le){console.error("Error during upload:",le),alert("Upload process failed: "+le.message)}finally{g(!1)}},On=async()=>{if(G.trim())try{(await fetch(pe.MEDIA.FOLDERS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({name:G,parentPath:u})})).ok&&(await he(),W(""),A(!1))}catch(N){console.error("Error creating folder:",N)}},Xt=async N=>{if(confirm("Are you sure you want to delete this file?"))try{console.log(` Attempting to delete file with ID: ${N}`);const F=await fetch(pe.MEDIA.DELETE(N),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(console.log(` Delete response status: ${F.status}`),F.ok){const le=await F.json();console.log(" Delete successful:",le),u==="/trash"?await ge():(a([]),await ee(),await ge()),alert(u==="/trash"?"File permanently deleted!":"File moved to trash!")}else{const le=await F.json().catch(()=>({message:"Unknown error"}));console.error("Delete failed:",F.status,le),alert(`Failed to delete file: ${le.message||`HTTP ${F.status}`}`)}}catch(F){console.error("Error deleting file:",F),alert(`Error deleting file: ${F.message}`)}},Wr=async(N,F)=>{try{const le=await fetch(`${pe.MEDIA.FILES}/${N}/move`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({targetFolder:F})});if(le.ok)B(null),await ee(),await he(),alert("File moved successfully!");else{const ve=await le.text();alert(`Error moving file: ${ve}`)}}catch(le){console.error("Error moving file:",le),alert("Error moving file. Please try again.")}},Hs=N=>{if(N===0)return"0 Bytes";const F=1024,le=["Bytes","KB","MB","GB"],ve=Math.floor(Math.log(N)/Math.log(F));return parseFloat((N/Math.pow(F,ve)).toFixed(2))+" "+le[ve]},qs=(N,F)=>F&&F.startsWith("image/")?"fa-image":F&&F.startsWith("video/")?"fa-video":N==="pdf"?"fa-file-pdf":"fa-file",nr=N=>N&&N.startsWith("image/"),Vs=async()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-=,.@:/-",le=new Uint8Array(32);crypto.getRandomValues(le);const ve=Array.from(le,Ne=>N[Ne%N.length]).join("");try{if((await fetch(pe.SETTINGS.AWS_EXTERNAL_ID,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({externalId:ve,generatedAt:new Date().toISOString(),generatedBy:"admin"})})).ok){Z(Be=>({...Be,aws:{...Be.aws,externalId:ve}}));try{await navigator.clipboard.writeText(ve),alert(` Secure External ID generated and copied to clipboard!

 External ID: ${ve}

 IMPORTANT SECURITY NOTES:
 External ID has been saved securely in the database
 Value copied to clipboard for easy AWS configuration
 Keep this External ID secret and secure
 Use this value in your AWS IAM role trust policy
 Never share in public repositories or documentation
 Rotate this ID quarterly for best security`)}catch{alert(` Secure External ID generated and saved!

 External ID: ${ve}

 Please manually copy this value (clipboard access not available)

 IMPORTANT SECURITY NOTES:
 External ID has been saved securely in the database
 Keep this External ID secret and secure
 Use this value in your AWS IAM role trust policy
 Never share in public repositories or documentation
 Rotate this ID quarterly for best security`)}console.log("Generated and saved External ID for AWS S3 integration:",ve)}else throw new Error("Failed to save External ID to database")}catch(Ne){console.error("Error saving External ID:",Ne),alert(` Error saving External ID to database.

Generated ID: ${ve}

Please contact your system administrator.`)}},Hr=async()=>{const N=E.aws.externalId;if(!N){alert("No External ID available. Please generate one first.");return}try{await navigator.clipboard.writeText(N),alert(` External ID copied to clipboard!

 External ID: ${N}

 Remember: Use this value in your AWS IAM role trust policy`)}catch{alert(`Manual copy required:

 External ID: ${N}

Please manually copy this value (clipboard access not available)`)}};return n.jsxs("div",{className:"media-management",children:[n.jsxs("div",{className:"section-navigation",children:[n.jsxs("button",{className:`section-tab ${oe==="library"?"active":""}`,onClick:()=>xe("library"),children:[n.jsx("i",{className:"fa-solid fa-images"}),"Media Library"]}),n.jsxs("button",{className:`section-tab ${oe==="config"?"active":""}`,onClick:()=>xe("config"),children:[n.jsx("i",{className:"fa-solid fa-gear"}),"Storage Configuration"]})]}),oe==="library"&&n.jsxs("div",{className:"library-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Media Library"}),n.jsxs("div",{className:"media-actions",children:[n.jsxs("button",{className:"btn-secondary",onClick:()=>A(!0),disabled:b==="external",title:b==="external"?"Folder creation disabled for external storage":"Create a new folder",children:[n.jsx("i",{className:"fa-solid fa-folder-plus"})," New Folder"]}),n.jsxs("button",{className:"btn-primary",onClick:()=>O(!0),disabled:b==="external"||x,title:b==="external"?"Upload disabled for external storage":x?"Upload in progress...":"Upload media files",children:[n.jsx("i",{className:"fa-solid fa-upload"}),x?"Uploading...":"Upload Media"]}),(b==="oci"||b==="aws")&&n.jsxs("button",{className:"btn-warning",onClick:b==="aws"?Ue:()=>alert("OCI configuration will be implemented in future version."),disabled:b==="aws"&&!ne(),title:b==="aws"?`Save AWS S3 configuration to database. Auth: ${E.aws.roleArn?"Role":E.aws.accessKey?"Keys":"None"}`:"Configure OCI Object Storage",style:{opacity:b==="aws"&&!ne()?.5:1},children:[n.jsx("i",{className:"fa-solid fa-cloud"})," ",b==="aws"?"Save AWS Config":"Configure Cloud"]})]})]}),n.jsxs("div",{className:"current-storage-info",children:[n.jsxs("span",{children:["Current Storage: ",n.jsx("strong",{children:b==="aws"?"AWS S3":b==="oci"?"Oracle Cloud":b==="internal"?"Internal Server":"External Server"})]}),n.jsxs("button",{className:"btn-link",onClick:()=>xe("config"),children:[n.jsx("i",{className:"fa-solid fa-gear"})," Change Storage"]})]}),n.jsxs("div",{className:"media-controls",children:[n.jsx("div",{className:"media-search",children:n.jsx("input",{type:"text",placeholder:"Search media files...",value:w,onChange:N=>_(N.target.value),className:"search-input"})}),n.jsx("div",{className:"media-filters",children:n.jsxs("select",{value:S,onChange:N=>I(N.target.value),className:"filter-select",children:[n.jsx("option",{value:"all",children:"All Files"}),n.jsx("option",{value:"jpg",children:"Images (JPG)"}),n.jsx("option",{value:"png",children:"Images (PNG)"}),n.jsx("option",{value:"gif",children:"Images (GIF)"}),n.jsx("option",{value:"pdf",children:"Documents (PDF)"}),n.jsx("option",{value:"mp4",children:"Videos (MP4)"})]})}),n.jsx("div",{className:"folder-breadcrumb",children:n.jsxs("span",{children:["Location: ",u]})})]}),(o.length>0||u!=="/")&&n.jsxs("div",{className:"folder-navigation",children:[n.jsx("h3",{children:"Folders"}),n.jsxs("div",{className:"folders-grid",children:[u!=="/"&&n.jsxs("div",{className:"folder-item back-button",onClick:async()=>{d("/"),se(N=>({...N,page:1})),_(""),I("all"),m(!0);try{await Promise.all([he(),ee()])}catch(N){console.error("Error refreshing media library:",N)}finally{m(!1)}},children:[n.jsx("i",{className:"fa-solid fa-arrow-up"}),n.jsx("span",{children:".. (Back to root)"})]}),o.length>0&&o.filter(N=>N.path==="/"||N.name==="Root"||N.path==="/trash"||N.name==="Trash"?!1:u==="/"?!N.path.includes("/",1):N.path.startsWith(u)&&N.path!==u&&N.path.split("/").length===u.split("/").length+1).map(N=>n.jsxs("div",{className:"folder-item",onClick:()=>d(N.path),children:[n.jsx("i",{className:"fa-solid fa-folder"}),n.jsx("span",{children:N.name}),n.jsxs("small",{children:["(",N.file_count," files)"]})]},N.id)),u==="/"&&Te&&n.jsxs("div",{className:"folder-item trash-folder",onClick:()=>{d("/trash"),ge()},children:[n.jsx("i",{className:"fa-solid fa-trash"}),n.jsx("span",{children:"Trash"}),n.jsxs("small",{children:["(",Pe.length," deleted files)"]})]}),u!=="/"&&n.jsxs("div",{className:"folder-current-info",children:[n.jsx("i",{className:"fa-solid fa-info-circle"}),n.jsxs("small",{children:["Currently viewing: ",u]})]})]})]}),h?n.jsx("div",{className:"loading",children:"Loading media files..."}):n.jsxs("div",{className:"media-grid",children:[u==="/trash"&&n.jsx("div",{className:"trash-controls",children:n.jsxs("div",{className:"trash-header",children:[n.jsxs("h3",{children:[n.jsx("i",{className:"fa-solid fa-trash"})," Trash (",Pe.length," files)"]}),Pe.length>0&&n.jsxs("button",{className:"btn-danger",onClick:Ye,title:"Permanently delete all files in trash",children:[n.jsx("i",{className:"fa-solid fa-trash-can"})," Empty Trash"]})]})}),(u==="/trash"?Pe:s).length===0?n.jsxs("div",{className:"media-empty",children:[n.jsx("i",{className:u==="/trash"?"fa-solid fa-trash":"fa-solid fa-image"}),n.jsx("p",{children:u==="/trash"?"No files in trash":"No media files found"}),u!=="/trash"&&n.jsx("button",{className:"btn-primary",onClick:()=>O(!0),children:"Upload your first file"})]}):(u==="/trash"?Pe:s).map(N=>(N.mime_type==="application/pdf"&&console.log(` PDF ${N.original_name}:`,{hasThumbnailUrl:!!N.thumbnail_url,thumbnailUrl:N.thumbnail_url,willShowImage:!!(N.mime_type==="application/pdf"&&N.thumbnail_url)}),n.jsxs("div",{className:"media-item",children:[n.jsxs("div",{className:"media-thumbnail",children:[nr(N.mime_type)||N.mime_type==="application/pdf"&&N.thumbnail_url?n.jsx("img",{src:N.thumbnail_url||N.public_url||N.signed_url,alt:N.alt_text||N.original_name,className:N.mime_type==="application/pdf"?"pdf-thumbnail":"",onError:F=>{N.thumbnail_url&&F.target.src===N.thumbnail_url&&nr(N.mime_type)?F.target.src=N.public_url||N.signed_url:(F.target.style.display="none",F.target.nextSibling.style.display="flex")},loading:"lazy"}):null,n.jsx("div",{className:"file-icon",style:{display:nr(N.mime_type)||N.mime_type==="application/pdf"&&N.thumbnail_url?"none":"flex"},children:n.jsx("i",{className:`fa-solid ${qs(N.file_type,N.mime_type)}`})})]}),n.jsxs("div",{className:"media-info",children:[n.jsx("h4",{title:N.original_name,children:N.original_name}),n.jsx("p",{className:"file-size",children:Hs(N.file_size)}),n.jsx("p",{className:"file-type",children:(N.file_type||"file").toUpperCase()}),n.jsx("p",{className:"upload-date",children:new Date(N.created_at).toLocaleDateString()})]}),n.jsx("div",{className:"media-item-actions",children:u==="/trash"?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn-icon restore",onClick:()=>Se(N.id),title:"Restore file from trash",children:n.jsx("i",{className:"fa-solid fa-arrow-rotate-left"})}),n.jsx("button",{className:"btn-icon delete permanent",onClick:()=>Xt(N.id),title:"Permanently delete file",children:n.jsx("i",{className:"fa-solid fa-trash-can"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn-icon",onClick:()=>window.open(N.public_url||N.signed_url,"_blank"),title:"View file",children:n.jsx("i",{className:"fa-solid fa-eye"})}),n.jsx("button",{className:"btn-icon",onClick:()=>navigator.clipboard.writeText(N.public_url||N.signed_url),title:"Copy URL",children:n.jsx("i",{className:"fa-solid fa-copy"})}),n.jsx("button",{className:"btn-icon",onClick:()=>B(N),title:"Move to different folder",children:n.jsx("i",{className:"fa-solid fa-arrows-turn-right"})}),n.jsx("button",{className:"btn-icon delete",onClick:()=>Xt(N.id),title:"Delete file",children:n.jsx("i",{className:"fa-solid fa-trash"})})]})})]},N.id)))]}),J.totalPages>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{disabled:J.page===1,onClick:()=>se(N=>({...N,page:N.page-1})),children:"Previous"}),n.jsxs("span",{children:["Page ",J.page," of ",J.totalPages]}),n.jsx("button",{disabled:J.page===J.totalPages,onClick:()=>se(N=>({...N,page:N.page+1})),children:"Next"})]})]},`library-${u}-${s.length}`),oe==="config"&&n.jsxs("div",{className:"config-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Storage Configuration"}),n.jsx("p",{className:"section-description",children:"Configure where your media files are stored and managed."})]}),n.jsxs("div",{className:"media-server-config",children:[n.jsx("label",{children:"Media Server:"}),n.jsxs("select",{value:b,onChange:N=>{H(N.target.value),Ae(null)},children:[n.jsx("option",{value:"internal",children:"Internal (Blog Server)"}),n.jsx("option",{value:"oci",children:"Oracle Cloud Infrastructure (OCI)"}),n.jsx("option",{value:"aws",children:((Dn=E.aws)==null?void 0:Dn.authMethod)==="oidc"?"Amazon Web Services (AWS) - OIDC Federation":"Amazon Web Services (AWS) - Identity Center"}),n.jsx("option",{value:"external",children:"External Media Server"})]}),b==="oci"&&n.jsxs("div",{className:"cloud-media-config",children:[n.jsx("h4",{children:"OCI Object Storage Configuration"}),n.jsxs("div",{className:"config-grid",children:[n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Bucket Name:"}),n.jsx("input",{type:"text",value:E.oci.bucketName,onChange:N=>Z(F=>({...F,oci:{...F.oci,bucketName:N.target.value}})),placeholder:"my-media-bucket"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Namespace:"}),n.jsx("input",{type:"text",value:E.oci.namespace,onChange:N=>Z(F=>({...F,oci:{...F.oci,namespace:N.target.value}})),placeholder:"your-tenancy-namespace"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Region:"}),n.jsxs("select",{value:E.oci.region,onChange:N=>Z(F=>({...F,oci:{...F.oci,region:N.target.value}})),children:[n.jsx("option",{value:"us-ashburn-1",children:"US East (Ashburn)"}),n.jsx("option",{value:"us-phoenix-1",children:"US West (Phoenix)"}),n.jsx("option",{value:"eu-frankfurt-1",children:"EU (Frankfurt)"}),n.jsx("option",{value:"ap-mumbai-1",children:"Asia Pacific (Mumbai)"})]})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Public URL Base:"}),n.jsx("input",{type:"url",value:E.oci.publicUrl,onChange:N=>Z(F=>({...F,oci:{...F.oci,publicUrl:N.target.value}})),placeholder:"https://objectstorage.us-ashburn-1.oraclecloud.com/n/namespace/b/bucket/o/"})]})]}),n.jsx("div",{className:"media-server-status",children:n.jsx("small",{style:{color:"orange"},children:" OCI integration requires proper API credentials configured on the server."})})]}),b==="aws"&&n.jsxs("div",{className:"cloud-media-config",children:[n.jsx("h4",{children:"AWS S3 Configuration"}),n.jsx("div",{className:"config-info",children:n.jsxs("div",{className:"security-notice",children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),n.jsx("strong",{children:"Enterprise Security Configuration"}),n.jsx("p",{children:"This integration uses IAM roles and AWS Organizations with Identity Center for secure, credential-free access. No IAM users or access keys are required."})]})}),n.jsxs("div",{className:"aws-config-main",children:[n.jsx("div",{className:"aws-config-fields",children:n.jsxs("div",{className:"config-grid",children:[n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Bucket Name:"}),n.jsx("input",{type:"text",value:E.aws.bucketName,onChange:N=>Z(F=>({...F,aws:{...F.aws,bucketName:N.target.value.trim()}})),placeholder:"my-media-bucket"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Region:"}),n.jsxs("select",{value:E.aws.region,onChange:N=>Z(F=>({...F,aws:{...F.aws,region:N.target.value}})),children:[n.jsx("option",{value:"us-east-1",children:"US East (N. Virginia)"}),n.jsx("option",{value:"us-west-2",children:"US West (Oregon)"}),n.jsx("option",{value:"eu-west-1",children:"Europe (Ireland)"}),n.jsx("option",{value:"eu-west-2",children:"Europe (London)"}),n.jsx("option",{value:"eu-central-1",children:"Europe (Frankfurt)"}),n.jsx("option",{value:"ap-southeast-1",children:"Asia Pacific (Singapore)"}),n.jsx("option",{value:"ap-northeast-1",children:"Asia Pacific (Tokyo)"})]})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"IAM Role ARN:"}),n.jsx("input",{type:"text",value:E.aws.roleArn||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,roleArn:N.target.value.trim()}})),placeholder:"arn:aws:iam::ACCOUNT:role/MediaUploadRole"}),n.jsx("small",{children:"Cross-account IAM role for secure access"})]}),((qr=E.aws)==null?void 0:qr.authMethod)!=="oidc"&&n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"External ID (Required):"}),n.jsxs("div",{className:"external-id-input-group",children:[n.jsx("input",{type:"text",value:E.aws.externalId||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,externalId:N.target.value.trim()}})),placeholder:"Click Generate to create secure External ID",className:"external-id-input",readOnly:!!E.aws.externalId}),n.jsxs("div",{className:"external-id-buttons",children:[n.jsxs("button",{type:"button",className:"btn-generate-external-id",onClick:Vs,title:"Generate secure External ID",disabled:!!E.aws.externalId,children:[n.jsx("i",{className:"fa-solid fa-refresh"})," Generate"]}),E.aws.externalId&&n.jsxs("button",{type:"button",className:"btn-copy-external-id",onClick:Hr,title:"Copy External ID to clipboard",children:[n.jsx("i",{className:"fa-solid fa-copy"})," Copy"]}),E.aws.externalId&&n.jsxs("button",{type:"button",className:"btn-regenerate-external-id",onClick:()=>{confirm(` WARNING: Regenerating the External ID will invalidate the current AWS IAM role configuration.

You will need to update your AWS IAM role trust policy with the new External ID.

Are you sure you want to continue?`)&&Z(N=>({...N,aws:{...N.aws,externalId:""}}))},title:"Regenerate External ID (requires AWS configuration update)",children:[n.jsx("i",{className:"fa-solid fa-rotate"})," Regenerate"]})]})]}),n.jsxs("div",{className:"external-id-info",children:[n.jsxs("small",{children:[n.jsx("strong",{children:"Critical Security:"})," External ID prevents confused deputy attacks"]}),n.jsxs("small",{children:[n.jsx("strong",{children:"Requirements:"})," 2-1,224 characters, alphanumeric + special chars (+-=,.@:/-)"]}),n.jsxs("small",{children:[n.jsx("strong",{children:"Best Practice:"})," Generate unique ID per AWS account, rotate quarterly"]}),E.aws.externalId&&n.jsxs("small",{children:[n.jsx("strong",{children:"Status:"}),"  External ID configured and saved securely in database"]})]})]})]})}),n.jsxs("div",{className:"auth-method-selection",children:[n.jsx("div",{className:"auth-section-header",children:n.jsxs("h5",{children:[n.jsx("i",{className:"fa-solid fa-shield-alt"})," Authentication Method"]})}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Select Authentication Method:"}),n.jsxs("select",{value:((un=E.aws)==null?void 0:un.authMethod)||"identity-center",onChange:N=>Z(F=>({...F,aws:{...F.aws,authMethod:N.target.value,...N.target.value==="identity-center"?{accountId:"",oidcIssuerUrl:"",oidcAudience:"sts.amazonaws.com",oidcSubject:""}:{},...N.target.value==="oidc"?{accessKey:"",secretKey:"",sessionToken:""}:{}}})),className:"form-control",children:[n.jsx("option",{value:"identity-center",children:"AWS Identity Center (SSO)"}),n.jsx("option",{value:"oidc",children:"OIDC Federation (Kubernetes)"})]}),n.jsx("small",{className:"form-text text-muted",children:((dn=E.aws)==null?void 0:dn.authMethod)==="identity-center"?"Use temporary credentials from AWS Identity Center portal":"Use OIDC federation with Kubernetes service account tokens"})]})]}),((Gs=E.aws)==null?void 0:Gs.authMethod)!=="oidc"&&n.jsxs("div",{className:"identity-center-credentials-section",children:[n.jsxs("div",{className:"auth-section-header",children:[n.jsxs("h5",{children:[n.jsx("i",{className:"fa-solid fa-key"})," Identity Center Credentials (Required)"]}),n.jsx("small",{style:{color:"#1976d2",fontWeight:"600"},children:" Obtain these credentials from AWS Identity Center portal - refreshed automatically by AWS SDK"})]}),n.jsxs("div",{className:"access-key-grid",children:[n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Access Key ID (Required):"}),n.jsx("input",{type:"text",value:E.aws.accessKey||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,accessKey:N.target.value.trim()}})),placeholder:"ASIA... (from Identity Center)",required:!0}),n.jsx("small",{style:{color:"#28a745"},children:"From Identity Center portal"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"Secret Access Key (Required):"}),n.jsx("input",{type:"password",value:E.aws.secretKey||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,secretKey:N.target.value.trim()}})),placeholder:"Secret key...",required:!0}),n.jsx("small",{style:{color:"#28a745"},children:"From Identity Center portal"})]}),n.jsxs("div",{className:"config-field session-token-field",children:[n.jsx("label",{children:"Session Token (Required):"}),n.jsx("input",{type:"password",value:E.aws.sessionToken||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,sessionToken:N.target.value.trim()}})),placeholder:"Session token...",required:!0}),n.jsx("small",{style:{color:"#28a745"},children:"From Identity Center portal (12-hour expiration, auto-refresh enabled)"})]})]}),n.jsxs("div",{className:"auth-method-note",children:[n.jsx("strong",{children:" Identity Center Authentication:"})," All credentials obtained from AWS Identity Center portal  App assumes role  Gets fresh S3 access  User refreshes credentials from portal when expired"]})]}),((Vr=E.aws)==null?void 0:Vr.authMethod)==="oidc"&&n.jsxs("div",{className:"oidc-credentials-section",children:[n.jsxs("div",{className:"auth-section-header",children:[n.jsxs("h5",{children:[n.jsx("i",{className:"fa-solid fa-link"})," OIDC Federation Configuration"]}),n.jsx("small",{style:{color:"#1976d2",fontWeight:"600"},children:" Configure OIDC federation for Kubernetes service account authentication"})]}),n.jsxs("div",{className:"access-key-grid",children:[n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"AWS Account ID (Required):"}),n.jsx("input",{type:"text",value:((Gr=E.aws)==null?void 0:Gr.accountId)||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,accountId:N.target.value.trim()}})),placeholder:"123456789012",required:!0}),n.jsx("small",{style:{color:"#28a745"},children:"Your AWS account ID (12 digits)"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"OIDC Issuer URL (Required):"}),n.jsx("input",{type:"url",value:((Ks=E.aws)==null?void 0:Ks.oidcIssuerUrl)||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,oidcIssuerUrl:N.target.value.trim()}})),placeholder:"https://oidc.ingasti.com",required:!0}),n.jsx("small",{style:{color:"#28a745"},children:"Kubernetes OIDC issuer URL"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"OIDC Audience:"}),n.jsx("input",{type:"text",value:((rr=E.aws)==null?void 0:rr.oidcAudience)||"sts.amazonaws.com",onChange:N=>Z(F=>({...F,aws:{...F.aws,oidcAudience:N.target.value.trim()}})),placeholder:"sts.amazonaws.com"}),n.jsx("small",{style:{color:"#28a745"},children:"Token audience (usually sts.amazonaws.com)"})]}),n.jsxs("div",{className:"config-field",children:[n.jsx("label",{children:"OIDC Subject:"}),n.jsx("input",{type:"text",value:((sr=E.aws)==null?void 0:sr.oidcSubject)||"",onChange:N=>Z(F=>({...F,aws:{...F.aws,oidcSubject:N.target.value.trim()}})),placeholder:"system:serviceaccount:default:media-access-sa"}),n.jsx("small",{style:{color:"#28a745"},children:"Service account subject (format: system:serviceaccount:namespace:service-account-name)"})]})]}),n.jsxs("div",{className:"auth-method-note",children:[n.jsx("strong",{children:" OIDC Federation:"})," Uses Kubernetes service account tokens  AWS STS AssumeRoleWithWebIdentity  Automatic credential refresh via Kubernetes"]})]}),n.jsx("div",{className:"aws-config-sidebar",children:n.jsxs("div",{className:"config-field",children:[n.jsxs("div",{className:"aws-status-cards-container",children:[n.jsxs("div",{className:"debug-info",children:[n.jsx("strong",{children:" Configuration Status:"}),n.jsx("br",{})," Bucket: ",n.jsx("span",{style:{color:E.aws.bucketName?"green":"red"},children:E.aws.bucketName||"MISSING"}),n.jsx("br",{})," Region: ",n.jsx("span",{style:{color:E.aws.region?"green":"red"},children:E.aws.region||"MISSING"}),n.jsx("br",{})," Role ARN: ",n.jsx("span",{style:{color:E.aws.roleArn?"green":"red"},children:E.aws.roleArn?"SET ":"MISSING "}),n.jsx("br",{}),E.aws.authMethod!=="oidc"&&n.jsxs(n.Fragment,{children:[" External ID: ",n.jsx("span",{style:{color:E.aws.externalId?"green":"red"},children:E.aws.externalId?"SET ":"MISSING "}),n.jsx("br",{})]}),E.aws.authMethod==="oidc"?n.jsxs(n.Fragment,{children:[" Auth Method: ",n.jsx("span",{style:{color:"purple"},children:"OIDC Web Identity "}),n.jsx("br",{})," OIDC Issuer: ",n.jsx("span",{style:{color:E.aws.oidcIssuerUrl?"green":"red"},children:E.aws.oidcIssuerUrl?"SET ":"MISSING "}),n.jsx("br",{})," OIDC Subject: ",n.jsx("span",{style:{color:E.aws.oidcSubject?"green":"red"},children:E.aws.oidcSubject?"SET ":"MISSING "}),n.jsx("br",{})]}):E.aws.authMethod==="sso"?n.jsxs(n.Fragment,{children:[" Auth Method: ",n.jsx("span",{style:{color:"blue"},children:"AWS SSO (Identity Center) "}),n.jsx("br",{})," Manual Credentials: ",n.jsx("span",{style:{color:"red"},children:"MISSING "})]}):n.jsxs(n.Fragment,{children:[" Access Key: ",n.jsx("span",{style:{color:E.aws.accessKey?"green":"red"},children:E.aws.accessKey?"SET ":"REQUIRED "}),n.jsx("br",{})," Secret Key: ",n.jsx("span",{style:{color:E.aws.secretKey?"green":"red"},children:E.aws.secretKey?"SET ":"REQUIRED "}),n.jsx("br",{})," Session Token: ",n.jsx("span",{style:{color:E.aws.sessionToken?"green":"red"},children:E.aws.sessionToken?"SET ":"REQUIRED "})]})]}),je&&((ar=E.aws)==null?void 0:ar.authMethod)!=="oidc"&&n.jsxs("div",{className:"debug-info",style:{backgroundColor:je.credentialsValid?je.statusLevel==="WARNING"?"#fff3cd":"#e6ffe6":"#ffe6e6"},children:[n.jsx("strong",{children:" Credential Status:"}),n.jsx("br",{})," Status: ",n.jsx("span",{style:{color:je.credentialsValid?je.statusLevel==="WARNING"?"orange":"green":"red"},children:je.credentialsValid?je.statusLevel==="WARNING"?"EXPIRING SOON ":"VALID ":"EXPIRED "}),n.jsx("br",{}),je.error&&n.jsxs(n.Fragment,{children:[" Error: ",n.jsx("span",{style:{color:"red",fontSize:"0.9em"},children:je.error}),n.jsx("br",{})]})," Auto-refresh: ",n.jsx("span",{style:{color:je.autoRefresh?"green":"red"},children:je.autoRefresh?"ACTIVE ":"INACTIVE "})]}),je&&!je.credentialsValid&&E.aws.authMethod!=="oidc"&&E.aws.authMethod!=="sso"&&n.jsxs("div",{className:"debug-info",style:{backgroundColor:"#ffebee",border:"2px solid #f44336",borderRadius:"8px",padding:"15px",margin:"10px 0"},children:[n.jsx("strong",{style:{color:"#d32f2f"},children:" ACTION REQUIRED: Credentials Expired"}),n.jsx("br",{}),n.jsx("p",{style:{margin:"10px 0",fontSize:"14px"},children:"AWS Identity Center credentials expire every 12 hours and cannot be automatically renewed. You need to get fresh credentials from the AWS Identity Center portal."}),n.jsxs("div",{style:{backgroundColor:"#fff",padding:"10px",borderRadius:"4px",margin:"10px 0"},children:[n.jsx("strong",{children:"Steps to fix:"}),n.jsx("br",{}),"1. Go to AWS Identity Center portal",n.jsx("br",{}),"2. Copy the new Access Key ID, Secret Access Key, and Session Token",n.jsx("br",{}),"3. Paste them into the fields above",n.jsx("br",{}),'4. Click "Test Connection" then "Save Configuration"']})]}),n.jsxs("div",{className:"aws-security-info",children:[n.jsx("h5",{children:" Configuration Complete"}),n.jsx("p",{children:"All AWS S3 settings are configured. Test connection first, then save to activate secure cloud storage."})]})]}),n.jsxs("div",{className:"action-buttons",children:[E.aws.authMethod!=="oidc"?n.jsxs("button",{className:"btn-test-connection",onClick:ze,disabled:!ne(),style:{backgroundColor:"#007bff",color:"white",border:"2px solid #0056b3",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",marginBottom:"10px",opacity:ne()?1:.5},children:[n.jsx("i",{className:"fa-solid fa-plug"})," Test Connection"]}):n.jsxs("button",{className:"btn-test-oidc-connection",onClick:Yt,disabled:!ne(),style:{backgroundColor:"#8B5CF6",color:"white",border:"2px solid #7C3AED",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",marginBottom:"10px",opacity:ne()?1:.5},children:[n.jsx("i",{className:"fa-solid fa-globe"})," Test OIDC Configuration"]}),E.aws.authMethod!=="oidc"&&n.jsxs("button",{className:"btn-refresh-credentials",onClick:Mr,disabled:h,style:{backgroundColor:"#fd7e14",color:"white",border:"2px solid #e55100",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",marginBottom:"10px"},children:[n.jsx("i",{className:"fa-solid fa-refresh"})," Refresh Credentials"]}),n.jsxs("button",{className:"btn-save-config",onClick:Ue,disabled:!ne(),style:{backgroundColor:"#28a745",color:"white",border:"2px solid #1e7e34",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",opacity:ne()?1:.5},children:[n.jsx("i",{className:"fa-solid fa-save"})," Save Configuration"]}),((ir=E.aws)==null?void 0:ir.authMethod)!=="oidc"&&n.jsxs("button",{className:"btn-sync-s3",onClick:Bs,disabled:b!=="aws",style:{backgroundColor:"#17a2b8",color:"white",border:"2px solid #138496",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",opacity:b!=="aws"?.5:1,marginTop:"10px"},title:"Sync S3 bucket files with database records",children:[n.jsx("i",{className:"fa-solid fa-sync"})," Sync S3 to Database"]}),((or=E.aws)==null?void 0:or.authMethod)==="oidc"&&n.jsxs("button",{className:"btn-sync-s3-oidc",onClick:Ws,disabled:b!=="aws",style:{backgroundColor:"#28a745",color:"white",border:"2px solid #1e7e34",fontSize:"14px",padding:"10px 20px",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",width:"100%",opacity:b!=="aws"?.5:1,marginTop:"10px"},title:"Sync S3 bucket files with database using OIDC authentication",children:[n.jsx("i",{className:"fa-solid fa-sync"})," Sync S3 to Database (OIDC)"]})]})]})})]})]}),b==="aws"&&n.jsxs("div",{className:"media-server-status",children:[n.jsxs("div",{className:"status-item",children:[n.jsx("i",{className:"fa-solid fa-lock"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Private Access Only:"})," S3 bucket configured with private access and authorized policies only"]})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("i",{className:"fa-solid fa-users-gear"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Organization SSO:"})," Uses AWS Organizations with Identity Center - no IAM users created"]})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("i",{className:"fa-solid fa-key"}),n.jsxs("span",{children:[n.jsx("strong",{children:"IAM Role Security:"})," Temporary credentials via STS AssumeRole for enhanced security"]})]})]}),b==="external"&&n.jsxs("div",{className:"external-media-server-url",children:[n.jsx("label",{children:"External Media Server URL:"}),n.jsx("input",{type:"url",value:Q,onChange:N=>R(N.target.value),placeholder:"https://mediaserver.example.com/api"}),n.jsx("div",{className:"media-server-warning",children:n.jsx("small",{style:{color:"orange"},children:"External media server integration is not yet implemented. Please use internal server for now."})})]})]})]}),C&&n.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:n.jsxs("div",{className:"modal",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"Upload Media"}),n.jsx("button",{onClick:()=>O(!1),children:n.jsx("i",{className:"fa-solid fa-times"})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"upload-area",children:[n.jsx("input",{type:"file",id:"media-upload",multiple:!0,accept:"image/*,video/*,.pdf",onChange:N=>Br(N.target.files),style:{display:"none"}}),n.jsxs("label",{htmlFor:"media-upload",className:"upload-label",children:[n.jsx("i",{className:"fa-solid fa-cloud-upload"}),n.jsx("p",{children:"Click to select files or drag and drop"}),n.jsx("small",{children:"Supported: Images, Videos, PDFs (Max 10MB each)"})]})]}),x&&n.jsxs("div",{className:"upload-progress",children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),n.jsx("span",{children:"Uploading files..."})]})]})]})}),T&&n.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:n.jsxs("div",{className:"modal",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"Create New Folder"}),n.jsx("button",{onClick:()=>A(!1),children:n.jsx("i",{className:"fa-solid fa-times"})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("input",{type:"text",placeholder:"Folder name",value:G,onChange:N=>W(N.target.value),className:"folder-input"}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-secondary",onClick:()=>A(!1),children:"Cancel"}),n.jsx("button",{className:"btn-primary",onClick:On,disabled:!G.trim(),children:"Create Folder"})]})]})]})}),M&&n.jsx("div",{className:"modal-overlay",onClick:()=>B(null),children:n.jsxs("div",{className:"modal",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"Move File"}),n.jsx("button",{onClick:()=>B(null),children:n.jsx("i",{className:"fa-solid fa-times"})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Move ",n.jsx("strong",{children:M.filename})," to:"]}),n.jsxs("select",{className:"folder-select",onChange:N=>{N.target.value&&confirm(`Move ${M.filename} to ${N.target.value}?`)&&Wr(M.id,N.target.value)},defaultValue:"",children:[n.jsx("option",{value:"",children:"Select destination folder..."}),o.map(N=>n.jsx("option",{value:N.path,disabled:N.path===u,children:N.path==="/"?"Root":N.name},N.path))]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{className:"btn-secondary",onClick:()=>B(null),children:"Cancel"})})]})]})})]})}function Jy(){const[s,a]=j.useState([]),[o,l]=j.useState(!0),[u,d]=j.useState("");j.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await Yn.getAllPages();y.success?a(y.data):d("Error loading pages")}catch(y){console.error("Error fetching pages:",y),d("Error loading pages")}finally{l(!1)}},m=async(y,v)=>{if(window.confirm(`Are you sure you want to delete the page "${v}"?`))try{(await Yn.deletePage(y)).success?(a(s.filter(_=>_.id!==y)),d("Page deleted successfully!"),setTimeout(()=>d(""),3e3)):d("Error deleting page")}catch(w){console.error("Error deleting page:",w),d("Error deleting page")}},x=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=y=>{switch(y){case"active":return"#27ae60";case"inactive":return"#e74c3c";case"draft":return"#f39c12";default:return"#95a5a6"}};return o?n.jsx("div",{className:"page-management",children:n.jsx("div",{className:"loading",children:"Loading pages..."})}):n.jsxs("div",{className:"page-management",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:"Static Page Management"}),n.jsxs("a",{href:"/edit-page",className:"btn-primary",children:[n.jsx("i",{className:"fa-solid fa-plus"})," Create New Page"]})]}),u&&n.jsx("div",{className:`message ${u.includes("Error")?"error":"success"}`,children:u}),n.jsxs("div",{className:"pages-grid",children:[n.jsxs("div",{className:"page-card quick-actions",children:[n.jsx("h3",{children:"Quick Actions"}),n.jsxs("div",{className:"quick-buttons",children:[n.jsxs("a",{href:"/edit-page?slug=about",className:"btn-secondary",children:[n.jsx("i",{className:"fa-solid fa-info-circle"})," Edit About"]}),n.jsxs("a",{href:"/edit-page?slug=privacy",className:"btn-secondary",children:[n.jsx("i",{className:"fa-solid fa-shield-alt"})," Edit Privacy"]}),n.jsxs("a",{href:"/edit-page?slug=terms",className:"btn-secondary",children:[n.jsx("i",{className:"fa-solid fa-file-contract"})," Edit Terms"]}),n.jsxs("a",{href:"/edit-page",className:"btn-primary",children:[n.jsx("i",{className:"fa-solid fa-plus"})," New Page"]})]})]}),s.map(y=>n.jsxs("div",{className:"page-card",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h3",{children:y.title}),n.jsx("span",{className:"page-status",style:{backgroundColor:g(y.status)},children:y.status})]}),n.jsxs("div",{className:"page-info",children:[n.jsxs("p",{className:"page-slug",children:[n.jsx("i",{className:"fa-solid fa-link"})," /",y.slug]}),n.jsxs("p",{className:"page-template",children:[n.jsx("i",{className:"fa-solid fa-layout"})," Template: ",y.template]}),n.jsxs("p",{className:"page-meta",children:[n.jsx("i",{className:"fa-solid fa-calendar"}),"Updated: ",x(y.updated_at)]}),y.meta_title&&n.jsxs("p",{className:"page-seo",children:[n.jsx("i",{className:"fa-solid fa-search"})," SEO optimized"]}),y.show_in_menu&&n.jsxs("p",{className:"page-menu",children:[n.jsx("i",{className:"fa-solid fa-bars"})," Shown in menu"]})]}),n.jsxs("div",{className:"page-actions",children:[n.jsxs("a",{href:`/edit-page?id=${y.id}`,className:"btn-secondary",children:[n.jsx("i",{className:"fa-solid fa-edit"})," Edit"]}),n.jsxs("a",{href:`/${y.slug}`,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",children:[n.jsx("i",{className:"fa-solid fa-external-link-alt"})," View"]}),n.jsxs("button",{className:"btn-danger",onClick:()=>m(y.id,y.title),children:[n.jsx("i",{className:"fa-solid fa-trash"})," Delete"]})]})]},y.id))]}),s.length===0&&n.jsxs("div",{className:"no-pages",children:[n.jsx("i",{className:"fa-solid fa-file-text"}),n.jsx("h3",{children:"No static pages found"}),n.jsx("p",{children:'Create your first static page by clicking the "Create New Page" button above.'}),n.jsxs("a",{href:"/edit-page",className:"btn-primary",children:[n.jsx("i",{className:"fa-solid fa-plus"})," Create First Page"]})]}),n.jsxs("div",{className:"page-info-box",children:[n.jsx("h3",{children:" Static Page Management"}),n.jsx("p",{children:"Use this section to manage your blog's static pages like About, Privacy Policy, Terms of Service, etc."}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Active Pages"})," - Visible to visitors and indexed by search engines"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Inactive Pages"})," - Hidden from visitors but preserved in database"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Draft Pages"})," - Work-in-progress pages not yet published"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Menu Display"})," - Control which pages appear in navigation menu"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"SEO Settings"})," - Configure meta titles and descriptions for better search visibility"]})]}),n.jsx("p",{children:n.jsx("em",{children:"Note: Changes to pages take effect immediately after saving."})})]})]})}function Yy(){const[s,a]=j.useState("content"),{adminUser:o,adminLogout:l}=Rt(),u=()=>{switch(s){case"content":return n.jsx(ff,{});case"pages":return n.jsx(Jy,{});case"users":return n.jsx(qy,{});case"social":return n.jsx(Vy,{});case"settings":return n.jsx(Gy,{});case"analytics":return n.jsx(Ky,{});case"media":return n.jsx(Qy,{});case"auth":return n.jsx(Hy,{});default:return n.jsx(ff,{})}};return n.jsxs("div",{className:"ops-container",children:[n.jsxs("div",{className:"ops-header",children:[n.jsx("h1",{children:"Blog Operations Center"}),n.jsx("p",{children:"Manage your blog content and settings"}),n.jsxs("div",{className:"admin-info",children:[n.jsxs("span",{children:["Welcome, ",(o==null?void 0:o.username)||"Admin"]}),n.jsxs("button",{className:"btn-logout",onClick:l,children:[n.jsx("i",{className:"fa-solid fa-sign-out-alt"})," Logout"]})]})]}),n.jsxs("div",{className:"ops-navigation",children:[n.jsxs("button",{className:s==="content"?"active":"",onClick:()=>a("content"),children:[n.jsx("i",{className:"fa-solid fa-file-lines"})," Content"]}),n.jsxs("button",{className:s==="pages"?"active":"",onClick:()=>a("pages"),children:[n.jsx("i",{className:"fa-solid fa-file-text"})," Pages"]}),n.jsxs("button",{className:s==="users"?"active":"",onClick:()=>a("users"),children:[n.jsx("i",{className:"fa-solid fa-users"})," Users"]}),n.jsxs("button",{className:s==="social"?"active":"",onClick:()=>a("social"),children:[n.jsx("i",{className:"fa-solid fa-share-nodes"})," Social Media"]}),n.jsxs("button",{className:s==="settings"?"active":"",onClick:()=>a("settings"),children:[n.jsx("i",{className:"fa-solid fa-gear"})," Settings"]}),n.jsxs("button",{className:s==="analytics"?"active":"",onClick:()=>a("analytics"),children:[n.jsx("i",{className:"fa-solid fa-chart-line"})," Analytics"]}),n.jsxs("button",{className:s==="media"?"active":"",onClick:()=>a("media"),children:[n.jsx("i",{className:"fa-solid fa-images"})," Media"]}),n.jsxs("button",{className:s==="auth"?"active":"",onClick:()=>a("auth"),children:[n.jsx("i",{className:"fa-solid fa-shield-halved"})," Auth"]})]}),n.jsx("div",{className:"ops-content",children:u()})]})}function Xy(){const[s,a]=j.useState([]),[o,l]=j.useState(!0),[u,d]=j.useState(""),h=Qt();j.useEffect(()=>{m()},[]);const m=async()=>{try{l(!0);const w=await Rn.getDrafts();a(w.data||[])}catch(w){console.error("Error fetching drafts:",w),d("Failed to fetch drafts")}finally{l(!1)}},x=w=>{h(`/write?edit=${w}`)},g=async w=>{var S,I;if(window.confirm(`Are you sure you want to delete the draft "${w.title}"? This action cannot be undone.`))try{const C=await Rn.deletePost(w.id);C.status===200||(S=C.data)!=null&&S.success?(alert("Draft deleted successfully!"),m()):alert("Failed to delete draft: "+(((I=C.data)==null?void 0:I.error)||"Unknown error"))}catch(C){console.error("Error deleting draft:",C),alert("Failed to delete draft. Please try again.")}},y=async w=>{var S,I;if(window.confirm(`Are you sure you want to publish "${w.title}"?`))try{const C={title:w.title,content:w.content,status:"published"},O=await Rn.updatePost(w.id,C);(S=O.data)!=null&&S.success||O.status===200?(alert("Draft published successfully!"),m()):alert("Failed to publish draft: "+(((I=O.data)==null?void 0:I.error)||"Unknown error"))}catch(C){console.error("Error publishing draft:",C),alert("Failed to publish draft. Please try again.")}},v=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?n.jsx("div",{className:"draft-management",children:n.jsx("div",{className:"loading",children:"Loading drafts..."})}):n.jsxs("div",{className:"draft-management",children:[n.jsxs("div",{className:"header",children:[n.jsx("h1",{children:"Draft Management"}),n.jsx("button",{className:"btn-secondary",onClick:()=>h("/ops"),children:" Back to Content Management"})]}),u&&n.jsx("div",{className:"error-message",children:u}),s.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("h3",{children:"No Draft Posts Found"}),n.jsx("p",{children:"You don't have any draft posts at the moment."}),n.jsx("button",{className:"btn-primary",onClick:()=>h("/write"),children:"Create New Post"})]}):n.jsxs("div",{className:"drafts-table",children:[n.jsxs("h2",{children:["Draft Posts (",s.length,")"]}),n.jsxs("table",{children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Title"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Updated"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:s.map(w=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{className:"post-title",children:w.title}),n.jsx("div",{className:"post-excerpt",children:w.content?w.content.substring(0,100)+"...":"No content"})]}),n.jsx("td",{children:v(w.created_at)}),n.jsx("td",{children:v(w.updated_at||w.created_at)}),n.jsx("td",{children:n.jsxs("div",{className:"actions",children:[n.jsx("button",{className:"btn-edit",onClick:()=>x(w.id),title:"Edit draft",children:"Edit"}),n.jsx("button",{className:"btn-publish",onClick:()=>y(w),title:"Publish draft",children:"Publish"}),n.jsx("button",{className:"btn-delete",onClick:()=>g(w),title:"Delete draft",children:"Delete"})]})})]},w.id))})]})]})]})}function Zy(){return n.jsx("div",{className:"settings",children:n.jsxs("div",{className:"settingsWrapper",children:[n.jsxs("div",{className:"settingsTitle",children:[n.jsx("span",{className:"settingsUpdateTitle",children:"Update Account"}),n.jsx("span",{className:"settingsDeleteTitle",children:"Delete Account"})]}),n.jsxs("form",{className:"settingsForm",children:[n.jsx("label",{children:"Profile picture"}),n.jsxs("div",{className:"settingsPP",children:[n.jsx("img",{src:"https://lh3.googleusercontent.com/a/ACg8ocKyzBlZ6G6WI8BZQpstO_hcA3hhfSuyesOerch4wMn0ISfAXY8v=s96-c",alt:""}),n.jsx("label",{htmlFor:"fileImput",children:n.jsx("i",{class:"settingsPPIcon fa-solid fa-user-secret"})}),n.jsx("input",{type:"file",id:"fileInput",style:{display:"none"}})]}),n.jsx("label",{children:"Userrname"}),n.jsx("input",{type:"text",placeholder:"YoJulito"}),n.jsx("label",{children:"Email"}),n.jsx("input",{type:"text",placeholder:"yojulito@ingasti.com"}),n.jsx("label",{children:"Password"}),n.jsx("input",{type:"password"}),n.jsx("button",{className:"settingsSubmit",children:"Update"})]}),n.jsx(Bl,{})]})})}function ev(){const[s,a]=j.useState({email:"",password:""}),[o,l]=j.useState(""),[u,d]=j.useState(!1),[h,m]=j.useState(null),{userLogin:x}=Jt(),g=Qt();j.useEffect(()=>{(async()=>{try{m({domain:"blog-auth-1756980364.auth.eu-west-2.amazoncognito.com",clientId:"50bvr2ect5ja74rc3qtdb3jn1a",redirectUri:window.location.origin+"/auth/callback"})}catch(S){console.error("Failed to load Cognito config:",S)}})()},[]);const y=()=>{if(!h){l("Authentication system not configured");return}const _=`https://${h.domain}/login?client_id=${h.clientId}&response_type=code&scope=email+openid+profile&redirect_uri=${encodeURIComponent(h.redirectUri)}`;window.location.href=_},v=async _=>{if(_.preventDefault(),l(""),d(!0),!s.email||!s.password){l("Please enter both email and password"),d(!1);return}try{const S=await x(s);S.success?g("/"):l(S.message)}catch{l("Login failed. Please try again.")}finally{d(!1)}},w=_=>{a({...s,[_.target.name]:_.target.value})};return n.jsx("div",{className:"login",children:n.jsxs("div",{className:"login-container",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("span",{className:"loginTitle",children:"Welcome Back"}),n.jsx("p",{children:"Sign in to your account"})]}),n.jsxs("div",{className:"oauth-section",children:[n.jsx("h3",{children:" Secure Sign In"}),n.jsx("p",{className:"cognito-description",children:"Powered by AWS Cognito - Enterprise-grade security with social media options"}),n.jsx("div",{className:"oauth-buttons",children:n.jsxs("button",{onClick:y,className:"oauth-button cognito",disabled:!h,children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),h?"Sign In with AWS Cognito":"Loading..."]})}),n.jsxs("p",{className:"cognito-features",children:[" Google, Facebook, Apple sign-in options",n.jsx("br",{})," Secure password management",n.jsx("br",{})," Multi-factor authentication ready"]})]}),n.jsx("div",{className:"divider",children:n.jsx("span",{children:"or use legacy login"})}),n.jsxs("form",{className:"loginForm",onSubmit:v,children:[o&&n.jsxs("div",{className:"login-error",children:[n.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),o]}),n.jsxs("div",{className:"login-field",children:[n.jsx("label",{children:"Email"}),n.jsx("input",{type:"email",name:"email",className:"loginInput",placeholder:"Enter your email",value:s.email,onChange:w,disabled:u})]}),n.jsxs("div",{className:"login-field",children:[n.jsx("label",{children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"loginInput",placeholder:"Enter your password",value:s.password,onChange:w,disabled:u})]}),n.jsx("button",{type:"submit",className:`loginButton ${u?"loading":""}`,disabled:u,children:u?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Signing In..."]}):"Sign In (Legacy)"})]}),n.jsxs("div",{className:"login-footer",children:[n.jsxs("p",{children:["Don't have an account? ",n.jsx(Ie,{to:"/register",children:"Sign up here"})]}),n.jsxs("p",{children:["Admin access? ",n.jsx(Ie,{to:"/adminlogin",children:"Admin Login"})]})]}),n.jsxs("div",{className:"role-info",children:[n.jsx("h4",{children:"User Roles"}),n.jsxs("div",{className:"role-badges",children:[n.jsx("span",{className:"role-badge reader",children:"Reader"}),n.jsx("span",{className:"role-badge writer",children:"Writer"}),n.jsx("span",{className:"role-badge editor",children:"Editor"}),n.jsx("span",{className:"role-badge admin",children:"Admin"})]})]})]})})}const tv=()=>{const[s,a]=j.useState({username:"",password:""}),[o,l]=j.useState(null),[u,d]=j.useState(!1),h=Qt(),{userLogin:m}=Jt(),x=y=>{a(v=>({...v,[y.target.name]:y.target.value}))},g=async y=>{y.preventDefault(),d(!0),l(null);try{console.log("Attempting login with:",{username:s.username}),console.log("API URL:",pe.AUTH.LOGIN);const v=await m(s);v.success?(console.log("Login successful, navigating to home"),h("/")):(console.log("Login failed:",v.message),l(v.message))}catch(v){console.error("Login error:",v),l("Network error. Please try again.")}finally{d(!1)}};return n.jsx("div",{className:"user-login",children:n.jsxs("div",{className:"login-container",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("h1",{children:"Writer Login"}),n.jsx("p",{children:"Sign in to write and manage your posts"})]}),n.jsxs("form",{onSubmit:g,className:"login-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"username",children:"Username"}),n.jsx("input",{required:!0,type:"text",id:"username",name:"username",placeholder:"Enter your username",value:s.username,onChange:x})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{required:!0,type:"password",id:"password",name:"password",placeholder:"Enter your password",value:s.password,onChange:x})]}),o&&n.jsx("div",{className:"error-message",children:o}),n.jsx("button",{type:"submit",disabled:u,className:"login-btn",children:u?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"login-footer",children:[n.jsx("div",{className:"divider",children:n.jsx("span",{children:"Other Options"})}),n.jsxs("div",{className:"other-logins",children:[n.jsx(Ie,{to:"/register",className:"register-link",children:"Don't have an account? Contact admin to create one"}),n.jsxs(Ie,{to:"/adminlogin",className:"admin-link",children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),"Admin Login"]}),n.jsxs(Ie,{to:"/",className:"home-link",children:[n.jsx("i",{className:"fa-solid fa-home"}),"Back to Blog"]})]}),n.jsxs("div",{className:"user-types-info",children:[n.jsx("h3",{children:"Account Types"}),n.jsxs("div",{className:"account-type",children:[n.jsx("i",{className:"fa-solid fa-pen"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Writers"}),n.jsx("p",{children:"Database users who can create and edit posts"})]})]}),n.jsxs("div",{className:"account-type",children:[n.jsx("i",{className:"fa-solid fa-comments"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Readers"}),n.jsx("p",{children:"OAuth users who can comment via social media"})]})]}),n.jsxs("div",{className:"account-type",children:[n.jsx("i",{className:"fa-solid fa-shield"}),n.jsxs("div",{children:[n.jsx("strong",{children:"Admins"}),n.jsx("p",{children:"Full access to manage content and users"})]})]})]})]})]})})};function nv(){return n.jsxs("div",{className:"register",children:[n.jsx("span",{className:"registerTitle",children:"Req"}),n.jsxs("form",{className:"registerForm",children:[n.jsx("label",{children:"Username"}),n.jsx("input",{type:"text",className:"registerInput",placeholder:"Username "}),n.jsx("label",{children:"Email"}),n.jsx("input",{type:"text",className:"registerInput",placeholder:"Email "}),n.jsx("label",{children:"Password"}),n.jsx("input",{type:"email",className:"registerInput",placeholder:"Password  "}),n.jsx("button",{className:"registerButton",children:"Req"})]}),n.jsx("button",{className:"registerLoginButton",children:n.jsx(Ie,{to:"/login",children:"Login"})})]})}const rv="/assets/BedTime-h7rk7gtY.jpg";function sv(){return n.jsxs("div",{className:"header",children:[n.jsx("div",{className:"headerOverlay"}),n.jsxs("div",{className:"headerTitle",children:[n.jsx("span",{className:"headerTitleSm",children:"Guilt & Pleasure"}),n.jsx("span",{className:"headerTitleLg",children:"Bedtime"})]}),n.jsx("img",{className:"headerImg",src:rv,alt:"Bed time"})]})}function av({post:s}){const a=d=>{const h=new Date(d),x=Math.abs(new Date-h),g=Math.ceil(x/(1e3*60*60*24));return g===1?"1 day ago":g<7?`${g} days ago`:g<30?`${Math.ceil(g/7)} weeks ago`:h.toLocaleDateString()},o=d=>{if(!d)return"No description available";const h=d.replace(/<[^>]*>/g,"").replace(/#+\s*/g,"");return h.length>150?h.substring(0,150)+"...":h},l=()=>{const d=[];return s!=null&&s.status&&d.push(s.status),s!=null&&s.visibility&&d.push(s.visibility),s!=null&&s.category_name&&d.push(s.category_name),d},u=d=>d!=null&&d.first_name&&(d!=null&&d.last_name)?`${d.first_name} ${d.last_name}`:d!=null&&d.first_name?d.first_name:d!=null&&d.username?d.username:"Unknown Author";return n.jsxs("div",{className:"post",children:[n.jsx("img",{className:"postImg",src:(s==null?void 0:s.featured_image)||ql,alt:(s==null?void 0:s.title)||"Blog post"}),n.jsxs("div",{className:"postInfo",children:[n.jsx("div",{className:"postCats",children:l().map((d,h)=>n.jsx("span",{className:"postCat",children:d},h))}),n.jsx(Ie,{to:`/post/${s==null?void 0:s.id}`,className:"link",children:n.jsx("span",{className:"postTitle",children:(s==null?void 0:s.title)||"Untitled Post"})}),n.jsx("hr",{}),n.jsxs("div",{className:"postMeta",children:[n.jsx("span",{className:"postDate",children:s!=null&&s.published_at?a(s.published_at):s!=null&&s.created_at?a(s.created_at):"Unknown date"}),n.jsxs("span",{className:"postAuthor",children:["by ",u(s)]})]})]}),n.jsx("p",{className:"postDescription",children:o((s==null?void 0:s.content)||(s==null?void 0:s.excerpt))}),n.jsxs("div",{className:"postSocialActions",children:[n.jsx(nh,{postId:s==null?void 0:s.id,initialLikes:(s==null?void 0:s.like_count)||0}),n.jsx(sh,{postId:s==null?void 0:s.id,postTitle:s==null?void 0:s.title,postDescription:(s==null?void 0:s.excerpt)||o(s==null?void 0:s.content),postUrl:`${window.location.origin}/post/${s==null?void 0:s.id}`,initialShareCount:(s==null?void 0:s.share_count)||0})]})]})}function iv(){const[s,a]=j.useState([]),[o,l]=j.useState(!0),[u,d]=j.useState(null),[h,m]=j.useState(1),[x,g]=j.useState(!0),{categoryName:y}=Dl(),v=cn();j.useEffect(()=>{a([]),m(1),g(!0),w(1)},[y,v.pathname]);const w=async(S=1)=>{try{l(!0),d(null);const I=await di.getAllPosts(S,10,y);I.success?(a(S===1?I.data:C=>[...C,...I.data]),g(I.data.length===10)):d("Failed to fetch posts")}catch(I){console.error("Error fetching posts:",I),d("Failed to load posts. Please try again later.")}finally{l(!1)}},_=()=>{if(!o&&x){const S=h+1;m(S),w(S)}};return o&&s.length===0?n.jsx("div",{className:"posts",children:n.jsx("div",{className:"loading",children:n.jsx("p",{children:"Loading posts..."})})}):u&&s.length===0?n.jsx("div",{className:"posts",children:n.jsxs("div",{className:"error",children:[n.jsx("p",{children:u}),n.jsx("button",{onClick:()=>w(1),className:"retry-btn",children:"Try Again"})]})}):n.jsxs("div",{className:"posts",children:[y&&n.jsxs("div",{className:"category-header",children:[n.jsxs("h2",{children:['Posts in "',y,'" Category']}),n.jsxs("p",{children:["Showing all posts tagged with ",y]})]}),s.length>0?n.jsxs(n.Fragment,{children:[s.map(S=>n.jsx(av,{post:S},S.id)),x&&n.jsx("div",{className:"load-more",children:n.jsx("button",{onClick:_,disabled:o,className:"load-more-btn",children:o?"Loading...":"Load More Posts"})})]}):n.jsx("div",{className:"no-posts",children:n.jsx("p",{children:y?`No posts found in "${y}" category.`:"No posts available yet."})}),u&&n.jsx("div",{className:"error-notice",children:n.jsx("p",{children:u})})]})}function hf(){return n.jsxs(n.Fragment,{children:[n.jsx(fh,{title:"Bedtime Blog - Insightful Articles & Stories",description:"Discover insightful articles on technology, business, and innovation. Join our community for engaging content and meaningful discussions."}),n.jsx(sv,{}),n.jsxs("div",{className:"home",children:[n.jsx(iv,{}),n.jsx(Bl,{})]})]})}function ov(){return n.jsx("div",{className:"about",children:n.jsxs("div",{className:"aboutWrapper",children:[n.jsxs("div",{className:"aboutHeader",children:[n.jsx("h1",{className:"aboutTitle",children:"How It All Started: From Fire to Blog"}),n.jsx("p",{className:"aboutSubtitle",children:"The unexpected night that sparked the idea for this blog"})]}),n.jsxs("div",{className:"aboutContent",children:[n.jsx("div",{className:"aboutSection",children:n.jsx("p",{className:"aboutIntro",children:"Sometimes the most unexpected moments shape our future in ways we never imagine. This is the story of how a frightening night turned into the inspiration for this very blog you're reading."})}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("h2",{children:"The Night Everything Changed"}),n.jsxs("div",{className:"aboutImageGrid",children:[n.jsx("img",{src:"/images/about/IMG-20250804-WA0001.jpg",alt:"Emergency services on the night of the fire",className:"aboutImage"}),n.jsx("img",{src:"/images/about/IMG-20250804-WA0002.jpg",alt:"Fire engines and police cars",className:"aboutImage"})]}),n.jsx("p",{children:"It was March 1st, 2024 - a date I'll never forget. I was exhausted and had already fallen into a deep sleep when something stirred me awake. Not smoke, not alarms - just noise. Lots of noise outside my window."}),n.jsx("p",{children:"I groggily looked out to see a flurry of activity below: police cars, fire engines, people moving about with purpose. Clearly something was happening, but living in London, emergency services rushing around wasn't exactly unusual. I was so tired that after a quick glance, I decided whatever it was could wait until morning. Back to bed I went."}),n.jsx("p",{children:"That decision didn't last long."})]}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("div",{className:"aboutImageContainer",children:n.jsx("img",{src:"/images/about/IMG-20250804-WA0004.jpg",alt:"Building evacuation scene",className:"aboutImageFull"})}),n.jsx("p",{children:"It wasn't until the police began systematically evacuating the adjacent buildings that my peaceful sleep was truly interrupted. The sound of heavy banging on doors echoed through the building, getting closer and closer until finally - BANG, BANG, BANG - they reached mine."}),n.jsx("p",{children:"That's when I learned that a massive fire had broken out in a building on Emperor's Gate street, right next door to where I lived. Even though our building wasn't directly affected by the flames, the local council wasn't taking any chances. The evacuation order was immediate and non-negotiable."})]}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("h2",{children:"A Long Night at the Millennium"}),n.jsxs("div",{className:"aboutImageGrid",children:[n.jsx("img",{src:"/images/about/IMG-20250804-WA0005.jpg",alt:"Night evacuation",className:"aboutImage"}),n.jsx("img",{src:"/images/about/IMG-20250804-WA0006.jpg",alt:"Emergency response",className:"aboutImage"})]}),n.jsx("p",{children:"The evacuation wasn't a quick affair. It was a long, anxious night as authorities worked to contain the fire and assess the situation. Initially, displaced residents were directed to nearby hotels, but space was limited and the process was slow. It wasn't until dawn was breaking that they began assigning rooms to the most vulnerable people first."}),n.jsx("p",{children:"That's how I found myself in an unexpected place: a room at the Millennium Hotel. After hours of uncertainty, stress, and the acrid smell of smoke still lingering in my clothes, stepping into that clean, quiet hotel room felt like entering a different world."})]}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("h2",{children:"The Moment of Clarity"}),n.jsx("div",{className:"aboutImageContainer",children:n.jsx("img",{src:"/images/about/IMG-20250804-WA0007.jpg",alt:"Morning light in the hotel room",className:"aboutImageFull"})}),n.jsx("p",{children:"After a long, hot shower that seemed to wash away not just the smell of smoke but the tension of the entire night, I sat on the edge of the hotel bed looking out at the city awakening. The morning light streaming through the window, the crisp white sheets, the sense of unexpected peace after chaos - it all came together in that moment."}),n.jsx("p",{children:"I grabbed my phone and took a picture. Something about that scene, that feeling of finding calm after the storm, resonated deeply with me. Later, that very image would become part of this blog, and I even created a welcome video using a photo taken in that same room - a reminder of where this journey truly began."})]}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("h2",{children:"The Seed of an Idea"}),n.jsxs("div",{className:"aboutImageGrid",children:[n.jsx("img",{src:"/images/about/IMG-20250804-WA0008.jpg",alt:"Peaceful hotel room",className:"aboutImage"}),n.jsx("img",{src:"/images/about/IMG-20250804-WA0009.jpg",alt:"View from the hotel",className:"aboutImage"})]}),n.jsx("p",{children:"Months passed. Life returned to normal, our building was deemed safe, and the immediate drama of that night faded into memory. But something lingered. I had been thinking about rebranding my old blog for a while, searching for a fresh direction, a new voice."}),n.jsx("p",{children:"Then it hit me - that quiet moment in the hotel room, the peaceful end to a chaotic night, the way we often process our thoughts and experiences at the day's end. Most people check blogs, social media, and catch up on content when they're winding down, often already in bed, reflecting on their day."}),n.jsx("p",{className:"aboutHighlight",children:n.jsx("strong",{children:"Bedtime Blog."})}),n.jsx("p",{children:"The name felt perfect. Not just because people often read content before sleep, but because there's something intimate and honest about those quiet moments at the end of the day. That's when we're most ourselves, most reflective, most open to new ideas and perspectives."})]}),n.jsxs("div",{className:"aboutSection",children:[n.jsx("h2",{children:"Building Something New"}),n.jsx("div",{className:"aboutImageContainer",children:n.jsx("img",{src:"/images/about/IMG-20250804-WA0011.jpg",alt:"The journey continues",className:"aboutImageFull"})}),n.jsx("p",{children:"It took time to make everything work. Building a blog from scratch, developing the right tone, creating content that felt authentic - none of it happened overnight. There were technical challenges, creative blocks, and moments of doubt."}),n.jsx("p",{children:"But here we are, sharing something with the world that was born from an unexpected night of displacement and uncertainty. What started as a crisis became a moment of clarity, which became an idea, which became this space where we can connect and share our thoughts as the day winds down."}),n.jsx("p",{children:"Sometimes our best ideas come not from comfort and planning, but from those moments when life takes an unexpected turn and shows us something new about ourselves."}),n.jsx("p",{className:"aboutConclusion",children:"Welcome to the Bedtime Blog - born from fire, nurtured by reflection, and shared with you."})]})]})]})})}function lv(){const[s,a]=j.useState({name:"",email:"",subject:"",message:""}),[o,l]=j.useState(!1),[u,d]=j.useState(null),h=x=>{a({...s,[x.target.name]:x.target.value})},m=async x=>{x.preventDefault(),l(!0),d(null);try{(await fetch(pe.CONTACT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?(d("success"),a({name:"",email:"",subject:"",message:""})):d("error")}catch(g){console.error("Error sending message:",g),d("error")}finally{l(!1)}};return n.jsx("div",{className:"contact",children:n.jsxs("div",{className:"contactWrapper",children:[n.jsxs("div",{className:"contactHeader",children:[n.jsx("h1",{className:"contactTitle",children:"Get In Touch"}),n.jsx("p",{className:"contactSubtitle",children:"Have a question, suggestion, or just want to say hello? We'd love to hear from you. Drop us a message and we'll get back to you as soon as possible."})]}),n.jsxs("div",{className:"contactContent",children:[n.jsxs("div",{className:"contactInfo",children:[n.jsx("h2",{children:"Let's Connect"}),n.jsx("p",{children:"Whether you have feedback about our content, want to collaborate, or have ideas for future posts, your messages are always welcome."}),n.jsxs("div",{className:"contactFeatures",children:[n.jsxs("div",{className:"contactFeature",children:[n.jsx("i",{className:"fa-solid fa-clock"}),n.jsxs("div",{children:[n.jsx("h3",{children:"Quick Response"}),n.jsx("p",{children:"We typically respond within 24 hours"})]})]}),n.jsxs("div",{className:"contactFeature",children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),n.jsxs("div",{children:[n.jsx("h3",{children:"Privacy First"}),n.jsx("p",{children:"Your information is safe and never shared"})]})]}),n.jsxs("div",{className:"contactFeature",children:[n.jsx("i",{className:"fa-solid fa-heart"}),n.jsxs("div",{children:[n.jsx("h3",{children:"Community Driven"}),n.jsx("p",{children:"We value every reader's input and feedback"})]})]})]})]}),n.jsxs("form",{className:"contactForm",onSubmit:m,children:[n.jsxs("div",{className:"formGroup",children:[n.jsx("label",{htmlFor:"name",children:"Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:h,required:!0,placeholder:"Your full name"})]}),n.jsxs("div",{className:"formGroup",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:h,required:!0,placeholder:"your.email@example.com"})]}),n.jsxs("div",{className:"formGroup",children:[n.jsx("label",{htmlFor:"subject",children:"Subject *"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:h,required:!0,placeholder:"What's this about?"})]}),n.jsxs("div",{className:"formGroup",children:[n.jsx("label",{htmlFor:"message",children:"Message *"}),n.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:h,required:!0,rows:"6",placeholder:"Tell us what's on your mind..."})]}),n.jsx("button",{type:"submit",className:"submitButton",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-paper-plane"}),"Send Message"]})}),u==="success"&&n.jsxs("div",{className:"submitMessage success",children:[n.jsx("i",{className:"fa-solid fa-check-circle"}),"Thank you! Your message has been sent successfully. We'll get back to you soon."]}),u==="error"&&n.jsxs("div",{className:"submitMessage error",children:[n.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),"Sorry, there was an error sending your message. Please try again later."]})]})]})]})})}function xl(){const{slug:s}=Dl(),a=cn(),[o,l]=j.useState(null),[u,d]=j.useState(!0),[h,m]=j.useState(""),x=s||a.pathname.replace("/","");j.useEffect(()=>{g()},[x]);const g=async()=>{if(x)try{d(!0);const _=await Yn.getPageBySlug(x);_.success&&_.data?l(_.data):m("Page not found")}catch(_){console.error("Error loading page:",_),m("Failed to load page")}finally{d(!1)}},y=_=>{if(!_)return"";if(typeof _=="string"&&/<[^>]+>/.test(_))return n.jsx("div",{dangerouslySetInnerHTML:{__html:_}});let S;try{S=typeof _=="string"?JSON.parse(_):_}catch{S=null}if(S&&S.root&&S.root.children)return v(S.root);if(S&&S.type==="root"&&S.children)return v(S);if(Array.isArray(S))return v({children:S});const C=(typeof _=="string"?_:"").split(/\n{2,}/),O=[];return C.forEach((T,A)=>{const M=T.trim();if(!M)return;if(/^(Terms of Service|Privacy Policy)$/i.test(M)){O.push(n.jsx("h1",{children:M},A));return}if(/^Last updated:/.test(M)){O.push(n.jsx("p",{className:"last-updated",children:M},A));return}if(/^\d+\.\s+.+/.test(M)){O.push(n.jsx("h2",{children:M},A));return}if(/^[A-Z][A-Za-z ]{3,}$/.test(M)&&M.length<40){O.push(n.jsx("h3",{children:M},A));return}if(/^(- |\* )/m.test(M)){const G=M.split(/\n/).filter(W=>/^(- |\* )/.test(W)).map((W,J)=>n.jsx("li",{children:W.replace(/^(- |\* )/,"")},J));O.push(n.jsx("ul",{children:G},A));return}if(/^(\d+\. )/m.test(M)){const G=M.split(/\n/).filter(W=>/^(\d+\. )/.test(W)).map((W,J)=>n.jsx("li",{children:W.replace(/^(\d+\. )/,"")},J));O.push(n.jsx("ol",{children:G},A));return}const B=M.split(/\n/);O.push(n.jsx("p",{children:B.map((G,W)=>[G,W<B.length-1?n.jsx("br",{},W):null])},A))}),n.jsx("div",{children:O})},v=_=>!_||!_.children?"":n.jsx("div",{className:"lexical-content",children:_.children.map((S,I)=>w(S,I))}),w=(_,S)=>{var I,C,O,T,A,M;if(!_)return null;switch(_.type){case"paragraph":const B=(I=_.children)==null?void 0:I[0];if(B&&B.type==="text"&&B.text){const oe=B.text;if(oe.startsWith("## ")||oe.startsWith("### ")||oe.startsWith("# "))return w(B,S)}return n.jsx("p",{children:(C=_.children)==null?void 0:C.map((oe,xe)=>w(oe,xe))},S);case"heading":const G=`h${_.tag}`;return Ct.createElement(G,{key:S},(O=_.children)==null?void 0:O.map((oe,xe)=>w(oe,xe)));case"text":let W=_.text||"";if(W.startsWith("## "))return n.jsx("h2",{children:W.replace(/^## /,"")},S);if(W.startsWith("### "))return n.jsx("h3",{children:W.replace(/^### /,"")},S);if(W.startsWith("# "))return n.jsx("h1",{children:W.replace(/^# /,"")},S);if(W=W.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),W=W.replace(/\*(.*?)\*/g,"<em>$1</em>"),W.includes("- ")||W.includes("* ")){const oe=W.split(`
`).filter(xe=>xe.trim().startsWith("- ")||xe.trim().startsWith("* "));if(oe.length>0)return n.jsx("ul",{children:oe.map((xe,je)=>n.jsx("li",{dangerouslySetInnerHTML:{__html:xe.replace(/^[- \*] /,"")}},je))},S)}let J=W;if(_.format&&_.format>0)_.format&1&&(J=n.jsx("strong",{children:J},S)),_.format&2&&(J=n.jsx("em",{children:J},S)),_.format&8&&(J=n.jsx("u",{children:J},S));else if(W.includes("<strong>")||W.includes("<em>"))return n.jsx("span",{dangerouslySetInnerHTML:{__html:J}},S);return J;case"list":const se=_.listType==="number"?"ol":"ul";return Ct.createElement(se,{key:S},(T=_.children)==null?void 0:T.map((oe,xe)=>w(oe,xe)));case"listitem":return n.jsx("li",{children:(A=_.children)==null?void 0:A.map((oe,xe)=>w(oe,xe))},S);case"quote":return n.jsx("blockquote",{children:(M=_.children)==null?void 0:M.map((oe,xe)=>w(oe,xe))},S);default:return _.children?n.jsx("div",{children:_.children.map((oe,xe)=>w(oe,xe))},S):null}};return u?n.jsxs("div",{className:"dynamic-page-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading page..."})]}):h?n.jsxs("div",{className:"dynamic-page-error",children:[n.jsx("h1",{children:"Page Not Found"}),n.jsx("p",{children:h})]}):o?n.jsx("div",{className:"dynamic-page",children:n.jsxs("div",{className:"dynamic-page-content",children:[n.jsx("h1",{children:o.title}),o.updated_at&&n.jsxs("p",{className:"last-updated",children:["Last updated: ",new Date(o.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),n.jsx("div",{className:"page-content",children:y(o.content)})]})}):n.jsxs("div",{className:"dynamic-page-error",children:[n.jsx("h1",{children:"Page Not Found"}),n.jsx("p",{children:"The requested page could not be found."})]})}function cv(){const[s]=Ul(),a=Qt(),{loginWithCognito:o}=Jt(),[l,u]=j.useState("processing"),[d,h]=j.useState(null),m=j.useRef(!1);j.useEffect(()=>{(async()=>{if(!m.current){m.current=!0;try{const y=s.get("code"),v=s.get("error");if(v){h(`Authentication failed: ${v}`),u("error");return}if(!y){h("No authorization code received"),u("error");return}const w=await o(y);w.success?(u("success"),a("/")):(h(w.message||"Authentication failed"),u("error"))}catch(y){console.error("Cognito callback error:",y),h("Authentication failed. Please try again."),u("error")}}})()},[s,a,o]);const x=()=>{a("/login")};return l==="processing"?n.jsx("div",{className:"auth-callback",children:n.jsx("div",{className:"auth-callback-container",children:n.jsxs("div",{className:"auth-loading",children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),n.jsx("h2",{children:"Completing Sign In..."}),n.jsx("p",{children:"Please wait while we securely log you in."})]})})}):l==="error"?n.jsx("div",{className:"auth-callback",children:n.jsx("div",{className:"auth-callback-container",children:n.jsxs("div",{className:"auth-error",children:[n.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),n.jsx("h2",{children:"Authentication Failed"}),n.jsx("p",{children:d}),n.jsx("button",{onClick:x,className:"retry-button",children:"Try Again"})]})})}):n.jsx("div",{className:"auth-callback",children:n.jsx("div",{className:"auth-callback-container",children:n.jsxs("div",{className:"auth-success",children:[n.jsx("i",{className:"fa-solid fa-check-circle"}),n.jsx("h2",{children:"Successfully Signed In!"}),n.jsx("p",{children:"Redirecting to homepage..."})]})})})}function uv(){const[s,a]=j.useState({username:"",password:""}),[o,l]=j.useState(""),[u,d]=j.useState(!1),{adminLogin:h,isAdmin:m}=Rt(),x=Qt();j.useEffect(()=>{m&&x("/ops")},[m,x]);const g=async v=>{if(v.preventDefault(),l(""),d(!0),!s.username||!s.password){l("Please enter both username and password"),d(!1);return}try{const w=await h(s);w.success?x("/ops"):l(w.message)}catch{l("Login failed. Please try again.")}finally{d(!1)}},y=v=>{a({...s,[v.target.name]:v.target.value})};return n.jsx("div",{className:"login",children:n.jsxs("div",{className:"login-container",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("i",{className:"fa-solid fa-shield-halved"}),n.jsx("span",{className:"loginTitle",children:"Admin Access"})]}),n.jsxs("form",{className:"loginForm",onSubmit:g,children:[o&&n.jsxs("div",{className:"login-error",children:[n.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),o]}),n.jsxs("div",{className:"login-field",children:[n.jsx("label",{children:"Username"}),n.jsx("input",{type:"text",name:"username",className:"loginInput",placeholder:"Enter admin username",value:s.username,onChange:y,disabled:u})]}),n.jsxs("div",{className:"login-field",children:[n.jsx("label",{children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"loginInput",placeholder:"Enter admin password",value:s.password,onChange:y,disabled:u})]}),n.jsx("button",{type:"submit",className:`loginButton ${u?"loading":""}`,disabled:u,children:u?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Authenticating..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-key"}),"Admin Login"]})})]}),n.jsxs("div",{className:"login-info",children:[n.jsxs("p",{children:[n.jsx("i",{className:"fa-solid fa-info-circle"}),"This is a secure admin area. Only authorized personnel may access."]}),n.jsx("div",{className:"demo-credentials",children:n.jsx("small",{children:"Demo credentials: jcsa025 / admin123"})})]})]})})}const yl=({children:s,requireAdmin:a=!1})=>{const{isAdmin:o,isLoading:l}=Rt();return l?n.jsxs("div",{className:"protected-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Verifying credentials..."})]}):a&&!o?n.jsx("div",{className:"protected-unauthorized",children:n.jsxs("div",{className:"unauthorized-content",children:[n.jsx("div",{className:"unauthorized-icon",children:n.jsx("i",{className:"fa-solid fa-shield-halved"})}),n.jsx("h1",{children:"Restricted Area"}),n.jsx("p",{children:"This is a private administration area restricted to authorized personnel only."}),n.jsxs("div",{className:"unauthorized-details",children:[n.jsx("h3",{children:"Access Requirements:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Valid administrator credentials"}),n.jsx("li",{children:"Proper security clearance"}),n.jsx("li",{children:"System authorization"})]})]}),n.jsxs("div",{className:"unauthorized-actions",children:[n.jsxs("button",{className:"btn-admin-login",onClick:()=>window.location.href="/adminlogin",children:[n.jsx("i",{className:"fa-solid fa-key"}),"Admin Login"]}),n.jsxs("button",{className:"btn-go-home",onClick:()=>window.location.href="/",children:[n.jsx("i",{className:"fa-solid fa-home"}),"Return Home"]})]}),n.jsx("div",{className:"unauthorized-footer",children:n.jsxs("p",{children:[n.jsx("i",{className:"fa-solid fa-info-circle"}),"If you believe you should have access, please contact the system administrator."]})})]})}):s};function dv(){const[s,a]=j.useState(!1);j.useEffect(()=>{localStorage.getItem("cookiesConsent")||a(!0)},[]);const o=()=>{localStorage.setItem("cookiesConsent","accepted"),a(!1)};return n.jsxs("div",{className:"App",children:[s&&n.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#222",color:"#fff",padding:"16px",zIndex:9999,textAlign:"center",boxShadow:"0 -2px 8px rgba(0,0,0,0.15)"},children:[n.jsxs("span",{children:["This website uses cookies to ensure you get the best experience. By continuing to browse, you accept our ",n.jsx("a",{href:"/privacy",style:{color:"#ffd700",textDecoration:"underline"},children:"Privacy Policy"}),"."]}),n.jsx("button",{onClick:o,style:{marginLeft:"16px",padding:"8px 20px",background:"#ffd700",color:"#222",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Accept"})]}),n.jsx(dh,{children:n.jsx(ty,{children:n.jsx(ny,{children:n.jsxs(jg,{children:[n.jsx(Fy,{}),n.jsx(Dy,{}),n.jsxs(fg,{children:[n.jsx(Je,{exact:!0,path:"/",element:n.jsx(hf,{})}),n.jsx(Je,{path:"/category/:categoryName",element:n.jsx(hf,{})}),n.jsx(Je,{path:"/about",element:n.jsx(ov,{})}),n.jsx(Je,{path:"/contact",element:n.jsx(lv,{})}),n.jsx(Je,{path:"/privacy",element:n.jsx(xl,{})}),n.jsx(Je,{path:"/terms",element:n.jsx(xl,{})}),n.jsx(Je,{path:"/register",element:n.jsx(nv,{})}),n.jsx(Je,{path:"/login",element:n.jsx(ev,{})}),n.jsx(Je,{path:"/userlogin",element:n.jsx(tv,{})}),n.jsx(Je,{path:"/auth/callback",element:n.jsx(cv,{})}),n.jsx(Je,{path:"/write",element:n.jsx(My,{})}),n.jsx(Je,{path:"/edit-page",element:n.jsx(yl,{requireAdmin:!0,children:n.jsx(zy,{})})}),n.jsx(Je,{path:"/ops",element:n.jsx(yl,{requireAdmin:!0,children:n.jsx(Yy,{})})}),n.jsx(Je,{path:"/ops/drafts",element:n.jsx(yl,{requireAdmin:!0,children:n.jsx(Xy,{})})}),n.jsx(Je,{path:"/settings",element:n.jsx(Zy,{})}),n.jsx(Je,{path:"/post/:postId",element:n.jsx(Ry,{})}),n.jsx(Je,{path:"/adminlogin",element:n.jsx(uv,{})}),n.jsx(Je,{path:"/page/:slug",element:n.jsx(xl,{})})]}),n.jsx(Uy,{})]})})})})]})}wp.createRoot(document.getElementById("root")).render(n.jsx(Ct.StrictMode,{children:n.jsx(dv,{})}));
